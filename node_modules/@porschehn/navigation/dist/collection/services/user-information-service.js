import { navStateStore } from "../state/nav-state-store";
import { getConfig, getString } from "../utility/helper";
import { NaviError, NaviErrorTypes } from "../utility/navi-error";
import { v4 as uuidv4 } from "uuid";
export async function getUserInformation(accessToken, locale) {
  const config = getConfig(navStateStore.state.env);
  const init = {
    method: 'GET',
    headers: {
      'X-Trace-Id': uuidv4(),
      Authorization: `${accessToken}`,
      Accept: 'application/json',
      Env: navStateStore.state.env
    }
  };
  try {
    const response = await fetch(getString(`${config === null || config === void 0 ? void 0 : config.BFF_ENDPOINT}/user-information?locale=${locale}`), init);
    if (!response.ok) {
      const text = await response.text();
      throw new Error(text);
    }
    return await response.json();
  }
  catch (error) {
    throw new NaviError(`Get User information request failed in Frontend with error: ${error}`, NaviErrorTypes.GENERAL);
  }
}
//# sourceMappingURL=user-information-service.js.map
