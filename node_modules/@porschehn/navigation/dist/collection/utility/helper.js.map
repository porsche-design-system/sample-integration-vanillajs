{"version":3,"file":"helper.js","sourceRoot":"","sources":["../../../src/utility/helper.ts"],"names":[],"mappings":"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","sourcesContent":["import { breakpoint } from '@porsche-design-system/components-js/styles';\nimport configJSON from '../config.json';\nimport { Config } from '../entities/config';\nimport { Environment } from '../entities/environment';\nimport {\n  LOADING_STATUS,\n  LOGGED_IN_USER_NO_NAME_STATUS,\n  LOGGED_OUT_USER_STATUS,\n  NavigationMode,\n  NavigationModeType,\n  NavigationTheme,\n  NavigationThemeType\n} from './constants';\nimport { Content, TMenu } from '../entities/content';\nimport { Application, ApplicationType } from './constants/app';\n\nlet rootElement: HTMLElement | null = null;\n\nexport function getRootElement(): HTMLElement {\n  if (rootElement === null) {\n    throw new Error('No root element present');\n  }\n  return rootElement;\n}\n\nexport function loadRootElement(element: HTMLElement): void {\n  rootElement = element;\n}\nexport function getHTMLElementFromRoot(selector: string): HTMLElement | null {\n  return getRootElement().querySelector(selector);\n}\n\nexport function getConfig(env: Environment): Config {\n  return <Config>configJSON[env];\n}\n\nexport function hasKey<O>(obj: O, key: PropertyKey): key is keyof O {\n  return obj && typeof obj === 'object' && key in obj;\n}\n\nexport function isString(test: unknown): test is string {\n  return typeof test === 'string' && test.length > 0;\n}\n\nexport function getString(test: unknown): string {\n  return typeof test === 'string' ? test : '';\n}\n\n/* istanbul ignore next */\nexport function getHTMLElement(el: unknown): HTMLElement | null {\n  return el instanceof HTMLElement ? el : null;\n}\n\n/* istanbul ignore next */\nexport function focusOnElement(el: unknown): void {\n  getHTMLElement(el)?.focus();\n}\n\n/* istanbul ignore next */\nexport function getHTMLInputElement(el: unknown): HTMLInputElement | null {\n  return el instanceof HTMLInputElement ? el : null;\n}\n\nexport function IsKeyboardClick(e: MouseEvent): boolean {\n  return e.x === 0 && e.y === 0;\n}\n\nexport function IsLoading(loggedInState: string): boolean {\n  return loggedInState === LOADING_STATUS;\n}\n\nexport function IsLoggedOut(loggedInState: string): boolean {\n  return loggedInState === LOGGED_OUT_USER_STATUS;\n}\n\nexport function IsLoggedIn(loggedInState: string): boolean {\n  return !IsLoading(loggedInState) && !IsLoggedOut(loggedInState);\n}\n\nexport function getUsername(loggedInState: string, loggedInText: string): string {\n  return loggedInState === LOGGED_IN_USER_NO_NAME_STATUS ? loggedInText : loggedInState;\n}\n\nexport function getQueryString(params: { [name: string]: string | number | undefined }): string {\n  return Object.entries(params)\n    .filter((entry): entry is [string, string | number] => entry[1] !== undefined)\n    .map(([name, value]) => [name, isString(value) ? value : value.toString()])\n    .map(([name, value]) => `${encodeURIComponent(name)}=${encodeURIComponent(value)}`)\n    .join('&');\n}\n\nexport function constructCacheKey(...args: string[]): string {\n  return args.join('---');\n}\n\nexport function isDesktop(currentBreakpoint: number): boolean {\n  return currentBreakpoint >= breakpoint.s;\n}\n\nexport function getImageSize(currentBreakpoint: number): number {\n  switch (currentBreakpoint) {\n    case breakpoint.xxl:\n    case breakpoint.xl:\n      return 1920;\n    case breakpoint.l:\n      return 1360;\n    case breakpoint.m:\n      return 1024;\n    case breakpoint.s:\n      return 760;\n    case breakpoint.xs:\n      return 390;\n    default:\n      return 320;\n  }\n}\n\nexport function sanitizeMode(mode: NavigationModeType): NavigationModeType {\n  if (!Object.keys(NavigationMode).includes(mode)) {\n    return NavigationMode.navbar;\n  }\n  return mode;\n}\n\nexport function sanitizeTheme(theme: NavigationThemeType): NavigationThemeType {\n  if (!Object.keys(NavigationTheme).includes(theme)) {\n    return NavigationTheme.light;\n  }\n  return theme;\n}\n\nexport function sanitizeApp(app: string): ApplicationType {\n  if (!Object.keys(Application).includes(app)) {\n    return Application.default;\n  }\n  return app as ApplicationType;\n}\n\nexport function constructThemeClass(mode: NavigationModeType, theme: NavigationThemeType): string {\n  const sanitizedMode = sanitizeMode(mode);\n  if (sanitizedMode === NavigationMode.navbar) {\n    return NavigationMode.navbar;\n  }\n\n  const sanitizedTheme = sanitizeTheme(theme);\n  return `${mode}_${sanitizedTheme}`;\n}\n\nexport function isPromise<T>(value: unknown): value is Promise<T> {\n  return (\n    Boolean(value) &&\n    typeof (value as Promise<T>).then === 'function' &&\n    (value as Promise<T>)[Symbol.toStringTag] === 'Promise'\n  );\n}\n\nexport function addQueryParamsToUrl(url: string, params: Record<string, string>): string {\n  return `${url}${url.includes('?') ? '&' : '?'}${getQueryString(params)}`;\n}\n\nexport function getValidContentPathSegments(rootContentItem: TMenu, segments: string[]): string[] {\n  let currentContentItem: TMenu | undefined = rootContentItem;\n\n  const validSegments: string[] = [];\n  for (const segment of segments) {\n    currentContentItem = currentContentItem.children.find((child) => child.id === segment);\n    if (currentContentItem === undefined || currentContentItem === null) {\n      break;\n    }\n    validSegments.push(segment);\n  }\n\n  return validSegments;\n}\n\nexport function getRootMenuItem(content: Content, key: keyof Content): TMenu | null {\n  if (!['vehiclePurchase', 'shop', 'experience', 'services'].includes(key) || content[key] === undefined) {\n    return null;\n  }\n\n  return content[key] as TMenu;\n}\n\nexport function buildRoutingKeyHistoryFromContentPath(segments: string[]): string[] {\n  const routingKeyHistory = [segments[0]];\n  for (let i = 1; i < segments.length; i++) {\n    routingKeyHistory.push(`${routingKeyHistory[i - 1]}/${segments[i]}`);\n  }\n  return routingKeyHistory;\n}\n\nexport function isModelName(text: string): boolean {\n  return ['718', '911', 'Taycan', 'Macan', 'Panamera', 'Cayenne'].includes(text);\n}\n\nexport function isModelFuelTypeGasoline(model: string): boolean {\n  const lowerCase = model.toLowerCase();\n  return ['718', '911', 'macan'].includes(lowerCase);\n}\n\nexport const getRightTheme = (theme: NavigationThemeType, mode: NavigationModeType): string => {\n  if (mode === NavigationMode.transparent || mode === NavigationMode.hero) {\n    return theme;\n  }\n  return 'light';\n};\n\nexport function camelToKebapCase(camelString: string): string {\n  return camelString.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nexport function shallowCopySpecifiedAttributesWithDefault<\n  S extends { [s: string]: unknown } | ArrayLike<unknown>,\n  C extends { [s: string]: unknown } | ArrayLike<unknown>\n>(\n  sourceObject: S,\n  copyObject: C,\n  accessor: (object: S, key: keyof C) => unknown = (object, key) =>\n    (object as Record<string | number | symbol, unknown>)[key]\n): C {\n  return Object.entries(copyObject).reduce((values, [key, value]) => {\n    const valueFromSource = accessor(sourceObject, key as keyof C);\n    if (typeof valueFromSource === 'string') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      values[key as keyof C] = valueFromSource as any;\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      values[key as keyof C] = value as any;\n    }\n    return values;\n  }, {} as C);\n}\n\nexport const dispatchEvent = (\n  from: string,\n  eventName: string,\n  {\n    bubbles,\n    detail,\n    composed,\n    cancelable\n  }: { bubbles?: boolean; cancelable?: boolean; composed?: boolean; detail?: unknown }\n) => {\n  const event = new CustomEvent(eventName, { detail, bubbles, cancelable, composed });\n  const element = getHTMLElementFromRoot(from);\n\n  element?.dispatchEvent(event);\n};\n"]}