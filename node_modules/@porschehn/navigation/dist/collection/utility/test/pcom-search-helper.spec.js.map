{"version":3,"file":"pcom-search-helper.spec.js","sourceRoot":"","sources":["../../../../src/utility/test/pcom-search-helper.spec.ts"],"names":[],"mappings":"AAAA,OAAO,cAAc,MAAM,gCAAgC,CAAC;AAC5D,OAAO,EAAE,aAAa,EAAE,qBAAqB,EAAE,MAAM,uBAAuB,CAAC;AAE7E,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;EAClC,UAAU,CAAC,KAAK,IAAI,EAAE;IACpB,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,0BAA0B,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;EAC/E,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;IACxD,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;IACzE,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EACvC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;IACxD,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;IACxD,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;IACxD,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8CAA8C,EAAE,KAAK,IAAI,EAAE;IAC5D,MAAM,aAAa,GAAG,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EACvC,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;IACtD,MAAM,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACnC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,yCAAyC,CAAC,CAAC;EACjE,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;IACtD,MAAM,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACnC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,qCAAqC,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;IACtD,MAAM,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACnC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,0CAA0C,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;IACtD,MAAM,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACnC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,0CAA0C,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,yDAAyD,EAAE,GAAG,EAAE;IACjE,MAAM,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;IACnC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;EAC1B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import featureToggles from '../../services/feature-toggles';\nimport { getSearchLink, isPcomSearchAvailable } from '../pcom-search-helper';\n\ndescribe('pcom search helper', () => {\n  beforeEach(async () => {\n    jest.spyOn(featureToggles, 'isPcomSearchToggleActive').mockReturnValue(true);\n  });\n\n  it('pcom search should be available in de-DE', async () => {\n    const pcomAvailable = isPcomSearchAvailable('de-DE', 'pcom');\n    expect(pcomAvailable).toEqual(true);\n  });\n\n  it('pcom search should not be available in de-DE outside pcom', async () => {\n    const pcomAvailable = isPcomSearchAvailable('de-DE', 'shop');\n    expect(pcomAvailable).toEqual(false);\n  });\n\n  it('pcom search should be available in en-US', async () => {\n    const pcomAvailable = isPcomSearchAvailable('en-US', 'pcom');\n    expect(pcomAvailable).toEqual(true);\n  });\n\n  it('pcom search should be available in en-CN', async () => {\n    const pcomAvailable = isPcomSearchAvailable('en-CN', 'pcom');\n    expect(pcomAvailable).toEqual(true);\n  });\n\n  it('pcom search should be available in zh-CN', async () => {\n    const pcomAvailable = isPcomSearchAvailable('zh-CN', 'pcom');\n    expect(pcomAvailable).toEqual(true);\n  });\n\n  it('pcom search should not be available in es-MX', async () => {\n    const pcomAvailable = isPcomSearchAvailable('es-MX', 'pcom');\n    expect(pcomAvailable).toEqual(false);\n  });\n\n  it('should return correct redirect url for de-DE', () => {\n    const url = getSearchLink('de-DE');\n    expect(url).toEqual('https://www.porsche.com/germany/search/');\n  });\n\n  it('should return correct redirect url for en-US', () => {\n    const url = getSearchLink('en-US');\n    expect(url).toEqual('https://www.porsche.com/usa/search/');\n  });\n\n  it('should return correct redirect url for en-CN', () => {\n    const url = getSearchLink('en-CN');\n    expect(url).toEqual('https://www.porsche.com/china/en/search/');\n  });\n\n  it('should return correct redirect url for zh-CN', () => {\n    const url = getSearchLink('zh-CN');\n    expect(url).toEqual('https://www.porsche.com/china/zh/search/');\n  });\n\n  it('should return empty search link for unregistered locale', () => {\n    const url = getSearchLink('xx-XX');\n    expect(url).toEqual('');\n  });\n});\n"]}