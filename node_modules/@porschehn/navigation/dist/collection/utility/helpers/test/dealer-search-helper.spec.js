import { getOpeningHours } from "../dealer-search-helper";
import { navContentStore } from "../../../state/nav-content-store";
const openingHoursContent = {
  monday: 'Mon',
  tuesday: 'Tue',
  wednesday: 'Wed',
  thursday: 'Thur',
  friday: 'Fri',
  saturday: 'Sat',
  sunday: 'Sun',
  daily_lunch: 'Daily Lunch'
};
describe('dealer search helper', () => {
  beforeEach(() => {
    navContentStore.state.dealer.openingHours = openingHoursContent;
  });
  describe('getOpeningHours', () => {
    it('Monday to Friday have the same hours and Saturday has different hours', async () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '18:00' },
        { day: 'TUESDAY', open: '08:00', close: '18:00' },
        { day: 'WEDNESDAY', open: '08:00', close: '18:00' },
        { day: 'THURSDAY', open: '08:00', close: '18:00' },
        { day: 'FRIDAY', open: '08:00', close: '18:00' },
        { day: 'SATURDAY', open: '03:00', close: '13:00' }
      ];
      const openingHours = getOpeningHours(openingHoursData);
      expect(openingHours).toEqual('Mon - Fri: 08:00 - 18:00\n' + 'Sat: 03:00 - 13:00');
    });
    it('openingHours content is not available for locale, return empty string', async () => {
      navContentStore.state.dealer.openingHours = null;
      const openingHoursData = [{ day: 'MONDAY', open: '08:00', close: '18:00' }];
      const openingHours = getOpeningHours(openingHoursData);
      expect(openingHours).toEqual('');
    });
    it('Daily Lunch available, Monday to Friday have the same hours and Saturday has different hours', async () => {
      const openingHoursData = [
        { day: 'DAILY_LUNCH', open: '12:00', close: '13:00' },
        { day: 'MONDAY', open: '08:00', close: '18:00' },
        { day: 'TUESDAY', open: '08:00', close: '18:00' },
        { day: 'WEDNESDAY', open: '08:00', close: '18:00' },
        { day: 'THURSDAY', open: '08:00', close: '18:00' },
        { day: 'FRIDAY', open: '08:00', close: '18:00' },
        { day: 'SATURDAY', open: '03:00', close: '13:00' }
      ];
      const openingHours = getOpeningHours(openingHoursData);
      expect(openingHours).toEqual('Mon - Fri: 08:00 - 18:00\nSat: 03:00 - 13:00');
    });
    it('Monday to Friday have the same hours', () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '05:00' },
        { day: 'TUESDAY', open: '08:00', close: '05:00' },
        { day: 'WEDNESDAY', open: '08:00', close: '05:00' },
        { day: 'THURSDAY', open: '08:00', close: '05:00' },
        { day: 'FRIDAY', open: '08:00', close: '05:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Mon - Fri: 08:00 - 05:00');
    });
    it('all days are closed, faulty behavior (empty open & close)', () => {
      const openingHoursData = [{ day: 'MONDAY', open: '', close: '' }];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('');
    });
    it('all days are closed', () => {
      const openingHoursData = [];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('');
    });
    it('only Monday is open, Sunday with wrong data', () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '05:00' },
        { day: 'SUNDAY', open: '', close: '18:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Mon: 08:00 - 05:00');
    });
    it('Monday - Saturday with different times', () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '15:00' },
        { day: 'TUESDAY', open: '09:00', close: '16:00' },
        { day: 'WEDNESDAY', open: '07:00', close: '15:00' },
        { day: 'THURSDAY', open: '09:00', close: '16:00' },
        { day: 'FRIDAY', open: '09:30', close: '16:00' },
        { day: 'SATURDAY', open: '09:00', close: '16:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Mon: 08:00 - 15:00\nTue: 09:00 - 16:00\nWed: 07:00 - 15:00\nThur: 09:00 - 16:00\nFri: 09:30 - 16:00\nSat: 09:00 - 16:00');
    });
    it('Monday - Saturday with different times, and different order received from api', () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '15:00' },
        { day: 'DAILY_LUNCH', open: '12:00', close: '13:00' },
        { day: 'FRIDAY', open: '09:30', close: '16:00' },
        { day: 'WEDNESDAY', open: '07:00', close: '15:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Mon: 08:00 - 15:00\nWed: 07:00 - 15:00\nFri: 09:30 - 16:00');
    });
    it('Saturday & Daily Lunch with same times but not summarized together', () => {
      const openingHoursData = [
        { day: 'DAILY_LUNCH', open: '12:00', close: '13:00' },
        { day: 'SATURDAY', open: '12:00', close: '13:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Sat: 12:00 - 13:00');
    });
    it('Monday - Saturday with different times and US locale for 12 hour time format', () => {
      navContentStore.state.dealer.openingHours = Object.assign(Object.assign({}, openingHoursContent), { timeFormat: 12 });
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '15:00' },
        { day: 'TUESDAY', open: '09:00', close: '16:00' },
        { day: 'WEDNESDAY', open: '07:00', close: '15:00' },
        { day: 'THURSDAY', open: '09:00', close: '16:00' },
        { day: 'FRIDAY', open: '09:30', close: '16:00' },
        { day: 'SATURDAY', open: '09:00', close: '16:00' }
      ];
      const summary = getOpeningHours(openingHoursData);
      expect(summary).toEqual('Mon: 8:00 AM - 3:00 PM\nTue: 9:00 AM - 4:00 PM\nWed: 7:00 AM - 3:00 PM\nThur: 9:00 AM - 4:00 PM\nFri: 9:30 AM - 4:00 PM\nSat: 9:00 AM - 4:00 PM');
    });
    it('Should not summarize if day in between is missing', () => {
      const openingHoursData = [
        { day: 'MONDAY', open: '08:00', close: '18:00' },
        { day: 'TUESDAY', open: '08:00', close: '18:00' },
        { day: 'THURSDAY', open: '08:00', close: '18:00' },
        { day: 'FRIDAY', open: '08:00', close: '18:00' },
        { day: 'SATURDAY', open: '03:00', close: '13:00' }
      ];
      const openingHours = getOpeningHours(openingHoursData);
      expect(openingHours).toEqual('Mon - Tue: 08:00 - 18:00\n' + 'Thur - Fri: 08:00 - 18:00\n' + 'Sat: 03:00 - 13:00');
    });
  });
});
//# sourceMappingURL=dealer-search-helper.spec.js.map
