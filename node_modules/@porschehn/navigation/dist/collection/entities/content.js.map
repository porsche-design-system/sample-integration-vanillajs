{"version":3,"file":"content.js","sourceRoot":"","sources":["../../../src/entities/content.ts"],"names":[],"mappings":"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","sourcesContent":["import { isString } from '../utility/helper';\nimport { AvailableExperiment } from '../utility/constants/ab-testing';\n\nexport type TLink = {\n  id: string;\n  text: string;\n  link: string;\n  icon: string;\n  description: string;\n};\n\nexport type TButton = {\n  id: string;\n  text: string;\n  description: string;\n};\n\nexport type TMenu = {\n  id: string;\n  text: string;\n  link: string;\n  children: TMenu[];\n  experienceName?: AvailableExperiment;\n};\n\nexport type TShopAuthStatus = 'loggedOut' | 'loggedIn' | null;\n\nexport type TShopAdditionalContentMenu = {\n  id: string;\n  link: string;\n  text: string;\n  iconUrl?: string;\n  icon?: string;\n  authStatus?: TShopAuthStatus;\n};\n\nexport type TShopMenu = {\n  id: string;\n  text: string;\n  link: string;\n  cart?: string;\n  wishlist?: TLink | null;\n  children: TMenu[];\n  additionalContent: TShopAdditionalContentMenu[];\n  availableLocales: string[];\n  availableLocalesOnlyForShop: string[];\n  logoLinksToShopLocales: string[];\n};\n\nexport type ShopContentResponse = {\n  menuItems: TMenu[];\n  additionalContent: TShopAdditionalContentMenu[];\n};\n\nexport type TVehiclePurchaseMenu = {\n  id: string;\n  text: string;\n  link: string;\n  children: TMenu[];\n  savedVehicles?: TLink | null;\n};\n\nexport type TCountryRecommender = {\n  statement: string;\n  region: string;\n  language: string;\n  change: TButton;\n};\n\nexport type Models = {\n  text: string;\n  id: string;\n  all: TLink;\n  series: Series[];\n};\n\nexport type Series = {\n  name: string;\n  id: string;\n  all: TLink;\n  image: string;\n  links: TLink[];\n  tags: Tag[];\n  bodyTypes: BodyType[];\n};\n\nexport type BodyType = {\n  id: string;\n  name: string;\n  description: string;\n  image: string;\n  link: string;\n};\n\nexport type Tag = {\n  text: string;\n  icon: string;\n};\n\nexport type Dealer = {\n  id: string;\n  text: string;\n  numberOfDealers: number;\n  search: {\n    id: string;\n    text: string;\n    form: {\n      inputPlaceholder: string;\n      inputDescription: string;\n    };\n    clear: TButton;\n    or: string;\n    geolocation: TButton;\n    dropdown: {\n      province: string;\n      city: string;\n      selectAProvince: string;\n      selectACity: string;\n    };\n    load: string;\n    map: TLink;\n    outboundLink: TLink | null;\n  };\n  details: {\n    id: string;\n    finder: TLink | null;\n    bookService: TLink | null;\n    testDrive: TLink | null;\n    backToSearch: string;\n  };\n  openingHours: OpeningHours | null;\n};\n\nexport type MyPorsche = {\n  id: string;\n  text: string;\n  link: string;\n  loggedInFallback: string; //fallback if user has no name\n  login: TLink;\n  loginText: string;\n  logout: TLink;\n  messages: TLink;\n  more: TLink | null;\n  signup: TLink;\n  signupText: string;\n  links: TLink[];\n  savedSearches: TLink | null;\n  savedVehicles: TLink | null;\n};\n\nexport type Errors = {\n  wrong: string;\n  retry: string;\n  noResults: string;\n  noInput: string;\n  invalidInput: string;\n  geolocationDenied: string;\n};\n\nexport type Content = {\n  menu: TButton;\n  crest: TLink;\n  back: TButton;\n  close: TButton;\n  accessibilityStatement: TLink | null;\n  countryRecommender: TCountryRecommender;\n  contextualButtons: {\n    [buttonName: string]: TButton;\n  };\n  contextualLinks: {\n    [linkName: string]: TLink;\n  };\n  models: Models;\n  dealer: Dealer;\n  myPorsche: MyPorsche | null;\n  vehiclePurchase: TMenu;\n  shop: TShopMenu | null;\n\n  externalShop: TLink | null;\n  experience: TMenu;\n  services: TMenu;\n  legacyMore: TMenu;\n  legacyShop: TMenu;\n  error: Errors;\n  loadingDescription: string;\n  abExperiences?: ContentExperimentDefinition[];\n};\n\nexport type Target = {\n  attribute: string;\n  inverted: string;\n  type: string;\n  value: string;\n};\n\nexport type VariationDefinition = {\n  name: string;\n  percentage: number;\n  children: TMenu[];\n};\n\nexport type ContentExperimentDefinition = {\n  name: string;\n  percentage: number;\n  includedTargets: Target[];\n  excludedTargets: Target[];\n  variations: VariationDefinition[];\n};\n\nexport type OpeningHours = {\n  monday: string;\n  tuesday: string;\n  wednesday: string;\n  thursday: string;\n  friday: string;\n  saturday: string;\n  sunday: string;\n  daily_lunch: string;\n  timeFormat?: number;\n};\n\nconst EMPTY_LINK: TLink = { id: '', text: '', link: '', icon: '', description: '' };\n\nconst EMPTY_BUTTON: TButton = { id: '', text: '', description: '' };\n\nconst EMPTY_COUNTRY_RECOMMENDER: TCountryRecommender = {\n  statement: '',\n  region: '',\n  language: '',\n  change: EMPTY_BUTTON\n};\n\nconst EMPTY_MODELS: Models = {\n  text: '',\n  id: '',\n  all: {\n    id: '',\n    text: '',\n    link: '',\n    icon: '',\n    description: ''\n  },\n  series: []\n};\n\nconst EMPTY_MENU: TMenu = {\n  id: '',\n  text: '',\n  link: '',\n  children: []\n};\n\nexport const EMPTY_SHOP_MENU: TShopMenu = {\n  cart: '',\n  wishlist: null,\n  additionalContent: [],\n  id: '',\n  text: '',\n  link: '',\n  children: [],\n  availableLocales: [],\n  availableLocalesOnlyForShop: [],\n  logoLinksToShopLocales: []\n};\n\nconst EMPTY_MYPORSCHE: MyPorsche = {\n  id: '',\n  text: '',\n  link: '',\n  loggedInFallback: '', //fallback if user has no name\n  login: EMPTY_LINK,\n  loginText: '',\n  logout: EMPTY_LINK,\n  messages: EMPTY_LINK,\n  more: null,\n  signup: EMPTY_LINK,\n  signupText: '',\n  links: [],\n  savedSearches: null,\n  savedVehicles: null\n};\n\nconst EMPTY_DEALER: Dealer = {\n  id: '',\n  text: '',\n  numberOfDealers: 42,\n  search: {\n    id: '',\n    text: '',\n    form: {\n      inputPlaceholder: '',\n      inputDescription: ''\n    },\n    clear: EMPTY_BUTTON,\n    or: '',\n    geolocation: EMPTY_BUTTON,\n    dropdown: {\n      province: '',\n      city: '',\n      selectAProvince: '',\n      selectACity: ''\n    },\n    load: '',\n    map: EMPTY_LINK,\n    outboundLink: EMPTY_LINK\n  },\n  details: {\n    id: '',\n    finder: EMPTY_LINK,\n    bookService: EMPTY_LINK,\n    testDrive: EMPTY_LINK,\n    backToSearch: ''\n  },\n  openingHours: null\n};\n\nconst EMPTY_ERRORS: Errors = {\n  wrong: '',\n  retry: '',\n  noResults: '',\n  noInput: '',\n  invalidInput: '',\n  geolocationDenied: ''\n};\n\nexport const EMPTY_CONTENT: Content = {\n  menu: EMPTY_BUTTON,\n  crest: EMPTY_LINK,\n  back: EMPTY_BUTTON,\n  close: EMPTY_BUTTON,\n  accessibilityStatement: EMPTY_LINK,\n  countryRecommender: EMPTY_COUNTRY_RECOMMENDER,\n  contextualButtons: {},\n  contextualLinks: {},\n  models: EMPTY_MODELS,\n  dealer: EMPTY_DEALER,\n  myPorsche: EMPTY_MYPORSCHE,\n  vehiclePurchase: EMPTY_MENU,\n  shop: EMPTY_SHOP_MENU,\n  externalShop: EMPTY_LINK,\n  experience: EMPTY_MENU,\n  services: EMPTY_MENU,\n  error: EMPTY_ERRORS,\n  loadingDescription: '',\n  legacyMore: EMPTY_MENU,\n  legacyShop: EMPTY_MENU\n} as const;\n\nexport function findMenuItemById(menu: TMenu | null, id: string): TMenu | null {\n  if (!isString(id)) {\n    return null;\n  }\n\n  if (menu !== null) {\n    if (menu.id === id) {\n      return menu;\n    }\n\n    if (!Array.isArray(menu.children)) {\n      return null;\n    }\n\n    for (const child of menu.children) {\n      const foundChild = findMenuItemById(child, id);\n\n      if (foundChild !== null) {\n        return foundChild;\n      }\n    }\n  }\n\n  return null;\n}\n"]}