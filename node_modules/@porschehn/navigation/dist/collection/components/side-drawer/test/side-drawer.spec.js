import { h } from "@stencil/core";
import { newSpecPage } from "@stencil/core/testing";
import { RoutingKeys } from "../../../entities/routing-key";
import { navContentStore } from "../../../state/nav-content-store";
import { mockShopContent, mockShopLinkContent } from "../../../test/test-data";
import { getHTMLElement } from "../../../utility/helper";
import { SideDrawerItem } from "../../side-drawer-item/side-drawer-item";
import { SideDrawer } from "../side-drawer";
describe('side-drawer', () => {
  it('renders the level1 menu', async () => {
    navContentStore.state.shop = mockShopLinkContent;
    const page = await newSpecPage({
      components: [SideDrawer, SideDrawerItem],
      template: () => h("phn-side-drawer", { activeRoutingKey: RoutingKeys.SHOP, locale: "xx-XX" })
    });
    expect(page.root).toMatchInlineSnapshot(`
      <phn-side-drawer>
        <nav>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="models" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="vehicle_purchase" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
          <phn-side-drawer-item>
            <!---->
            <phn-p-link-pure align-label="left" data-id="shop" icon="none" stretch="true">
              <a href="https://shop.porsche.com/de/de-DE" target="_self">
                <div class="body-container phn-align-center phn-flex-row">
                  <div class="text-container">
                    <phn-p-text color="inherit" size="inherit" tag="div" weight="regular">
                      Shop
                    </phn-p-text>
                  </div>
                </div>
              </a>
            </phn-p-link-pure>
          </phn-side-drawer-item>
          <div class="item-highlight"></div>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="services" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="experience" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="find_a_dealer" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
          <phn-side-drawer-item>
            <!---->
            <phn-p-button-pure align-label="left" data-id="my_porsche" icon="arrow-head-right" size="inherit" stretch="true">
              <div class="body-container phn-align-center phn-flex-row">
                <div class="text-container">
                  <phn-p-text color="inherit" size="inherit" tag="div" weight="regular"></phn-p-text>
                </div>
              </div>
            </phn-p-button-pure>
          </phn-side-drawer-item>
        </nav>
      </phn-side-drawer>
    `);
  });
  it('should not emit sideDrawerItemClick event if side-drawer-item is a link', async () => {
    var _a, _b;
    navContentStore.state.shop = mockShopContent;
    const page = await newSpecPage({
      components: [SideDrawer, SideDrawerItem],
      template: () => (h("phn-side-drawer", { activeRoutingKey: `${RoutingKeys.SHOP}/mainmenu.services.accessories`, locale: "xx-XX" }))
    });
    const sideDrawerItemClickSpy = jest.spyOn(page.rootInstance.sideDrawerItemClick, 'emit');
    (_b = getHTMLElement((_a = page.root) === null || _a === void 0 ? void 0 : _a.querySelector('phn-p-link-pure'))) === null || _b === void 0 ? void 0 : _b.click();
    expect(sideDrawerItemClickSpy).toBeCalledTimes(0);
  });
});
//# sourceMappingURL=side-drawer.spec.js.map
