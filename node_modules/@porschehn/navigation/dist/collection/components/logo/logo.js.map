{"version":3,"file":"logo.js","sourceRoot":"","sources":["../../../../src/components/logo/logo.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { ApplicationType } from '../../components';\nimport { TLink, TShopMenu } from '../../entities/content';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { componentsReady } from '@porsche-design-system/components-js';\nimport { navContentStore } from '../../state/nav-content-store';\nimport {\n  ClickElementTypes,\n  EventActions,\n  NavigationMode,\n  NavigationModeType,\n  NavigationTheme,\n  NavigationThemeType\n} from '../../utility/constants';\nimport { getRightTheme, isDesktop, isString } from '../../utility/helper';\nimport { isShopAvailableAndLogoLinksToShop } from '../../utility/helpers/shop-helper';\n\n@Component({\n  tag: 'phn-logo',\n  styleUrl: 'logo.scss',\n  scoped: true\n})\nexport class Logo {\n  @Prop() size!: string;\n  @Prop() locale!: string;\n  @Prop() app!: ApplicationType;\n  @Prop() theme: NavigationThemeType = NavigationTheme.light;\n  @Prop() mode: NavigationModeType = NavigationMode.navbar;\n  @Prop() breakpoint!: number;\n\n  @Event() logoLoaded!: EventEmitter<void>;\n\n  @Element() el!: HTMLPhnLogoElement;\n\n  private sendDataLayerEvent(crest: TLink): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.CREST_CLICK, {\n      componentClick: {\n        clickElementId: crest.id,\n        clickElementName: crest.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: crest.link\n      }\n    });\n  }\n\n  componentWillLoad(): void {\n    componentsReady(this.el) // TR: I believe this first call waits for the phn-logo element to be ready\n      .then(() => componentsReady(this.el)) // TR: Then this second call actually waits for its children (i.e.: phn-p-marque) to be ready\n      .then(() => {\n        this.logoLoaded.emit();\n      });\n  }\n\n  private getLogoLink(locale: string, app: ApplicationType, crest: TLink, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? shop.link : crest.link;\n  }\n\n  private getLogoAriaLabel(locale: string, app: ApplicationType, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? 'Porsche Shop Homepage' : 'Porsche.com Homepage';\n  }\n\n  render(): HTMLPhnLogoElement {\n    const { crest, shop } = navContentStore.state;\n\n    const logoLink = this.getLogoLink(this.locale, this.app, crest, shop);\n    const logoAriaLabel = this.getLogoAriaLabel(this.locale, this.app, shop);\n\n    return isDesktop(this.breakpoint) ? (\n      <phn-p-wordmark\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n        size=\"small\"\n        theme={getRightTheme(this.theme, this.mode)}\n      />\n    ) : (\n      <phn-p-crest\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n      />\n    );\n  }\n}\n"]}