{"version":3,"file":"side-drawer-item.js","sourceRoot":"","sources":["../../../../src/components/side-drawer-item/side-drawer-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { Component, Element, h, Host, Prop } from '@stencil/core';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { ClickElementType, ClickElementTypes, ElementTypes, EventAction, EventActions } from '../../utility/constants';\nimport { isModelName, isString } from '../../utility/helper';\nimport SideDrawerItemText from './side-drawer-item-text';\nimport { navContentStore } from '../../state/nav-content-store';\n\n@Component({\n  tag: 'phn-side-drawer-item',\n  styleUrl: 'side-drawer-item.scss',\n  scoped: true\n})\nexport class SideDrawerItem {\n  @Prop() text!: string;\n  @Prop() analyticsId!: string;\n  @Prop() subtext = '';\n  @Prop() elementId = '';\n  @Prop() link = '';\n  @Prop() iconRight = '';\n  @Prop() datalayerEventAction: EventAction = EventActions.NAVIGATION_CLICK;\n  @Prop() customDatalayerProperties: TDataLayer = {};\n  @Prop() isActive = false;\n  @Prop() hasDoubleDrawerAnimationFinished = false;\n  @Prop() renderSignatures = false;\n\n  @Element() el!: HTMLPhnSideDrawerItemElement;\n\n  private sendDataLayerEvent(clickElementType: ClickElementType, elementId: string): void {\n    globalDataLayerService.pushDataLayerEvent(this.datalayerEventAction, {\n      componentClick: {\n        clickElementId: this.analyticsId,\n        clickElementName: this.text,\n        targetElement: analyticsManager.getModelTargetElement(elementId, this.text),\n        clickElementType,\n        ...(clickElementType === ClickElementTypes.Link ? { targetUrl: this.link } : {})\n      },\n      ...this.customDatalayerProperties,\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(elementId, ElementTypes.sideDrawerItem, true),\n        displayElementName: this.text\n      },\n      ...(this.datalayerEventAction === EventActions.MODEL_RANGE_CLICK\n        ? {\n            car: {\n              modelRangeName: this.text.toLowerCase()\n            }\n          }\n        : {})\n    });\n  }\n\n  private existsSlot(slotName: string): boolean {\n    return this.el.querySelector(`[slot=\"${slotName}\"]`) !== null;\n  }\n\n  render(): HTMLPhnSideDrawerItemElement {\n    const body = (\n      <div class=\"body-container phn-flex-row phn-align-center\">\n        <SideDrawerItemText\n          isActive={false}\n          text={this.text}\n          subtext={this.subtext}\n          renderSignatures={this.renderSignatures}\n        />\n        {this.existsSlot('suffix') ? (\n          <div>\n            <slot name=\"suffix\" />\n          </div>\n        ) : null}\n      </div>\n    );\n\n    if (isString(this.link)) {\n      const externalShop = navContentStore.state.externalShop?.link === this.link;\n\n      return (\n        <phn-p-link-pure\n          icon={isString(this.iconRight) ? this.iconRight : 'none'}\n          align-label=\"left\"\n          stretch=\"true\"\n          data-id={this.elementId}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Link, this.elementId);\n          }}\n        >\n          <a href={this.link} target={externalShop ? '_blank' : '_self'}>\n            {body}\n          </a>\n        </phn-p-link-pure>\n      );\n    }\n\n    return (\n      <Host class={`${this.isActive ? 'active' : ''}`}>\n        <phn-p-button-pure\n          active={this.isActive}\n          class={isModelName(this.text) ? 'models' : ''}\n          size=\"inherit\"\n          stretch=\"true\"\n          data-id={this.elementId}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId);\n          }}\n          aria={{ 'aria-expanded': `${this.isActive ? 'true' : 'false'}` }}\n          icon={'arrow-head-right'}\n          align-label=\"left\"\n        >\n          {body}\n        </phn-p-button-pure>\n      </Host>\n    );\n  }\n}\n"]}