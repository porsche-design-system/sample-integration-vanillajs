{"version":3,"file":"my-porsche-icon-button.js","sourceRoot":"","sources":["../../../../src/components/my-porsche-icon-button/my-porsche-icon-button.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAO,MAAM,eAAe,CAAC;AACrE,OAAO,EAAE,WAAW,EAAE,MAAM,4BAA4B,CAAC;AACzD,OAAO,EACL,iBAAiB,EACjB,YAAY,EACZ,cAAc,EAEd,eAAe,EAEhB,MAAM,yBAAyB,CAAC;AACjC,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AACjE,OAAO,EAAE,aAAa,EAAE,MAAM,6BAA6B,CAAC;AAC5D,OAAO,sBAAsB,MAAM,oDAAoD,CAAC;AAOxF,MAAM,OAAO,mBAAmB;;gBACK,cAAc,CAAC,MAAM;iBACnB,eAAe,CAAC,KAAK;gCAE1B,KAAK;;EAE7B,kBAAkB;IACxB,sBAAsB,CAAC,kBAAkB,CAAC,YAAY,CAAC,uBAAuB,EAAE;MAC9E,cAAc,EAAE;QACd,cAAc,EAAE,WAAW,CAAC,UAAU;QACtC,gBAAgB,EAAE,0BAA0B;QAC5C,gBAAgB,EAAE,iBAAiB,CAAC,MAAM;OAC3C;KACF,CAAC,CAAC;EACL,CAAC;EAED,MAAM;IACJ,MAAM,EAAE,mBAAmB,EAAE,aAAa,EAAE,GAAG,aAAa,CAAC,KAAK,CAAC;IACnE,MAAM,UAAU,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;IAE7C,OAAO,CACL,EAAC,IAAI;MACH,yBACE,IAAI,EAAE,OAAO,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,gBAC/B,MAAM,EACjB,OAAO,EAAC,MAAM,aACL,GAAG,WAAW,CAAC,UAAU,oBAAoB,EACtD,IAAI,EAAC,0EAA0E,kBAClE,kBAAkB,EAC/B,KAAK,EAAE,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,EAC3C,YAAY,EAAE,GAAG,EAAE;UACjB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACnC,CAAC,EACD,YAAY,EAAE,GAAG,EAAE;UACjB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QACpC,CAAC,EACD,OAAO,EAAE,GAAG,EAAE;UACZ,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,GACD;MACD,mBAAmB,GAAG,CAAC,CAAC,CAAC,CAAC,CACzB,YAAM,KAAK,EAAE,uCAAuC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,GAAI,CAC/F,CAAC,CAAC,CAAC,IAAI,CACH,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Prop, State, JSX } from '@stencil/core';\nimport { RoutingKeys } from '../../entities/routing-key';\nimport {\n  ClickElementTypes,\n  EventActions,\n  NavigationMode,\n  NavigationModeType,\n  NavigationTheme,\n  NavigationThemeType\n} from '../../utility/constants';\nimport { getRightTheme, IsLoggedIn } from '../../utility/helper';\nimport { navStateStore } from '../../state/nav-state-store';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\n\n@Component({\n  tag: 'phn-my-porsche-icon-button',\n  styleUrl: 'my-porsche-icon-button.scss',\n  scoped: true\n})\nexport class MyPorscheIconButton {\n  @Prop() mode: NavigationModeType = NavigationMode.navbar;\n  @Prop() theme: NavigationThemeType = NavigationTheme.light;\n\n  @State() isMyPorscheHoveredOn = false;\n\n  private sendDataLayerEvent() {\n    globalDataLayerService.pushDataLayerEvent(EventActions.CONTEXTUAL_BUTTON_CLICK, {\n      componentClick: {\n        clickElementId: RoutingKeys.MY_PORSCHE,\n        clickElementName: 'open the my porsche menu',\n        clickElementType: ClickElementTypes.Button\n      }\n    });\n  }\n\n  render(): JSX.Element {\n    const { unreadMessagesCount, loggedInState } = navStateStore.state;\n    const isLoggedIn = IsLoggedIn(loggedInState);\n\n    return (\n      <Host>\n        <phn-p-button-pure\n          icon={`user${isLoggedIn ? '-filled' : ''}`}\n          hide-label=\"true\"\n          stretch=\"true\"\n          data-id={`${RoutingKeys.MY_PORSCHE}-contextual-button`}\n          aria=\"{ 'aria-haspopup': 'dialog', 'aria-label' : 'open the my porsche menu' }\"\n          data-test-id=\"myporsche-button\"\n          theme={getRightTheme(this.theme, this.mode)}\n          onMouseEnter={() => {\n            this.isMyPorscheHoveredOn = true;\n          }}\n          onMouseLeave={() => {\n            this.isMyPorscheHoveredOn = false;\n          }}\n          onClick={() => {\n            this.sendDataLayerEvent();\n          }}\n        />\n        {unreadMessagesCount > 0 ? (\n          <span class={`myporsche-unread-messages-indicator ${getRightTheme(this.theme, this.mode)}`} />\n        ) : null}\n      </Host>\n    );\n  }\n}\n"]}