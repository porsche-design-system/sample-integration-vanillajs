import animationManager from "../../../services/animations/animation-manager";
import { registerCloseSingleDrawerAnimation, registerOpenSingleDrawerAnimation, registerTransitionNextLevelSingleDrawerAnimation, registerTransitionPreviousLevelSingleDrawerAnimation } from "../single-drawer-animation-sequences";
describe('Single Drawer Animation Sequence', () => {
  let registerAnimationMock;
  beforeEach(() => {
    registerAnimationMock = jest.spyOn(animationManager, 'register');
  });
  it('should register single drawer opening sequence, opening single drawer from right to left', async () => {
    registerOpenSingleDrawerAnimation({ onAnimationStarts: () => null, onAnimationEnds: () => null });
    expect(registerAnimationMock).toHaveBeenCalledWith('openSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            onStart: expect.any(Function),
            elementSelector: 'phn-single-drawer',
            animation: {
              className: 'slide-in-from-left',
              cleanUpAfterAnimation: expect.any(Function)
            }
          },
          {
            elementSelector: 'phn-backdrop',
            animation: {
              className: 'fade-in-animation',
              cleanUpAfterAnimation: expect.any(Function)
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
  it('should register single drawer closing sequence, closing single drawer from right to left', async () => {
    registerCloseSingleDrawerAnimation({ onAnimationStarts: jest.fn(), onAnimationEnds: jest.fn() });
    expect(registerAnimationMock).toHaveBeenCalledWith('closeSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            onStart: expect.any(Function),
            elementSelector: 'phn-single-drawer',
            animation: {
              className: 'slide-out-to-left',
              cleanUpBeforeAnimation: expect.any(Function),
              cleanUpAfterAnimation: expect.any(Function)
            }
          },
          {
            elementSelector: 'phn-backdrop',
            animation: {
              className: 'fade-out-animation',
              cleanUpBeforeAnimation: expect.any(Function)
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
  it('should register transition next level single drawer animation, transitioning the new page from right to left', () => {
    registerTransitionNextLevelSingleDrawerAnimation({
      onAnimationEnds: jest.fn()
    });
    expect(registerAnimationMock).toHaveBeenCalledWith('transitionNextLevelSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            elementSelector: 'phn-single-drawer .drawer.animating',
            animation: {
              className: 'slide-in-from-right-fixed'
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
  it('should register transition previous level single drawer animation, transitioning the old page from left to right', () => {
    registerTransitionPreviousLevelSingleDrawerAnimation({ onAnimationEnds: jest.fn() });
    expect(registerAnimationMock).toHaveBeenCalledWith('transitionPreviousLevelSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            elementSelector: 'phn-single-drawer .drawer.animating',
            animation: {
              className: 'slide-out-to-right-fixed'
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
});
//# sourceMappingURL=single-drawer-animation-sequences.spec.js.map
