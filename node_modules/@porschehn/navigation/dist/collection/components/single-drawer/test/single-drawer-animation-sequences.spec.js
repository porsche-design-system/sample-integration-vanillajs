import animationManager from "../../../services/animations/animation-manager";
import { registerCloseSingleDrawerAnimation, registerOpenSingleDrawerAnimation, registerTransitionNextLevelSingleDrawerAnimation, registerTransitionPreviousLevelSingleDrawerAnimation } from "../single-drawer-animation-sequences";
describe('Single Drawer Animation Sequence', () => {
  let registerAnimationMock;
  beforeEach(() => {
    registerAnimationMock = jest.spyOn(animationManager, 'register');
  });
  it('should register single drawer opening sequence, opening single drawer from right to left', async () => {
    registerOpenSingleDrawerAnimation({ onAnimationStarts: () => null, onAnimationEnds: () => null });
    expect(registerAnimationMock).toHaveBeenCalledWith('openSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            onStart: expect.any(Function),
            elementSelector: 'phn-single-drawer .drawer.animating',
            timingFunction: 'cubicBezierStart',
            animation: {
              name: 'slideInFromLeft',
              duration: 600,
              cleanUpAfterAnimation: true,
              from: -1000
            }
          },
          {
            elementSelector: 'phn-backdrop',
            animation: {
              name: 'fadeInBackdrop',
              duration: 400,
              to: 0.6
            },
            onEnd: expect.any(Function),
            timingFunction: 'cubicBezierStart'
          }
        ]
      ]
    });
  });
  it('should register single drawer closing sequence, closing single drawer from right to left', async () => {
    registerCloseSingleDrawerAnimation({ onAnimationStarts: jest.fn(), onAnimationEnds: jest.fn() });
    expect(registerAnimationMock).toHaveBeenCalledWith('closeSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            onStart: expect.any(Function),
            elementSelector: 'phn-single-drawer .drawer.animating',
            timingFunction: 'cubicBezierEnd',
            animation: {
              name: 'slideOutToLeft',
              duration: 400,
              to: -1000
            }
          },
          {
            elementSelector: 'phn-backdrop',
            animation: {
              name: 'fadeOutBackdrop',
              duration: 400,
              from: 0.6
            },
            onEnd: expect.any(Function),
            timingFunction: 'cubicBezierEnd'
          }
        ]
      ]
    });
  });
  it('should register transition next level single drawer animation, transitioning the new page from right to left', () => {
    registerTransitionNextLevelSingleDrawerAnimation({
      onAnimationEnds: jest.fn()
    });
    expect(registerAnimationMock).toHaveBeenCalledWith('transitionNextLevelSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            elementSelector: 'phn-single-drawer .drawer.animating',
            animation: {
              name: 'slideInFromRightFixed',
              duration: 400,
              timingFunction: 'easeInOutQuad'
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
  it('should register transition previous level single drawer animation, transitioning the old page from left to right', () => {
    registerTransitionPreviousLevelSingleDrawerAnimation({ onAnimationEnds: jest.fn() });
    expect(registerAnimationMock).toHaveBeenCalledWith('transitionPreviousLevelSingleDrawer', {
      currentStepIndex: 0,
      running: false,
      steps: [
        [
          {
            elementSelector: 'phn-single-drawer .drawer.animating',
            animation: {
              name: 'slideOutToRightFixed',
              duration: 400,
              timingFunction: 'easeInOutQuad'
            },
            onEnd: expect.any(Function)
          }
        ]
      ]
    });
  });
});
//# sourceMappingURL=single-drawer-animation-sequences.spec.js.map
