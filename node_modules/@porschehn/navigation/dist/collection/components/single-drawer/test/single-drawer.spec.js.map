{"version":3,"file":"single-drawer.spec.js","sourceRoot":"","sources":["../../../../../src/components/single-drawer/test/single-drawer.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { DealerSearchFormGeolocation } from '../../dealer-search-form-geolocation/dealer-search-form-geolocation';\n\njest.mock('../../../services/maps-service.ts');\n\nimport { h } from '@stencil/core';\nimport { newSpecPage, SpecPage } from '@stencil/core/testing';\nimport { constructRoutingKey, getSeriesRoutingKey, RoutingKeys } from '../../../entities/routing-key';\nimport globalDataLayerService from '../../../services/analytics/global-data-layer-service';\nimport animationManager from '../../../services/animations/animation-manager';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport * as el from '../../../test/element-helpers';\nimport { mockDealerContent, mockShopContent } from '../../../test/test-data';\nimport { AnimationSequences, EventActions } from '../../../utility/constants';\nimport * as helper from '../../../utility/helper';\nimport { AutocompleteSearchField } from '../../autocomplete-search-field/autocomplete-search-field';\nimport { DealerSearchForm } from '../../dealer-search-form/dealer-search-form';\nimport { DrawerHeader } from '../../drawer-header/drawer-header';\nimport { MenuItem } from '../../menu-item/menu-item';\nimport { Menu } from '../../menu/menu';\nimport { Router } from '../../router/router';\nimport { SingleDrawer } from '../single-drawer';\nimport { Backdrop } from '../../backdrop/backdrop';\nimport { DrawerStatusValues } from '../../../utility/constants/app';\nimport { routerStore } from '../../../state/router-store';\n\ndescribe('Single Drawer', () => {\n  const defaultProps = {\n    breakpoint: 0,\n    locale: 'xx-XX',\n    routingKeyHistory: [RoutingKeys.MAIN_MENU],\n    routingKeyPointer: 0\n  };\n\n  const playAnimationOfSlideLeft = async (page: SpecPage) => {\n    await animationManager.play('transitionNextLevelSingleDrawer');\n    await page.waitForChanges();\n    await waitForFocusTimeout();\n  };\n\n  const playAnimationOfSlideRight = async (page: SpecPage) => {\n    await animationManager.play('transitionPreviousLevelSingleDrawer');\n    await page.waitForChanges();\n    await waitForFocusTimeout();\n  };\n\n  const waitForFocusTimeout = async () => {\n    await new Promise((resolve) => {\n      setTimeout(resolve, 0);\n    });\n  };\n\n  describe('snapshot tests', () => {\n    let page: SpecPage;\n\n    beforeEach(async () => {\n      page = await newSpecPage({\n        components: [SingleDrawer],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n\n      if (page.root) animationManager.initialize(page.root);\n\n      jest.spyOn(page.rootInstance.focusTimeout, 'set').mockImplementation((cb: unknown) => {\n        if (typeof cb === 'function') {\n          cb();\n        }\n      });\n    });\n\n    it('renders the animation drawer and starts opening', async () => {\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"animating drawer\" style=\"right: -100%;\">\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"mainmenu\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n    });\n\n    it('once the drawer is open and the animation is complete, it should still show mainmenu', async () => {\n      await playAnimationOfSlideLeft(page);\n\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"mainmenu\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n    });\n\n    it.skip('should complete animation of car series model overview when one model item in mainmenu is clicked', async () => {\n      // given\n      await playAnimationOfSlideLeft(page);\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, getSeriesRoutingKey('mainmenu.718')];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n\n      // then\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n          <div class=\"animating drawer opening\">\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" showbackbutton=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"series/mainmenu.718\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n\n      // when\n      await playAnimationOfSlideLeft(page);\n\n      // then\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" showbackbutton=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"series/mainmenu.718\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n    });\n\n    it.skip('should move backwards from car series model overview to the drawer level1 when back button is clicked', async () => {\n      // given\n      await playAnimationOfSlideLeft(page);\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, getSeriesRoutingKey('mainmenu.718')];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await playAnimationOfSlideLeft(page);\n\n      if (page.root !== undefined) {\n        page.root.routingKeyPointer = 0;\n      }\n\n      // await page.waitForChanges();\n\n      // then\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n          <div class=\"animating closing drawer\">\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" showbackbutton=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"series/mainmenu.718\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n\n      // when\n      await playAnimationOfSlideRight(page);\n\n      // then\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"menu-drawer-content\">\n              <phn-drawer-header backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n    });\n\n    it('should begin close drawer animation when close button is clicked', async () => {\n      // given\n      await playAnimationOfSlideLeft(page);\n      page.rootInstance.drawerClosed.emit = jest.fn();\n\n      if (page.root !== undefined) {\n        page.root.routingKeyPointer = -1;\n      }\n\n      await page.waitForChanges();\n\n      // then\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"animating drawer\">\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"mainmenu\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"mainmenu\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n    });\n\n    it('should stop menu-item click event propagating while animation is running and user click on a button', async () => {\n      const event = new MouseEvent('mouseUp');\n\n      const propagationMock = jest.spyOn(event, 'stopPropagation');\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.SHOP];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n\n      const promise = playAnimationOfSlideLeft(page);\n      page.rootInstance.handleMobileMenuItemClick(event);\n\n      await page.waitForChanges();\n\n      expect(propagationMock).toBeCalledTimes(1);\n\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"shop\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\" showbackbutton=\"\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"shop\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n\n      await promise;\n    });\n\n    it('should stop menu-item click event propagating while animation is running and the user close drawer', async () => {\n      const event = new MouseEvent('click');\n\n      const propagationMock = jest.spyOn(event, 'stopPropagation');\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.SHOP];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n\n      const promise = playAnimationOfSlideLeft(page);\n      page.rootInstance.handleClickDrawerHeaderClose(event);\n\n      await page.waitForChanges();\n\n      expect(propagationMock).toBeCalledTimes(1);\n\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"shop\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\" showbackbutton=\"\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"shop\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n\n      await promise;\n    });\n\n    it('should stop menu-item click event propagating while animation is running and the user click back on the drawer', async () => {\n      const event = new MouseEvent('click');\n\n      const propagationMock = jest.spyOn(event, 'stopPropagation');\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.SHOP];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n\n      const promise = playAnimationOfSlideLeft(page);\n      page.rootInstance.handleClickDrawerHeaderBack(event);\n\n      await page.waitForChanges();\n\n      expect(propagationMock).toBeCalledTimes(1);\n\n      expect(page.root).toMatchInlineSnapshot(`\n        <phn-single-drawer>\n          <div class=\"active drawer\">\n            <span aria-hidden=\"true\" class=\"first-focus\" tabindex=\"-1\"></span>\n            <div class=\"bottom-gradient\"></div>\n            <div class=\"drawer-content\">\n              <phn-drawer-header activeroutingkey=\"shop\" backbuttonanalyticsid=\"\" backbuttontext=\"\" breakpoint=\"0\" locale=\"xx-XX\" showbackbutton=\"\"></phn-drawer-header>\n              <phn-router activeroutingkey=\"shop\" breakpoint=\"0\" locale=\"xx-XX\"></phn-router>\n            </div>\n          </div>\n        </phn-single-drawer>\n      `);\n\n      await promise;\n    });\n  });\n\n  describe('mouse navigation', () => {\n    let page: SpecPage;\n\n    beforeEach(async () => {\n      page = await newSpecPage({\n        components: [SingleDrawer],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      jest.spyOn(page.rootInstance.focusTimeout, 'set').mockImplementation((cb: unknown) => {\n        if (typeof cb === 'function') {\n          cb();\n        }\n      });\n    });\n\n    it('closes menu when clicking off drawer', async () => {\n      // given\n      await playAnimationOfSlideLeft(page);\n      const body = helper.getHTMLElement(page.root?.querySelector('body'));\n\n      // when\n      body?.click();\n      await page.waitForChanges();\n\n      // then\n      expect(page.rootInstance.routingKeyHistory).toEqual([RoutingKeys.MAIN_MENU]);\n      expect(page.rootInstance.animatingPointer).toEqual(0);\n      expect(page.rootInstance.routingKeyPointer).toEqual(0);\n      expect(page.rootInstance.usingKeyboard).toBeFalsy();\n    });\n\n    it('closes menu when clicking off drawer but drawer is not completely open', async () => {\n      // given\n      const body = helper.getHTMLElement(page.root?.querySelector('body'));\n\n      // when\n      body?.click();\n      await page.waitForChanges();\n\n      // then\n      expect(page.rootInstance.routingKeyHistory).toEqual([RoutingKeys.MAIN_MENU]);\n      expect(page.rootInstance.animatingPointer).toEqual(-1);\n      expect(page.rootInstance.routingKeyPointer).toEqual(0);\n      expect(page.rootInstance.usingKeyboard).toBeFalsy();\n    });\n  });\n\n  describe('keyboard navigation', () => {\n    it('focuses on the first focusable element when user is at the last focusable element and presses tab', async () => {\n      // given\n      const page = await newSpecPage({\n        components: [SingleDrawer, Router, DrawerHeader],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      await playAnimationOfSlideLeft(page);\n\n      expect(helper.focusOnElement).toBeCalledTimes(1);\n      expect(helper.focusOnElement).toBeCalledWith(page.root?.querySelector('.first-focus'));\n\n      const activeDrawer = helper.getHTMLElement(page.root?.querySelector('.active'));\n      const firstFocussable = el.getFirstFocusable(activeDrawer);\n      const lastFocussable = el.getLastFocusable(activeDrawer);\n\n      // when\n      el.tabKeyDown(lastFocussable);\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(2);\n      expect(helper.focusOnElement).toBeCalledWith(firstFocussable);\n    });\n\n    it('focusses on the last focusable element when user is at the first focusable element and presses shift+tab', async () => {\n      // given\n      const page = await newSpecPage({\n        components: [SingleDrawer, Router, DrawerHeader],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      await playAnimationOfSlideLeft(page);\n\n      expect(helper.focusOnElement).toBeCalledTimes(1);\n      expect(helper.focusOnElement).toBeCalledWith(page.root?.querySelector('.first-focus'));\n\n      const activeDrawer = helper.getHTMLElement(page.root?.querySelector('.active'));\n      const firstFocussable = el.getFirstFocusable(activeDrawer);\n      const lastFocussable = el.getLastFocusable(activeDrawer);\n\n      // when\n      el.tabKeyDown(firstFocussable, true);\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(2);\n      expect(helper.focusOnElement).toBeCalledWith(lastFocussable);\n    });\n\n    it('focusses on the first focusable element when user is using keyboard and opens a new drawer', async () => {\n      // given\n      const page = await newSpecPage({\n        components: [SingleDrawer, Router, DrawerHeader],\n        template: () => <phn-single-drawer {...defaultProps} usingKeyboard />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      await playAnimationOfSlideLeft(page);\n\n      const activeDrawer = helper.getHTMLElement(page.root?.querySelector('.active'));\n      const firstFocussable = el.getFirstFocusable(activeDrawer);\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(1);\n      expect(helper.focusOnElement).toBeCalledWith(firstFocussable);\n    });\n\n    it('focusses on the first autofocussable element when user is opening a drawer which contains an autofocussable element with keyboard', async () => {\n      const dealer = mockDealerContent;\n      navContentStore.state.dealer = dealer;\n\n      // given\n      const page = await newSpecPage({\n        components: [\n          SingleDrawer,\n          Router,\n          DrawerHeader,\n          DealerSearchForm,\n          AutocompleteSearchField,\n          DealerSearchFormGeolocation\n        ],\n        template: () => <phn-single-drawer {...defaultProps} usingKeyboard />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      await playAnimationOfSlideLeft(page);\n\n      expect(helper.focusOnElement).toBeCalledTimes(1);\n      expect(helper.focusOnElement).toBeCalledWith(page.root?.querySelector('.close-button'));\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.DEALER_SEARCH];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n      await playAnimationOfSlideLeft(page);\n\n      const autofocusElement = helper.getHTMLElement(page.root?.querySelector('.autofocus'));\n      el.tabKeyDown(autofocusElement);\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(2);\n      expect(helper.focusOnElement).toBeCalledWith(autofocusElement);\n    });\n\n    it('focusses on the previously-clicked element when user is using keyboard and clicks the back button', async () => {\n      // given\n      navContentStore.state.shop = mockShopContent;\n\n      const page = await newSpecPage({\n        components: [SingleDrawer, Router, DrawerHeader, Menu, MenuItem],\n        template: () => <phn-single-drawer {...defaultProps} usingKeyboard />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      jest.spyOn(page.rootInstance.focusTimeout, 'set').mockImplementation((cb: unknown) => {\n        if (typeof cb === 'function') {\n          cb();\n        }\n      });\n\n      await playAnimationOfSlideLeft(page);\n      await page.waitForChanges();\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.SHOP];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await playAnimationOfSlideLeft(page);\n      await page.waitForChanges();\n\n      expect(helper.focusOnElement).toBeCalledTimes(2);\n      expect(helper.focusOnElement).toHaveBeenLastCalledWith(page.root?.querySelector('.back-button'));\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [\n          RoutingKeys.MAIN_MENU,\n          RoutingKeys.SHOP,\n          constructRoutingKey(RoutingKeys.SHOP, mockShopContent.children[0].id)\n        ];\n        page.root.routingKeyPointer = 2;\n      }\n\n      await playAnimationOfSlideLeft(page);\n      await page.waitForChanges();\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(3);\n      expect(helper.focusOnElement).toHaveBeenLastCalledWith(page.root?.querySelector('.back-button'));\n\n      // when\n      if (page.root !== undefined) {\n        page.root.routingKeyPointer = 1;\n      }\n\n      await playAnimationOfSlideRight(page);\n      await page.waitForChanges();\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(4);\n      expect(helper.focusOnElement).toHaveBeenLastCalledWith(\n        page.root?.querySelector(\n          `.active [data-id=\"${constructRoutingKey(RoutingKeys.SHOP, mockShopContent.children[0].id)}\"]`\n        )\n      );\n    });\n\n    it('focusses on the first autofocussable element when user is opening a drawer which contains an autofocussable element with mouse click', async () => {\n      const dealer = mockDealerContent;\n      navContentStore.state.dealer = dealer;\n\n      // given\n      const page = await newSpecPage({\n        components: [\n          SingleDrawer,\n          Router,\n          DrawerHeader,\n          DealerSearchForm,\n          AutocompleteSearchField,\n          DealerSearchFormGeolocation\n        ],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      await playAnimationOfSlideLeft(page);\n\n      expect(helper.focusOnElement).toBeCalledTimes(1);\n      expect(helper.focusOnElement).toBeCalledWith(page.root?.querySelector('.first-focus'));\n\n      if (page.root !== undefined) {\n        page.root.routingKeyHistory = [RoutingKeys.MAIN_MENU, RoutingKeys.DEALER_SEARCH];\n        page.root.routingKeyPointer = 1;\n      }\n\n      await page.waitForChanges();\n      await playAnimationOfSlideLeft(page);\n\n      // then\n      expect(helper.focusOnElement).toBeCalledTimes(2);\n      expect(helper.focusOnElement).toBeCalledWith(page.root?.querySelector('.autofocus'));\n    });\n  });\n\n  describe('data analytics', () => {\n    it('should send data event after single drawer is loaded', async () => {\n      routerStore.state.routingKeyHistory = ['mainmenu', 'models'];\n      routerStore.state.routingKeyPointer = 1;\n\n      const page = await newSpecPage({\n        components: [SingleDrawer],\n        template: () => (\n          <phn-single-drawer {...defaultProps} routingKeyHistory={['mainmenu', 'models']} routingKeyPointer={1} />\n        )\n      });\n      if (page.root) animationManager.initialize(page.root);\n\n      page.rootInstance.onTransitionEnd();\n\n      await page.waitForChanges();\n      await waitForFocusTimeout();\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.DRAWER_LOAD);\n      expect(event.componentDisplay).toEqual({\n        displayElementType: 'level2_single-drawer',\n        displayElementId: 'level2-models',\n        displayElementName: 'Single Drawer'\n      });\n    });\n  });\n\n  describe('phnDrawerStatus event', () => {\n    let page: SpecPage;\n\n    beforeEach(async () => {\n      page = await newSpecPage({\n        components: [SingleDrawer, Backdrop],\n        template: () => <phn-single-drawer {...defaultProps} />\n      });\n\n      if (page.root) animationManager.initialize(page.root);\n\n      jest.spyOn(page.rootInstance.focusTimeout, 'set').mockImplementation((cb: unknown) => {\n        if (typeof cb === 'function') {\n          cb();\n        }\n      });\n    });\n\n    it('should dispatch phnDrawerStatus event with correct status when double drawer starts opening', async () => {\n      const phnDrawerStatusEvent = jest.spyOn(page.rootInstance.phnDrawerStatus, 'emit');\n\n      await animationManager.play(AnimationSequences.OPEN_SINGLE_DRAWER);\n\n      expect(phnDrawerStatusEvent).toHaveBeenCalled();\n      expect(phnDrawerStatusEvent).toHaveBeenCalledWith({ status: DrawerStatusValues.startOpening });\n    });\n\n    it('should dispatch phnDrawerStatus event with correct status when double drawer finishes opening', async () => {\n      const phnDrawerStatusEvent = jest.spyOn(page.rootInstance.phnDrawerStatus, 'emit');\n\n      await animationManager.play(AnimationSequences.OPEN_SINGLE_DRAWER);\n\n      expect(phnDrawerStatusEvent).toHaveBeenCalled();\n      expect(phnDrawerStatusEvent).toHaveBeenCalledWith({ status: DrawerStatusValues.finishOpening });\n    });\n\n    it('should dispatch phnDrawerStatus event with correct status when double drawer starts closing', async () => {\n      const phnDrawerStatusEvent = jest.spyOn(page.rootInstance.phnDrawerStatus, 'emit');\n\n      await animationManager.play(AnimationSequences.CLOSE_SINGLE_DRAWER);\n\n      expect(phnDrawerStatusEvent).toHaveBeenCalled();\n      expect(phnDrawerStatusEvent).toHaveBeenCalledWith({ status: DrawerStatusValues.startClosing });\n    });\n\n    it('should dispatch phnDrawerStatus event with correct status when double drawer finishes closing', async () => {\n      const phnDrawerStatusEvent = jest.spyOn(page.rootInstance.phnDrawerStatus, 'emit');\n\n      await animationManager.play(AnimationSequences.CLOSE_SINGLE_DRAWER);\n\n      expect(phnDrawerStatusEvent).toHaveBeenCalled();\n      expect(phnDrawerStatusEvent).toHaveBeenCalledWith({ status: DrawerStatusValues.finishClosing });\n    });\n  });\n});\n"]}