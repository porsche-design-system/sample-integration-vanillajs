{"version":3,"file":"single-drawer-animation-sequences.spec.js","sourceRoot":"","sources":["../../../../../src/components/single-drawer/test/single-drawer-animation-sequences.spec.tsx"],"names":[],"mappings":"AAAA,OAAO,gBAAgB,MAAM,gDAAgD,CAAC;AAC9E,OAAO,EACL,kCAAkC,EAClC,iCAAiC,EACjC,gDAAgD,EAChD,oDAAoD,EACrD,MAAM,sCAAsC,CAAC;AAE9C,QAAQ,CAAC,kCAAkC,EAAE,GAAG,EAAE;EAChD,IAAI,qBAAuC,CAAC;EAE5C,UAAU,CAAC,GAAG,EAAE;IACd,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0FAA0F,EAAE,KAAK,IAAI,EAAE;IACxG,iCAAiC,CAAC,EAAE,iBAAiB,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,eAAe,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;IAElG,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,kBAAkB,EAAE;MACrE,gBAAgB,EAAE,CAAC;MACnB,OAAO,EAAE,KAAK;MACd,KAAK,EAAE;QACL;UACE;YACE,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC7B,eAAe,EAAE,qCAAqC;YACtD,cAAc,EAAE,kBAAkB;YAClC,SAAS,EAAE;cACT,IAAI,EAAE,iBAAiB;cACvB,QAAQ,EAAE,GAAG;cACb,qBAAqB,EAAE,IAAI;cAC3B,IAAI,EAAE,CAAC,IAAI;aACZ;WACF;UACD;YACE,eAAe,EAAE,cAAc;YAC/B,SAAS,EAAE;cACT,IAAI,EAAE,gBAAgB;cACtB,QAAQ,EAAE,GAAG;cACb,EAAE,EAAE,GAAG;aACR;YACD,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC3B,cAAc,EAAE,kBAAkB;WACnC;SACF;OACF;KACF,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,0FAA0F,EAAE,KAAK,IAAI,EAAE;IACxG,kCAAkC,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAEjG,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,mBAAmB,EAAE;MACtE,gBAAgB,EAAE,CAAC;MACnB,OAAO,EAAE,KAAK;MACd,KAAK,EAAE;QACL;UACE;YACE,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC7B,eAAe,EAAE,qCAAqC;YACtD,cAAc,EAAE,gBAAgB;YAChC,SAAS,EAAE;cACT,IAAI,EAAE,gBAAgB;cACtB,QAAQ,EAAE,GAAG;cACb,EAAE,EAAE,CAAC,IAAI;aACV;WACF;UACD;YACE,eAAe,EAAE,cAAc;YAC/B,SAAS,EAAE;cACT,IAAI,EAAE,iBAAiB;cACvB,QAAQ,EAAE,GAAG;cACb,IAAI,EAAE,GAAG;aACV;YACD,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC3B,cAAc,EAAE,gBAAgB;WACjC;SACF;OACF;KACF,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8GAA8G,EAAE,GAAG,EAAE;IACtH,gDAAgD,CAAC;MAC/C,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE;KAC3B,CAAC,CAAC;IAEH,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,iCAAiC,EAAE;MACpF,gBAAgB,EAAE,CAAC;MACnB,OAAO,EAAE,KAAK;MACd,KAAK,EAAE;QACL;UACE;YACE,eAAe,EAAE,qCAAqC;YACtD,SAAS,EAAE;cACT,IAAI,EAAE,uBAAuB;cAC7B,QAAQ,EAAE,GAAG;cACb,cAAc,EAAE,eAAe;aAChC;YACD,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;WAC5B;SACF;OACF;KACF,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,kHAAkH,EAAE,GAAG,EAAE;IAC1H,oDAAoD,CAAC,EAAE,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAErF,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,qCAAqC,EAAE;MACxF,gBAAgB,EAAE,CAAC;MACnB,OAAO,EAAE,KAAK;MACd,KAAK,EAAE;QACL;UACE;YACE,eAAe,EAAE,qCAAqC;YACtD,SAAS,EAAE;cACT,IAAI,EAAE,sBAAsB;cAC5B,QAAQ,EAAE,GAAG;cACb,cAAc,EAAE,eAAe;aAChC;YACD,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;WAC5B;SACF;OACF;KACF,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import animationManager from '../../../services/animations/animation-manager';\nimport {\n  registerCloseSingleDrawerAnimation,\n  registerOpenSingleDrawerAnimation,\n  registerTransitionNextLevelSingleDrawerAnimation,\n  registerTransitionPreviousLevelSingleDrawerAnimation\n} from '../single-drawer-animation-sequences';\n\ndescribe('Single Drawer Animation Sequence', () => {\n  let registerAnimationMock: jest.SpyInstance;\n\n  beforeEach(() => {\n    registerAnimationMock = jest.spyOn(animationManager, 'register');\n  });\n\n  it('should register single drawer opening sequence, opening single drawer from right to left', async () => {\n    registerOpenSingleDrawerAnimation({ onAnimationStarts: () => null, onAnimationEnds: () => null });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('openSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            onStart: expect.any(Function),\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            timingFunction: 'cubicBezierStart',\n            animation: {\n              name: 'slideInFromLeft',\n              duration: 600,\n              cleanUpAfterAnimation: true,\n              from: -1000\n            }\n          },\n          {\n            elementSelector: 'phn-backdrop',\n            animation: {\n              name: 'fadeInBackdrop',\n              duration: 400,\n              to: 0.6\n            },\n            onEnd: expect.any(Function),\n            timingFunction: 'cubicBezierStart'\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register single drawer closing sequence, closing single drawer from right to left', async () => {\n    registerCloseSingleDrawerAnimation({ onAnimationStarts: jest.fn(), onAnimationEnds: jest.fn() });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('closeSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            onStart: expect.any(Function),\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            timingFunction: 'cubicBezierEnd',\n            animation: {\n              name: 'slideOutToLeft',\n              duration: 400,\n              to: -1000\n            }\n          },\n          {\n            elementSelector: 'phn-backdrop',\n            animation: {\n              name: 'fadeOutBackdrop',\n              duration: 400,\n              from: 0.6\n            },\n            onEnd: expect.any(Function),\n            timingFunction: 'cubicBezierEnd'\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register transition next level single drawer animation, transitioning the new page from right to left', () => {\n    registerTransitionNextLevelSingleDrawerAnimation({\n      onAnimationEnds: jest.fn()\n    });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('transitionNextLevelSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            animation: {\n              name: 'slideInFromRightFixed',\n              duration: 400,\n              timingFunction: 'easeInOutQuad'\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register transition previous level single drawer animation, transitioning the old page from left to right', () => {\n    registerTransitionPreviousLevelSingleDrawerAnimation({ onAnimationEnds: jest.fn() });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('transitionPreviousLevelSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            animation: {\n              name: 'slideOutToRightFixed',\n              duration: 400,\n              timingFunction: 'easeInOutQuad'\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n});\n"]}