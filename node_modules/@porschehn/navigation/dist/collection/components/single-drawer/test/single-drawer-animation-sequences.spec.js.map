{"version":3,"file":"single-drawer-animation-sequences.spec.js","sourceRoot":"","sources":["../../../../../src/components/single-drawer/test/single-drawer-animation-sequences.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import animationManager from '../../../services/animations/animation-manager';\nimport {\n  registerCloseSingleDrawerAnimation,\n  registerOpenSingleDrawerAnimation,\n  registerTransitionNextLevelSingleDrawerAnimation,\n  registerTransitionPreviousLevelSingleDrawerAnimation\n} from '../single-drawer-animation-sequences';\n\ndescribe('Single Drawer Animation Sequence', () => {\n  let registerAnimationMock: jest.SpyInstance;\n\n  beforeEach(() => {\n    registerAnimationMock = jest.spyOn(animationManager, 'register');\n  });\n\n  it('should register single drawer opening sequence, opening single drawer from right to left', async () => {\n    registerOpenSingleDrawerAnimation({ onAnimationStarts: () => null, onAnimationEnds: () => null });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('openSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            onStart: expect.any(Function),\n            elementSelector: 'phn-single-drawer',\n            animation: {\n              className: 'slide-in-from-left',\n              cleanUpAfterAnimation: expect.any(Function)\n            }\n          },\n          {\n            elementSelector: 'phn-backdrop',\n            animation: {\n              className: 'fade-in-animation',\n              cleanUpAfterAnimation: expect.any(Function)\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register single drawer closing sequence, closing single drawer from right to left', async () => {\n    registerCloseSingleDrawerAnimation({ onAnimationStarts: jest.fn(), onAnimationEnds: jest.fn() });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('closeSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            onStart: expect.any(Function),\n            elementSelector: 'phn-single-drawer',\n            animation: {\n              className: 'slide-out-to-left',\n              cleanUpBeforeAnimation: expect.any(Function),\n              cleanUpAfterAnimation: expect.any(Function)\n            }\n          },\n          {\n            elementSelector: 'phn-backdrop',\n            animation: {\n              className: 'fade-out-animation',\n              cleanUpBeforeAnimation: expect.any(Function)\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register transition next level single drawer animation, transitioning the new page from right to left', () => {\n    registerTransitionNextLevelSingleDrawerAnimation({\n      onAnimationEnds: jest.fn()\n    });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('transitionNextLevelSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            animation: {\n              className: 'slide-in-from-right-fixed'\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n\n  it('should register transition previous level single drawer animation, transitioning the old page from left to right', () => {\n    registerTransitionPreviousLevelSingleDrawerAnimation({ onAnimationEnds: jest.fn() });\n\n    expect(registerAnimationMock).toHaveBeenCalledWith('transitionPreviousLevelSingleDrawer', {\n      currentStepIndex: 0,\n      running: false,\n      steps: [\n        [\n          {\n            elementSelector: 'phn-single-drawer .drawer.animating',\n            animation: {\n              className: 'slide-out-to-right-fixed'\n            },\n            onEnd: expect.any(Function)\n          }\n        ]\n      ]\n    });\n  });\n});\n"]}