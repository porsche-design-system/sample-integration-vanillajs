{"version":3,"file":"dealer-details-drawer.js","sourceRoot":"","sources":["../../../../src/components/dealer-details-drawer/dealer-details-drawer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, Fragment, h, Host, Prop, State } from '@stencil/core';\nimport { splitLocale } from '../../entities/locale';\nimport { getDealerDetailsRoutingKey } from '../../entities/routing-key';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { DEALER_SEARCH_DISPLAY_ELEMENT_ID, EventAction, EventActions, MenuItemVariant } from '../../utility/constants';\nimport { addQueryParamsToUrl, isDesktop, isString } from '../../utility/helper';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { PPNDealer } from '../../entities/dealer-response';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { getOpeningHours, sanitizeDealerHomepage } from '../../utility/helpers/dealer-search-helper';\nimport featureToggles from '../../services/feature-toggles';\n\n@Component({\n  tag: 'phn-dealer-details-drawer',\n  styleUrl: 'dealer-details-drawer.scss',\n  scoped: true\n})\nexport class DealerDetailsDrawer {\n  @Prop() dealerId!: string;\n  @Prop() locale!: string;\n  @Prop() breakpoint!: number;\n\n  @State() errorMessage = '';\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnDealerDetailsDrawerElement;\n\n  @Event() clickDrawerHeaderBack!: EventEmitter<void>;\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  componentDidLoad(): void {\n    const dealer = this.getDealer();\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_DETAILS_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.getDealerResultsLoadDisplayElementId(DEALER_SEARCH_DISPLAY_ELEMENT_ID),\n        displayElementType: analyticsManager.getDealerResultsLoadDisplayElementType(),\n        displayElementName: dealer?.name\n      },\n      componentSearch: {\n        searchTerm: dealerSearchResultsStore.state.searchTerm\n      },\n      partner: {\n        companyName: dealer?.name,\n        companyId: dealer?.porschePartnerNo\n      }\n    });\n  }\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = false;\n  }\n\n  private getDealer(): PPNDealer {\n    const { ppnDealer: dealer } = dealerSearchResultsStore.state.ppnDealers[this.dealerId] || {};\n\n    return dealer;\n  }\n\n  private renderHeading(name: string): HTMLElement | null {\n    return (\n      <Fragment>\n        {this.showSkeleton ? <div class=\"skeleton-headline\" /> : null}\n        <phn-p-heading\n          style={{ display: this.showSkeleton ? 'none' : '' }}\n          tag=\"h3\"\n          size=\"large\"\n          data-test-id=\"dealer-headline\"\n        >\n          {name}\n        </phn-p-heading>\n      </Fragment>\n    );\n  }\n\n  render(): HTMLPhnDealerDetailsDrawerElement {\n    const ppnDealer = this.getDealer();\n\n    if (ppnDealer === undefined) {\n      return <div>{this.errorMessage}</div>;\n    }\n    const language = splitLocale(this.locale).language;\n    const { testDrive, finder, bookService } = navContentStore.state.dealer.details;\n\n    const isAddressLocalized = Object.values(ppnDealer.addressLocalized).every((x) => x != null && x != '');\n    const address =\n      language === 'en' ? ppnDealer.address : isAddressLocalized ? ppnDealer.addressLocalized : ppnDealer.address;\n    const name =\n      language === 'en' ? ppnDealer.name : isString(ppnDealer.nameLocalized) ? ppnDealer.nameLocalized : ppnDealer.name;\n    // postalCode is currently not available in addressLocalized\n    const hasAddress = isString(address.street) || isString(ppnDealer.address.postalCode) || isString(address.city);\n    const hasPhoneNumber = isString(ppnDealer.contactDetails.phoneNumber);\n    const hasEmail = isString(ppnDealer.contactDetails.emailAddress);\n    const hasHomepage = isString(ppnDealer.contactDetails.homepage);\n    const hasTestdrive = testDrive && isString(testDrive?.text) && isString(testDrive?.link);\n    const hasName = isString(ppnDealer.nameLocalized) || isString(ppnDealer.name);\n    const openingHours = getOpeningHours(ppnDealer.contactDetails.contactOpeningHours);\n    const hasOpeningHours = openingHours !== '';\n\n    let country = '';\n    try {\n      country = splitLocale(this.locale).country;\n    } catch (err) {\n      // throw the error away\n    }\n    const dealerAddress =\n      country === 'JP'\n        ? `ã€’${ppnDealer.address.postalCode} ${address.city} ${address.street}`\n        : `${address.street}, ${ppnDealer.address.postalCode} ${address.city}`;\n    const customDatalayerProperties = {\n      componentSearch: {\n        searchTerm: dealerSearchResultsStore.state.searchTerm\n      },\n      partner: {\n        companyName: name,\n        companyId: ppnDealer.porschePartnerNo\n      }\n    };\n\n    return (\n      <Host>\n        {hasName && isDesktop(this.breakpoint) ? this.renderHeading(name) : null}\n        {hasAddress ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'address')}\n            analyticsId=\"mainmenu.finddealer.map\"\n            text={dealerAddress}\n            iconLeft=\"pin\"\n            data-test-id=\"dealer-address\"\n            link={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\n              `${address.street},${ppnDealer.address.postalCode},${address.city}`\n            )}`}\n            target=\"_blank\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {featureToggles.isDealerSearchOpeningHoursEnabled() && hasOpeningHours ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'openingHours')}\n            analyticsId=\"mainmenu.finddealer.openinghours\"\n            text={openingHours}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-opening-hours\"\n            iconLeft=\"clock\"\n          />\n        ) : null}\n\n        {hasPhoneNumber ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'number')}\n            analyticsId=\"mainmenu.finddealer.phone\"\n            text={ppnDealer.contactDetails.phoneNumber}\n            iconLeft=\"phone\"\n            data-test-id=\"dealer-phonenumber\"\n            link={`tel:${ppnDealer.contactDetails.phoneNumber}`}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {hasEmail ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'email')}\n            analyticsId=\"mainmenu.finddealer.email\"\n            text={ppnDealer.contactDetails.emailAddress}\n            iconLeft=\"email\"\n            data-test-id=\"dealer-email\"\n            link={`mailto:${ppnDealer.contactDetails.emailAddress}`}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {hasHomepage ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'homepage')}\n            analyticsId=\"mainmenu.finddealer.website\"\n            text={ppnDealer.contactDetails.homepage.replace('https://', '')}\n            iconLeft=\"globe\"\n            data-test-id=\"dealer-homepage\"\n            link={sanitizeDealerHomepage(ppnDealer.contactDetails.homepage)}\n            target=\"_blank\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {finder && isString(country) ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, finder.id)}\n            analyticsId={finder.id}\n            text={finder.text}\n            data-test-id=\"dealer-finder-cars\"\n            link={addQueryParamsToUrl(finder.link, { dealership: ppnDealer.ppnOrgId })}\n            iconLeft=\"car\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {bookService ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, bookService.text)}\n            analyticsId={bookService.id}\n            text={bookService.text}\n            link={addQueryParamsToUrl(bookService.link, { dealer: ppnDealer.porschePartnerNo })}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-book-service\"\n            iconLeft={'wrench'}\n          />\n        ) : null}\n\n        {hasTestdrive ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, testDrive.text)}\n            analyticsId={testDrive.id}\n            text={testDrive.text}\n            link={testDrive.link}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-book-testdrive\"\n            iconLeft={'steering-wheel'}\n          />\n        ) : null}\n      </Host>\n    );\n  }\n}\n\ntype DealerDetailCardType = {\n  showSkeleton: boolean;\n  elementId?: string;\n  'data-test-id': string;\n  analyticsId: string;\n  text: string;\n  link?: string;\n  customDatalayerProperties: TDataLayer;\n  datalayerEventAction: EventAction;\n  variant: string;\n  iconLeft: string;\n  target?: string;\n  ariaLabel?: string;\n};\n\nfunction DealerDetailCard(props: DealerDetailCardType): HTMLElement {\n  return <phn-menu-item-card tabIndex={0} class={`${props.showSkeleton ? 'skeleton' : ''}`} {...props} />;\n}\n"]}