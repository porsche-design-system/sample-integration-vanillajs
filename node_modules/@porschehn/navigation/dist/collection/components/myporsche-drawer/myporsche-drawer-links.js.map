{"version":3,"file":"myporsche-drawer-links.js","sourceRoot":"","sources":["../../../../src/components/myporsche-drawer/myporsche-drawer-links.tsx"],"names":[],"mappings":"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","sourcesContent":["import { h, JSX } from '@stencil/core';\nimport { MyPorsche, TLink } from '../../entities/content';\nimport { getMyPorscheRoutingKey } from '../../entities/routing-key';\nimport featureToggles from '../../services/feature-toggles';\nimport { EventActions } from '../../utility/constants';\nimport { IsLoggedIn } from '../../utility/helper';\nimport { finderStateStore } from '../../state/finder-state-store';\nimport { navStateStore } from '../../state/nav-state-store';\n\nexport default function Links({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const messagesPosition = 1,\n    savedSearchesPosition = 2,\n    savedVehiclesPosition = 3;\n  const { loggedInState, unreadMessagesCount } = navStateStore.state;\n  const isLoggedIn = IsLoggedIn(loggedInState);\n  const { links, messages, savedSearches, savedVehicles } = content;\n  const { savedSearchesCount, savedVehiclesCount } = finderStateStore.state;\n\n  const convertedLinks = links.map<JSX.Element>((link) => (\n    <div class=\"myporsche-link-item\" key={link.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(link.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={link.id}\n        text={link.text}\n        link={link.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  ));\n\n  convertedLinks.splice(\n    messagesPosition,\n    0,\n    <MenuItemCountLink content={messages} count={unreadMessagesCount} showSkeleton={showSkeleton} />\n  );\n\n  if (savedSearches && savedSearches.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedSearchesPosition,\n      0,\n      <MenuItemCountLink content={savedSearches} count={savedSearchesCount} showSkeleton={showSkeleton} />\n    );\n  }\n  if (savedVehicles && savedVehicles.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedVehiclesPosition,\n      0,\n      <MenuItemCountLink content={savedVehicles} count={savedVehiclesCount} showSkeleton={showSkeleton} />\n    );\n  }\n\n  if (isLoggedIn) {\n    convertedLinks.push(<LogoutLink content={content} onLogoutClick={onLogoutClick} showSkeleton={showSkeleton} />);\n  }\n  return (\n    <div class=\"myporsche-links\">\n      {showSkeleton ? (\n        <div class=\"skeleton-menu\">\n          {convertedLinks.map(() => (\n            <div class=\"skeleton-menu-item\" />\n          ))}\n        </div>\n      ) : null}\n      <div style={{ display: showSkeleton ? 'none' : '', width: '100%' }}>\n        <div class={`${isLoggedIn ? 'logged-in' : ''} myporsche-links-container`}>{convertedLinks}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction MenuItemCountLink({\n  content,\n  count,\n  showSkeleton\n}: {\n  content: TLink | null;\n  count: number;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  return content ? (\n    <div class=\"myporsche-link-item\" key={content.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(content.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={content.id}\n        text={content.text}\n        link={content.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      >\n        <MenuItemCountIndicator count={count} />\n      </phn-menu-item>\n    </div>\n  ) : null;\n}\n\nfunction LogoutLink({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const { logout } = content;\n\n  return (\n    <div class=\"myporsche-link-item\" key={logout.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(logout.id)}\n        class={`myporsche-menu-item logout${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={logout.id}\n        text={logout.text}\n        onClick={onLogoutClick}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  );\n}\n\nfunction MenuItemCountIndicator({ count }: { count: number }): JSX.Element | null {\n  if (count <= 0) return null;\n\n  return (\n    <phn-p-tag slot=\"suffix\" class=\"menu-item-count\" color=\"notification-info-soft\">\n      {count}\n    </phn-p-tag>\n  );\n}\n"]}