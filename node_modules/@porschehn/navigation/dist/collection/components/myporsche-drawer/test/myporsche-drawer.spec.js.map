{"version":3,"file":"myporsche-drawer.spec.js","sourceRoot":"","sources":["../../../../../src/components/myporsche-drawer/test/myporsche-drawer.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { h } from '@stencil/core';\nimport { newSpecPage, SpecPage } from '@stencil/core/testing';\nimport { mockLocaleContent, mockMyPorscheContent } from '../../../test/test-data';\nimport { getHTMLElement } from '../../../utility/helper';\nimport { MyPorscheDrawer } from '../myporsche-drawer';\nimport { navStateStore } from '../../../state/nav-state-store';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport featureToggles from '../../../services/feature-toggles';\nimport { getHTMLElementFromPage } from '../../../test/actions';\n\ndescribe('myporsche-drawer', () => {\n  beforeEach(() => {\n    navContentStore.state.myPorsche = mockMyPorscheContent;\n  });\n\n  async function getPage(): Promise<SpecPage> {\n    return await newSpecPage({\n      components: [MyPorscheDrawer],\n      template: () => <phn-myporsche-drawer />\n    });\n  }\n\n  describe('mobile', () => {\n    describe('logged out user', () => {\n      let page: SpecPage;\n\n      beforeEach(async () => {\n        page = await newSpecPage({\n          components: [MyPorscheDrawer],\n          template: () => <phn-myporsche-drawer />\n        });\n      });\n\n      it('should render order correctly', async () => {\n        expect(page.root).toMatchInlineSnapshot(`\n          <phn-myporsche-drawer>\n            <div class=\"phn-flex-col phn-justify-around\">\n              <div class=\"myporsche-login\">\n                <phn-myporsche-login signuptext=\"to discover the digital world of Porsche.\"></phn-myporsche-login>\n              </div>\n              <div class=\"myporsche-links\">\n                <div style=\"width: 100%;\">\n                  <div class=\"myporsche-links-container\">\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.overview\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.overview\" link=\"https://my.porsche.com/core/gb/en_GB/home\" text=\"Overview\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.messages\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.messages\" link=\"https://inbox.porsche.com/gb/en_GB/messages\" text=\"Messages\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedsearches\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedsearches\" link=\"https://finder.porsche.com/gb/en_GB/saved-searches\" text=\"Saved Searches\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedvehicles\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedvehicles\" link=\"https://finder.porsche.com/gb/en_GB/favorites\" text=\"Saved Vehicles\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.accountadministration\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.accountadministration\" link=\"https://profile.porsche.com/myprofile/gb/en_GB/personal-data\" text=\"Profile settings\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.contact\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.contact\" link=\"https://my.porsche.com/core/gb/en_GB/contact\" text=\"Contact &amp; Support\"></phn-menu-item>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </phn-myporsche-drawer>\n        `);\n      });\n\n      it('should not render logout link', async () => {\n        page.root?.querySelectorAll('phn-p-link-pure').forEach((link) => {\n          expect(link.textContent).not.toContain('Logout');\n        });\n      });\n\n      it('should not render logged in icon and text', async () => {\n        expect(page.root?.querySelector('[data-test-id=user-name]')).toBeNull();\n        expect(page.root?.querySelector('[data-test-id=user-icon]')).toBeNull();\n      });\n    });\n\n    describe('logged in user', () => {\n      let page: SpecPage;\n\n      beforeEach(async () => {\n        navStateStore.set('loggedInState', 'Test User');\n        navStateStore.set('unreadMessagesCount', 234);\n\n        page = await getPage();\n      });\n\n      it('should render order correctly', async () => {\n        expect(page.root).toMatchInlineSnapshot(`\n          <phn-myporsche-drawer>\n            <div class=\"phn-flex-col phn-justify-around\">\n              <div class=\"myporsche-links\">\n                <div style=\"width: 100%;\">\n                  <div class=\"logged-in myporsche-links-container\">\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.overview\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.overview\" link=\"https://my.porsche.com/core/gb/en_GB/home\" text=\"Overview\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.messages\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.messages\" link=\"https://inbox.porsche.com/gb/en_GB/messages\" text=\"Messages\">\n                        <phn-p-tag class=\"menu-item-count\" color=\"notification-info-soft\" slot=\"suffix\">\n                          234\n                        </phn-p-tag>\n                      </phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedsearches\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedsearches\" link=\"https://finder.porsche.com/gb/en_GB/saved-searches\" text=\"Saved Searches\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedvehicles\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedvehicles\" link=\"https://finder.porsche.com/gb/en_GB/favorites\" text=\"Saved Vehicles\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.accountadministration\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.accountadministration\" link=\"https://profile.porsche.com/myprofile/gb/en_GB/personal-data\" text=\"Profile settings\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.contact\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.contact\" link=\"https://my.porsche.com/core/gb/en_GB/contact\" text=\"Contact &amp; Support\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.logout\" class=\"logout myporsche-menu-item\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.logout\" text=\"Logout\"></phn-menu-item>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </phn-myporsche-drawer>\n        `);\n      });\n\n      it('should not render login section', () => {\n        expect(page.root?.querySelector('.myporsche-login')).toBeNull();\n      });\n\n      it('should render unread message indicator', () => {\n        expect(page.root?.querySelector('.menu-item-count')).not.toBeNull();\n      });\n\n      it('should emit logout event on logout', async () => {\n        jest.spyOn(page.rootInstance.logoutEvent, 'emit');\n\n        getHTMLElement(page.root?.querySelector('.logout'))?.click();\n\n        await page.waitForChanges();\n\n        expect(page.rootInstance.logoutEvent.emit).toHaveBeenCalledTimes(1);\n      });\n    });\n  });\n\n  describe('desktop', () => {\n    let page: SpecPage;\n\n    describe('logged out user', () => {\n      it('should render order correctly', async () => {\n        page = await getPage();\n        expect(page.root).toMatchInlineSnapshot(`\n          <phn-myporsche-drawer>\n            <div class=\"phn-flex-col phn-justify-around\">\n              <div class=\"myporsche-login\">\n                <phn-myporsche-login signuptext=\"to discover the digital world of Porsche.\"></phn-myporsche-login>\n              </div>\n              <div class=\"myporsche-links\">\n                <div style=\"width: 100%;\">\n                  <div class=\"myporsche-links-container\">\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.overview\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.overview\" link=\"https://my.porsche.com/core/gb/en_GB/home\" text=\"Overview\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.messages\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.messages\" link=\"https://inbox.porsche.com/gb/en_GB/messages\" text=\"Messages\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedsearches\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedsearches\" link=\"https://finder.porsche.com/gb/en_GB/saved-searches\" text=\"Saved Searches\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedvehicles\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedvehicles\" link=\"https://finder.porsche.com/gb/en_GB/favorites\" text=\"Saved Vehicles\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.accountadministration\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.accountadministration\" link=\"https://profile.porsche.com/myprofile/gb/en_GB/personal-data\" text=\"Profile settings\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.contact\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.contact\" link=\"https://my.porsche.com/core/gb/en_GB/contact\" text=\"Contact &amp; Support\"></phn-menu-item>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </phn-myporsche-drawer>\n        `);\n      });\n\n      it('should not render entire headline', async () => {\n        page = await getPage();\n        expect(page.root?.querySelector('.headline-container')).toBeNull();\n      });\n\n      it('should not show saved Search and Vehicles if null', async () => {\n        navContentStore.state.myPorsche = { ...mockMyPorscheContent, savedSearches: null, savedVehicles: null };\n\n        const page = await newSpecPage({\n          components: [MyPorscheDrawer],\n          template: () => <phn-myporsche-drawer />\n        });\n\n        expect(page.root).toMatchInlineSnapshot(`\n          <phn-myporsche-drawer>\n            <div class=\"phn-flex-col phn-justify-around\">\n              <div class=\"myporsche-login\">\n                <phn-myporsche-login signuptext=\"to discover the digital world of Porsche.\"></phn-myporsche-login>\n              </div>\n              <div class=\"myporsche-links\">\n                <div style=\"width: 100%;\">\n                  <div class=\"myporsche-links-container\">\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.overview\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.overview\" link=\"https://my.porsche.com/core/gb/en_GB/home\" text=\"Overview\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.messages\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.messages\" link=\"https://inbox.porsche.com/gb/en_GB/messages\" text=\"Messages\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.accountadministration\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.accountadministration\" link=\"https://profile.porsche.com/myprofile/gb/en_GB/personal-data\" text=\"Profile settings\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.contact\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.contact\" link=\"https://my.porsche.com/core/gb/en_GB/contact\" text=\"Contact &amp; Support\"></phn-menu-item>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </phn-myporsche-drawer>\n        `);\n      });\n    });\n\n    describe('logged in user', () => {\n      async function getPage(): Promise<SpecPage> {\n        navStateStore.set('loggedInState', 'Test User');\n        navStateStore.set('unreadMessagesCount', 234);\n\n        return await newSpecPage({\n          components: [MyPorscheDrawer],\n          template: () => <phn-myporsche-drawer />\n        });\n      }\n\n      it('should render order correctly', async () => {\n        page = await getPage();\n        expect(page.root).toMatchInlineSnapshot(`\n          <phn-myporsche-drawer>\n            <div class=\"phn-flex-col phn-justify-around\">\n              <div class=\"myporsche-links\">\n                <div style=\"width: 100%;\">\n                  <div class=\"logged-in myporsche-links-container\">\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.overview\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.overview\" link=\"https://my.porsche.com/core/gb/en_GB/home\" text=\"Overview\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.messages\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.messages\" link=\"https://inbox.porsche.com/gb/en_GB/messages\" text=\"Messages\">\n                        <phn-p-tag class=\"menu-item-count\" color=\"notification-info-soft\" slot=\"suffix\">\n                          234\n                        </phn-p-tag>\n                      </phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedsearches\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedsearches\" link=\"https://finder.porsche.com/gb/en_GB/saved-searches\" text=\"Saved Searches\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.savedvehicles\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.savedvehicles\" link=\"https://finder.porsche.com/gb/en_GB/favorites\" text=\"Saved Vehicles\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.accountadministration\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.accountadministration\" link=\"https://profile.porsche.com/myprofile/gb/en_GB/personal-data\" text=\"Profile settings\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.contact\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.contact\" link=\"https://my.porsche.com/core/gb/en_GB/contact\" text=\"Contact &amp; Support\"></phn-menu-item>\n                    </div>\n                    <div class=\"myporsche-link-item\">\n                      <phn-menu-item analyticsid=\"mainmenu.myporsche.logout\" class=\"logout myporsche-menu-item\" datalayereventaction=\"PAGHomeNav_NavigationLink_Click\" elementid=\"my_porsche/mainmenu.myporsche.logout\" text=\"Logout\"></phn-menu-item>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </phn-myporsche-drawer>\n        `);\n      });\n\n      it('should not render PDS headline', async () => {\n        page = await getPage();\n        expect(page.root?.querySelector('.myporsche-headline')).toBeNull();\n      });\n\n      it('should not render headline divider', async () => {\n        page = await getPage();\n        expect(page.root?.querySelector('.headline-divider')).toBeNull();\n      });\n\n      it('should render unread count messages', async () => {\n        navStateStore.set('unreadMessagesCount', 234);\n        page = await getPage();\n\n        expect(page.root?.querySelector('phn-menu-item>phn-p-tag')).not.toBeNull();\n        expect(page.root?.querySelector('phn-menu-item>phn-p-tag')?.textContent).toEqual('234');\n      });\n    });\n  });\n\n  describe('savedSearches & savedVehicles option', () => {\n    it('should not show saved Search and Vehicles if null', async () => {\n      navContentStore.state.myPorsche = { ...mockMyPorscheContent, savedVehicles: null, savedSearches: null };\n      const page = await getPage();\n\n      expect(page.root?.querySelector('phn-menu-item[analyticsid=\"mainmenu.myporsche.savedvehicles\"]')).toBeNull();\n      expect(page.root?.querySelector('phn-menu-item[analyticsid=\"mainmenu.myporsche.savedsearches\"]')).toBeNull();\n    });\n\n    it('should show saved Search and Vehicles', async () => {\n      const page = await getPage();\n      const savedVehiclesItem = getHTMLElementFromPage(\n        page,\n        'phn-menu-item[analyticsid=\"mainmenu.myporsche.savedvehicles\"]'\n      );\n      const savedSearchesItem = getHTMLElementFromPage(\n        page,\n        'phn-menu-item[analyticsid=\"mainmenu.myporsche.savedsearches\"]'\n      );\n      expect(savedVehiclesItem).toBeTruthy();\n      expect(savedSearchesItem).toBeTruthy();\n\n      expect(savedVehiclesItem?.getAttribute('link')).toEqual('https://finder.porsche.com/gb/en_GB/favorites');\n      expect(savedSearchesItem?.getAttribute('link')).toEqual('https://finder.porsche.com/gb/en_GB/saved-searches');\n    });\n  });\n\n  describe('shop wishlist option', () => {\n    it('wishlist should not be displayed when feature toggles is off', async () => {\n      jest.spyOn(featureToggles, 'isShopWishlistToggleActive').mockReturnValue(false);\n      const page = await getPage();\n      expect(page.root?.querySelector('phn-menu-item[analyticsid=\"mainmenu.myporsche.wishlist\"]')).toBeNull();\n    });\n\n    it('wishlist should be displayed when feature toggle is on', async () => {\n      jest.spyOn(featureToggles, 'isShopWishlistToggleActive').mockReturnValue(true);\n      navContentStore.state.shop = mockLocaleContent.shop;\n      navStateStore.state.locale = 'de-DE';\n      navStateStore.state.app = 'shop';\n      const page = await getPage();\n      const wishlistItem = getHTMLElementFromPage(page, 'phn-menu-item[analyticsid=\"mainmenu.shops.wishlist\"]');\n\n      expect(wishlistItem).toBeTruthy();\n      expect(wishlistItem?.getAttribute('link')).toEqual('https://shop.porsche.com/gb/en-GB/wishlist');\n    });\n\n    it('wishlist should be displayed after saved searches & vehicles', async () => {\n      jest.spyOn(featureToggles, 'isShopWishlistToggleActive').mockReturnValue(true);\n      navContentStore.state.shop = mockLocaleContent.shop;\n      navStateStore.state.locale = 'de-DE';\n      navStateStore.state.app = 'shop';\n      const page = await getPage();\n      const allMenuItems = page.root?.querySelectorAll('.myporsche-links-container > .myporsche-link-item');\n\n      if (allMenuItems && allMenuItems.length > 0) {\n        expect(allMenuItems[2].children[0].getAttribute('text')).toEqual('Saved Searches');\n        expect(allMenuItems[3].children[0].getAttribute('text')).toEqual('Saved Vehicles');\n        expect(allMenuItems[4].children[0].getAttribute('text')).toEqual('Wishlist');\n      } else {\n        throw Error('no element found');\n      }\n    });\n  });\n\n  it('should return null if there is no myPorsche content', async () => {\n    navContentStore.state.myPorsche = null;\n\n    const page = await getPage();\n\n    expect(page.root?.innerHTML).toEqual('');\n  });\n});\n"]}