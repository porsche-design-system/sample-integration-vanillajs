{"version":3,"file":"shop.js","sourceRoot":"","sources":["../../../../../src/components/router/sections/shop.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getMenuContent } from '../../../services/menu-items-service';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport { EventEmitter, Fragment, h } from '@stencil/core';\nimport { constructRoutingKey, RoutingKeys } from '../../../entities/routing-key';\nimport { isDesktop, IsLoggedIn, isString } from '../../../utility/helper';\nimport { EventActions } from '../../../utility/constants';\nimport { TShopAuthStatus, TShopMenu } from '../../../entities/content';\nimport { navStateStore } from '../../../state/nav-state-store';\nimport {\n  filterWishlistItemsByAuthStatus,\n  getAvailableShopVariables,\n  getIconNameByMenuItemId\n} from '../../../utility/helpers/shop-helper';\nimport { replaceVariables } from '../../../utility/helpers/string-helper';\n\ntype ShopSectionTypes = {\n  activeRoutingKey: string;\n  breakpoint: number;\n  receivedContent: boolean;\n  loginEvent: EventEmitter<void>;\n};\n\nexport default function ShopSection({\n  activeRoutingKey,\n  breakpoint,\n  receivedContent,\n  loginEvent\n}: ShopSectionTypes): HTMLElement {\n  const showHeadline = !isDesktop(breakpoint);\n  const displayedContent = getMenuContent(navContentStore.state, activeRoutingKey, RoutingKeys.SHOP) as TShopMenu;\n\n  if (displayedContent === null) {\n    return <div></div>;\n  }\n\n  const wishListAuthStatusList: TShopAuthStatus[] = IsLoggedIn(navStateStore.state.loggedInState)\n    ? ['loggedIn', null]\n    : ['loggedOut', null];\n\n  const wishListItems = filterWishlistItemsByAuthStatus(displayedContent.additionalContent, wishListAuthStatusList);\n\n  function emitLogin(id: string) {\n    if (id === 'login') loginEvent.emit();\n  }\n\n  return (\n    <Fragment>\n      <phn-menu\n        item={displayedContent}\n        routingKey={activeRoutingKey}\n        showHeadline={showHeadline}\n        receivedContent={receivedContent}\n      />\n      {activeRoutingKey === RoutingKeys.SHOP ? (\n        <div class=\"wishlist-container\" role=\"list\">\n          {wishListItems.map((childItem) => {\n            return (\n              <phn-menu-item\n                key={childItem.id}\n                data-id={childItem.id}\n                size={'x-small'}\n                class={!(isString(childItem.iconUrl) || isString(childItem.icon)) ? 'no-icon' : ''}\n                iconLeft={\n                  (isString(childItem.id) && getIconNameByMenuItemId(childItem.id)) ||\n                  childItem.icon ||\n                  childItem.iconUrl\n                }\n                elementId={constructRoutingKey(activeRoutingKey, childItem.id)}\n                analyticsId={childItem.id}\n                text={replaceVariables(childItem.text, getAvailableShopVariables())}\n                link={childItem.link}\n                datalayerEventAction={\n                  isString(childItem.link) ? EventActions.NAVIGATION_LINK_CLICK : EventActions.NAVIGATION_CLICK\n                }\n                onClick={() => {\n                  emitLogin(childItem.id);\n                }}\n                role=\"listitem\"\n              />\n            );\n          })}\n        </div>\n      ) : null}\n    </Fragment>\n  );\n}\n"]}