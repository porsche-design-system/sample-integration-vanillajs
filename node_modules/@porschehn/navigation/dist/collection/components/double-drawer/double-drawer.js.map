{"version":3,"file":"double-drawer.js","sourceRoot":"","sources":["../../../../src/components/double-drawer/double-drawer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, Fragment, h, Host, Listen, Prop, State, Watch } from '@stencil/core';\nimport { findTopLevelRoutingKey, RoutingKeyPointers, RoutingKeys } from '../../entities/routing-key';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport animationManager from '../../services/animations/animation-manager';\nimport { getBackButtonText } from '../../services/menu-items-service';\nimport { navContentStore } from '../../state/nav-content-store';\nimport {\n  ClickElementTypes,\n  DisplayElementTypes,\n  ElementTypes,\n  EventActions,\n  FOCUSABLE_ELEMENTS_SELECTOR\n} from '../../utility/constants';\nimport { focusOnElement, getHTMLElement, isString } from '../../utility/helper';\nimport {\n  registerBackToPreviousMenuSequence,\n  registerCloseDoubleDrawerSequence,\n  registerForwardToNextMenuSequence,\n  registerOpenDoubleDrawerSequence,\n  registerTransitionSequence,\n  RouteChangeCallbacks\n} from './double-drawer-animation-sequences';\nimport { getAllFocusableElements } from './helper';\nimport { MainDrawerContent } from './main-drawer-content';\nimport { SideDrawerContent } from './side-drawer-content';\nimport { DrawerStatusTypes, DrawerStatusValues } from '../../utility/constants/app';\n\n@Component({\n  tag: 'phn-double-drawer',\n  styleUrl: 'double-drawer.scss',\n  scoped: true\n})\nexport class DoubleDrawer {\n  @Prop() breakpoint!: number;\n  @Prop() locale!: string;\n  @Prop() initialUsingKeyboard = false;\n  @Prop() routingKeyHistory: string[] = [];\n  @Prop() routingKeyPointer: number = RoutingKeyPointers.LEVEL_ZERO;\n  @Prop() receivedContent!: boolean;\n\n  @Event() clickDrawerHeaderClose!: EventEmitter<void>;\n  @Event() clickDrawerHeaderBack!: EventEmitter<void>;\n  @Event() drawerClosed!: EventEmitter<void>;\n  @Event() drawerChanged!: EventEmitter<boolean>;\n  @Event() backdropClosed!: EventEmitter<void>;\n  @Event({ composed: true, bubbles: true }) phnDrawerStatus!: EventEmitter<{\n    status: DrawerStatusTypes;\n  }>;\n\n  @Element() el!: HTMLPhnDoubleDrawerElement;\n\n  @State() usingKeyboard = false;\n  @State() animatingRoutingKeyPointer = RoutingKeyPointers.LEVEL_ZERO;\n  @State() isAnimating = true;\n  @State() animatingRoutingKey = '';\n\n  @Watch('routingKeyPointer')\n  watchRoutingKeyPointer(newPointer: number, oldPointer: number): void {\n    if (oldPointer < newPointer) {\n      const topLevelRoutingKey = findTopLevelRoutingKey(this.routingKeyHistory[this.routingKeyPointer]);\n      if (topLevelRoutingKey === RoutingKeys.DEALER_SEARCH) {\n        animationManager.play('transitionSameLevelDoubleDrawer');\n      } else {\n        animationManager.play('transitionNextLevelDoubleDrawer');\n      }\n    }\n  }\n\n  @Watch('routingKeyHistory')\n  watchRoutingKeyHistory(newHistory: string[], oldHistory: string[]): void {\n    if (newHistory.length < oldHistory.length || this.animateIfSameLength(newHistory, oldHistory)) {\n      animationManager.play('transitionSameLevelDoubleDrawer');\n    }\n  }\n\n  @Listen('resize', { target: 'window' })\n  onResizeWindow(): void {\n    if (this.animatingRoutingKeyPointer !== this.routingKeyPointer) {\n      this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n      this.animatingRoutingKeyPointer = this.routingKeyPointer;\n    }\n  }\n\n  @Listen('keydown', { passive: false })\n  handleKeyDown(e: KeyboardEvent): void {\n    if (e.key !== 'Tab') {\n      return;\n    }\n\n    let activeRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    if (activeRoutingKey.startsWith(RoutingKeys.DEALER_SEARCH)) {\n      activeRoutingKey = activeRoutingKey.split('/')[0];\n    }\n\n    const eventSourceElement = getHTMLElement(e.target);\n    if (eventSourceElement === null) {\n      return;\n    }\n\n    const focusableSideDrawerElements = getAllFocusableElements(this.el.querySelector('#side-drawer'));\n    let focusableMainDrawerElements = getAllFocusableElements(this.el.querySelector('#main-drawer'));\n\n    if (focusableSideDrawerElements.length === 0 || focusableMainDrawerElements.length === 0) {\n      return;\n    }\n\n    const highlightedSideDrawerElementIndex = focusableSideDrawerElements.findIndex(\n      (el) => el.getAttribute('data-id') === activeRoutingKey\n    );\n    const highlightedSideDrawerElement = focusableSideDrawerElements[highlightedSideDrawerElementIndex];\n\n    if (activeRoutingKey === RoutingKeys.DEALER_SEARCH) {\n      focusableMainDrawerElements = focusableMainDrawerElements.filter(\n        (element) => element.nodeName !== 'BUTTON' && element.nodeName !== 'A'\n      );\n    }\n\n    const lastSideDrawerElement = focusableSideDrawerElements[focusableSideDrawerElements.length - 1];\n    const lastMainDrawerElement = focusableMainDrawerElements[focusableMainDrawerElements.length - 1];\n\n    const closeButton = this.el.querySelector('.close-button');\n\n    if (!e.shiftKey) {\n      if (eventSourceElement === highlightedSideDrawerElement) {\n        e.preventDefault();\n        focusOnElement(focusableMainDrawerElements[0]);\n        return;\n      }\n\n      if (eventSourceElement === lastSideDrawerElement) {\n        e.preventDefault();\n        if (closeButton !== null) {\n          focusOnElement(closeButton);\n        }\n      }\n\n      if (eventSourceElement === lastMainDrawerElement) {\n        e.preventDefault();\n\n        const nextSideDrawerElementIndex =\n          highlightedSideDrawerElementIndex + 1 >= focusableSideDrawerElements.length\n            ? 0\n            : highlightedSideDrawerElementIndex + 1;\n\n        const nextSideDrawerElement = getHTMLElement(focusableSideDrawerElements[nextSideDrawerElementIndex]);\n\n        focusOnElement(nextSideDrawerElement);\n      }\n\n      if (eventSourceElement === closeButton) {\n        e.preventDefault();\n        focusOnElement(focusableSideDrawerElements[0]);\n      }\n    } else if (e.shiftKey) {\n      if (eventSourceElement === focusableMainDrawerElements[0]) {\n        e.preventDefault();\n        if (highlightedSideDrawerElement !== null) {\n          focusOnElement(highlightedSideDrawerElement);\n        }\n      }\n\n      if (eventSourceElement === closeButton) {\n        e.preventDefault();\n        focusOnElement(lastSideDrawerElement);\n      }\n    }\n  }\n\n  @Listen('mobileMenuItemClick')\n  handleMobileMenuItemClick(event: CustomEvent<string[]>): void {\n    if (animationManager.isPlaying('transitionNextLevelDoubleDrawer')) {\n      event.stopPropagation();\n    }\n  }\n\n  @Listen('sideDrawerItemClick')\n  handleSideDrawerItemClick(event: CustomEvent<string[]>): void {\n    if (animationManager.isPlaying('transitionSameLevelDoubleDrawer')) {\n      event.stopPropagation();\n    }\n  }\n\n  private focusOnInitialElement(): void {\n    const isNavigatingBackwards = this.routingKeyPointer < this.routingKeyHistory.length - 1;\n\n    let focusedRoutingKey = isNavigatingBackwards\n      ? this.routingKeyHistory[this.routingKeyPointer + 1]\n      : this.routingKeyHistory[this.routingKeyPointer];\n    if (focusedRoutingKey.startsWith(RoutingKeys.DEALER_SEARCH)) {\n      focusedRoutingKey = focusedRoutingKey.split('/')[0];\n    }\n\n    const autoFocusElement = getHTMLElement(this.el.querySelector('.autofocus'));\n    if (autoFocusElement !== null) {\n      focusOnElement(autoFocusElement);\n      return;\n    }\n\n    if (this.usingKeyboard) {\n      let focusableElement: HTMLElement | null = null;\n\n      if (isString(focusedRoutingKey)) {\n        focusableElement = getHTMLElement(this.el.querySelector(`[data-id=\"${focusedRoutingKey}\"]`));\n      }\n\n      if (focusableElement === null) {\n        focusableElement = getHTMLElement(this.el.querySelector(`${FOCUSABLE_ELEMENTS_SELECTOR}`));\n      }\n\n      if (focusableElement !== null) {\n        focusOnElement(focusableElement);\n      }\n\n      return;\n    }\n\n    const firstFocus = getHTMLElement(this.el.querySelector('.first-focus'));\n    if (firstFocus !== null) {\n      focusOnElement(firstFocus);\n    }\n  }\n\n  private async goBackToPreviousMenu(): Promise<void> {\n    if (this.routingKeyPointer === this.animatingRoutingKeyPointer) {\n      this.clickDrawerHeaderBack.emit();\n\n      const topLevelRoutingKey = findTopLevelRoutingKey(this.routingKeyHistory[this.routingKeyPointer]);\n      if (topLevelRoutingKey === RoutingKeys.DEALER_SEARCH) {\n        animationManager.play('transitionSameLevelDoubleDrawerReverse');\n      } else {\n        animationManager.play('transitionPreviousLevelDoubleDrawer');\n      }\n    }\n  }\n\n  private async updateRouting(): Promise<void> {\n    this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    this.animatingRoutingKeyPointer = this.routingKeyPointer;\n\n    const isNavigatingBackwards = this.routingKeyPointer < this.routingKeyHistory.length - 1;\n    this.drawerChanged.emit(isNavigatingBackwards);\n\n    this.sendDoubleDrawerLoadDataEvent();\n  }\n\n  private sendDoubleDrawerLoadDataEvent() {\n    analyticsManager.setDrawerType(DisplayElementTypes.DoubleDrawer);\n    const activeRoutingKey: string = this.animatingRoutingKey || '';\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DRAWER_LOAD, {\n      componentDisplay: {\n        displayElementType: analyticsManager.calculateDisplayElementType(activeRoutingKey, ElementTypes.doubleDrawer),\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementName: 'Double Drawer'\n      }\n    });\n  }\n\n  private sendDataEventOfCloseButtonClick() {\n    const activeRoutingKey: string = this.animatingRoutingKey || '';\n    globalDataLayerService.pushDataLayerEvent(EventActions.MENU_CLOSE_CLICK, {\n      componentClick: {\n        clickElementId: 'mainmenu.drawer.close',\n        clickElementName: 'X',\n        clickElementType: ClickElementTypes.Button,\n        targetElement: 'level-0'\n      },\n      componentDisplay: {\n        displayElementType: analyticsManager.calculateDisplayElementType(activeRoutingKey, ElementTypes.closeButton),\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementName: 'Double Drawer'\n      }\n    });\n  }\n\n  private animateIfSameLength(newHistory: string[], oldHistory: string[]): boolean {\n    return (\n      newHistory.length === oldHistory.length &&\n      this.routingKeyPointer === newHistory.length - 1 &&\n      newHistory[newHistory.length - 1] !== oldHistory[oldHistory.length - 1]\n    );\n  }\n\n  componentWillLoad(): void {\n    this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    this.animatingRoutingKeyPointer = this.routingKeyPointer;\n    this.usingKeyboard = this.initialUsingKeyboard;\n  }\n\n  componentDidLoad(): void {\n    const routeChangeCallbacks: RouteChangeCallbacks = {\n      onSlideMainDrawerOutEnd: async () => this.updateRouting(),\n      onGrowHighlightEnd: async () => this.focusOnInitialElement()\n    };\n\n    registerOpenDoubleDrawerSequence({\n      onAnimationStarts: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.startOpening });\n      },\n      onAnimationEnds: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.finishOpening });\n        this.focusOnInitialElement();\n      }\n    });\n    registerCloseDoubleDrawerSequence({\n      onBackdropFadeOutEnd: async () => {\n        this.backdropClosed.emit();\n      },\n      onAnimationStarts: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.startClosing });\n      },\n      onAnimationEnds: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.finishClosing });\n      }\n    });\n    registerBackToPreviousMenuSequence(routeChangeCallbacks);\n    registerForwardToNextMenuSequence(routeChangeCallbacks);\n    registerTransitionSequence(routeChangeCallbacks);\n    registerTransitionSequence(routeChangeCallbacks, 'reverse');\n\n    this.sendDoubleDrawerLoadDataEvent();\n  }\n\n  render(): HTMLPhnDoubleDrawerElement {\n    const previousRoutingKey = this.routingKeyHistory[this.animatingRoutingKeyPointer - 1];\n    const backButtonText = getBackButtonText(navContentStore.state, previousRoutingKey);\n    const topLevelRoutingKey = findTopLevelRoutingKey(this.animatingRoutingKey);\n    const wasPreviouslyOnDealerSearch = findTopLevelRoutingKey(previousRoutingKey) === RoutingKeys.DEALER_SEARCH;\n    const isOnDealerDetails =\n      topLevelRoutingKey === RoutingKeys.DEALER_SEARCH && this.animatingRoutingKey !== topLevelRoutingKey;\n    return (\n      <Host role=\"dialog\" aria-modal=\"true\" aria-label=\"navigation modal dialog\" style={{ left: '-1000px' }}>\n        <phn-p-button\n          variant=\"secondary\"\n          class=\"close-button\"\n          theme=\"dark\"\n          hide-label=\"true\"\n          icon={'close'}\n          aria=\"{ 'aria-label': 'close modal dialog' }\"\n          data-test-id=\"close-button\"\n          onClick={() => {\n            this.sendDataEventOfCloseButtonClick();\n            this.clickDrawerHeaderClose.emit();\n          }}\n        />\n        {isString(this.animatingRoutingKey) ? (\n          <Fragment>\n            <div class=\"drawer\" id=\"side-drawer\">\n              <SideDrawerContent\n                activeRoutingKey={this.animatingRoutingKey}\n                locale={this.locale}\n                backButtonText={wasPreviouslyOnDealerSearch ? '' : backButtonText}\n                onClickBack={() => this.goBackToPreviousMenu()}\n              />\n            </div>\n\n            <div class=\"drawer\" id=\"main-drawer\">\n              <MainDrawerContent\n                activeRoutingKey={this.animatingRoutingKey}\n                breakpoint={this.breakpoint}\n                locale={this.locale}\n                backButtonText={isOnDealerDetails ? backButtonText : ''}\n                receivedContent={this.receivedContent}\n                onClickBack={() => this.goBackToPreviousMenu()}\n              />\n              <div class=\"bottom-gradient\" />\n            </div>\n          </Fragment>\n        ) : null}\n      </Host>\n    );\n  }\n}\n"]}