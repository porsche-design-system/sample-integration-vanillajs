import { isPlayingDoubleDrawerAnimation, registerCloseDoubleDrawerSequence, registerOpenDoubleDrawerSequence } from "../double-drawer-animation-sequences";
import animationManager from "../../../services/animations/animation-manager";
describe('Animation Sequence', function () {
  let registerAnimationMock;
  beforeEach(() => {
    registerAnimationMock = jest.spyOn(animationManager, 'register');
  });
  describe('isPlayingDoubleDrawerAnimation', () => {
    it('should return false when no animation is registered', () => {
      expect(isPlayingDoubleDrawerAnimation()).toBeFalsy();
    });
  });
  describe('One Ui', () => {
    it('Should register double drawer opening sequence, opening double drawer from left to right', () => {
      registerOpenDoubleDrawerSequence({
        onAnimationEnds: jest.fn(),
        onAnimationStarts: jest.fn()
      });
      expect(registerAnimationMock).toHaveBeenCalledWith('openDoubleDrawer', {
        currentStepIndex: 0,
        running: false,
        steps: [
          [
            {
              onStart: expect.any(Function),
              animation: { className: 'opening-animation', cleanUpAfterAnimation: expect.any(Function) },
              elementSelector: 'phn-double-drawer'
            },
            {
              animation: { className: 'fade-in-animation', cleanUpAfterAnimation: expect.any(Function) },
              elementSelector: 'phn-backdrop',
              onEnd: expect.any(Function)
            }
          ]
        ]
      });
    });
    it('should register double drawer closing sequence, closing double drawer to the left', () => {
      registerCloseDoubleDrawerSequence({
        onBackdropFadeOutEnd: jest.fn(),
        onAnimationEnds: jest.fn(),
        onAnimationStarts: jest.fn()
      });
      expect(registerAnimationMock).toHaveBeenCalledWith('closeDoubleDrawer', {
        currentStepIndex: 0,
        running: false,
        steps: [
          [
            {
              onStart: expect.any(Function),
              animation: { className: 'closing-animation', cleanUpBeforeAnimation: expect.any(Function) },
              elementSelector: 'phn-double-drawer'
            },
            {
              animation: { className: 'fade-out-animation', cleanUpBeforeAnimation: expect.any(Function) },
              elementSelector: 'phn-backdrop',
              onEnd: expect.any(Function)
            }
          ]
        ]
      });
    });
  });
});
//# sourceMappingURL=double-drawer-animation-sequence.spec.js.map
