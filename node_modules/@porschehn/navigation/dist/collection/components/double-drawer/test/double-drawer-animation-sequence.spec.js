import { isPlayingDoubleDrawerAnimation, registerCloseDoubleDrawerSequence, registerOpenDoubleDrawerSequence } from "../double-drawer-animation-sequences";
import animationManager from "../../../services/animations/animation-manager";
describe('Animation Sequence', function () {
  let registerAnimationMock;
  beforeEach(() => {
    registerAnimationMock = jest.spyOn(animationManager, 'register');
  });
  describe('isPlayingDoubleDrawerAnimation', () => {
    it('should return false when no animation is registered', () => {
      expect(isPlayingDoubleDrawerAnimation()).toBeFalsy();
    });
  });
  describe('One Ui', () => {
    it('Should register double drawer opening sequence, opening double drawer from left to right', () => {
      registerOpenDoubleDrawerSequence({
        onAnimationEnds: jest.fn(),
        onAnimationStarts: jest.fn()
      });
      expect(registerAnimationMock).toHaveBeenCalledWith('openDoubleDrawer', {
        currentStepIndex: 0,
        running: false,
        steps: [
          [
            {
              onStart: expect.any(Function),
              animation: { duration: 600, from: -1000, name: 'slideInFromLeft' },
              elementSelector: 'phn-double-drawer',
              timingFunction: 'cubicBezierStart'
            },
            {
              animation: { duration: 400, name: 'fadeInBackdrop', to: 0.6 },
              elementSelector: 'phn-backdrop',
              timingFunction: 'cubicBezierStart',
              onEnd: expect.any(Function)
            }
          ]
        ]
      });
    });
    it('should register double drawer closing sequence, closing double drawer to the left', () => {
      registerCloseDoubleDrawerSequence({
        onBackdropFadeOutEnd: jest.fn(),
        onAnimationEnds: jest.fn(),
        onAnimationStarts: jest.fn()
      });
      expect(registerAnimationMock).toHaveBeenCalledWith('closeDoubleDrawer', {
        currentStepIndex: 0,
        running: false,
        steps: [
          [
            {
              onStart: expect.any(Function),
              animation: { duration: 400, name: 'slideOutToLeft', to: -1000 },
              elementSelector: 'phn-double-drawer',
              timingFunction: 'cubicBezierEnd'
            },
            {
              animation: { duration: 400, from: 0.6, name: 'fadeOutBackdrop' },
              elementSelector: 'phn-backdrop',
              onEnd: expect.any(Function),
              timingFunction: 'cubicBezierEnd'
            }
          ]
        ]
      });
    });
  });
});
//# sourceMappingURL=double-drawer-animation-sequence.spec.js.map
