{"version":3,"file":"double-drawer-animation-sequence.spec.js","sourceRoot":"","sources":["../../../../../src/components/double-drawer/test/double-drawer-animation-sequence.spec.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,8BAA8B,EAC9B,iCAAiC,EACjC,gCAAgC,EACjC,MAAM,sCAAsC,CAAC;AAC9C,OAAO,gBAAgB,MAAM,gDAAgD,CAAC;AAE9E,QAAQ,CAAC,oBAAoB,EAAE;EAC7B,IAAI,qBAAuC,CAAC;EAE5C,UAAU,CAAC,GAAG,EAAE;IACd,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEH,QAAQ,CAAC,gCAAgC,EAAE,GAAG,EAAE;IAC9C,EAAE,CAAC,qDAAqD,EAAE,GAAG,EAAE;MAC7D,MAAM,CAAC,8BAA8B,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC;IACvD,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;IACtB,EAAE,CAAC,0FAA0F,EAAE,GAAG,EAAE;MAClG,gCAAgC,CAAC;QAC/B,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE;QAC1B,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;OAC7B,CAAC,CAAC;MAEH,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,kBAAkB,EAAE;QACrE,gBAAgB,EAAE,CAAC;QACnB,OAAO,EAAE,KAAK;QACd,KAAK,EAAE;UACL;YACE;cACE,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;cAC7B,SAAS,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,iBAAiB,EAAE;cAClE,eAAe,EAAE,mBAAmB;cACpC,cAAc,EAAE,kBAAkB;aACnC;YACD;cACE,SAAS,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAAE,EAAE,GAAG,EAAE;cAC7D,eAAe,EAAE,cAAc;cAC/B,cAAc,EAAE,kBAAkB;cAClC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;aAC5B;WACF;SACF;OACF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mFAAmF,EAAE,GAAG,EAAE;MAC3F,iCAAiC,CAAC;QAChC,oBAAoB,EAAE,IAAI,CAAC,EAAE,EAAE;QAC/B,eAAe,EAAE,IAAI,CAAC,EAAE,EAAE;QAC1B,iBAAiB,EAAE,IAAI,CAAC,EAAE,EAAE;OAC7B,CAAC,CAAC;MAEH,MAAM,CAAC,qBAAqB,CAAC,CAAC,oBAAoB,CAAC,mBAAmB,EAAE;QACtE,gBAAgB,EAAE,CAAC;QACnB,OAAO,EAAE,KAAK;QACd,KAAK,EAAE;UACL;YACE;cACE,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;cAC7B,SAAS,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAAE,EAAE,CAAC,IAAI,EAAE;cAC/D,eAAe,EAAE,mBAAmB;cACpC,cAAc,EAAE,gBAAgB;aACjC;YACD;cACE,SAAS,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,iBAAiB,EAAE;cAChE,eAAe,EAAE,cAAc;cAC/B,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC;cAC3B,cAAc,EAAE,gBAAgB;aACjC;WACF;SACF;OACF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import {\n  isPlayingDoubleDrawerAnimation,\n  registerCloseDoubleDrawerSequence,\n  registerOpenDoubleDrawerSequence\n} from '../double-drawer-animation-sequences';\nimport animationManager from '../../../services/animations/animation-manager';\n\ndescribe('Animation Sequence', function () {\n  let registerAnimationMock: jest.SpyInstance;\n\n  beforeEach(() => {\n    registerAnimationMock = jest.spyOn(animationManager, 'register');\n  });\n\n  describe('isPlayingDoubleDrawerAnimation', () => {\n    it('should return false when no animation is registered', () => {\n      expect(isPlayingDoubleDrawerAnimation()).toBeFalsy();\n    });\n  });\n\n  describe('One Ui', () => {\n    it('Should register double drawer opening sequence, opening double drawer from left to right', () => {\n      registerOpenDoubleDrawerSequence({\n        onAnimationEnds: jest.fn(),\n        onAnimationStarts: jest.fn()\n      });\n\n      expect(registerAnimationMock).toHaveBeenCalledWith('openDoubleDrawer', {\n        currentStepIndex: 0,\n        running: false,\n        steps: [\n          [\n            {\n              onStart: expect.any(Function),\n              animation: { duration: 600, from: -1000, name: 'slideInFromLeft' },\n              elementSelector: 'phn-double-drawer',\n              timingFunction: 'cubicBezierStart'\n            },\n            {\n              animation: { duration: 400, name: 'fadeInBackdrop', to: 0.6 },\n              elementSelector: 'phn-backdrop',\n              timingFunction: 'cubicBezierStart',\n              onEnd: expect.any(Function)\n            }\n          ]\n        ]\n      });\n    });\n\n    it('should register double drawer closing sequence, closing double drawer to the left', () => {\n      registerCloseDoubleDrawerSequence({\n        onBackdropFadeOutEnd: jest.fn(),\n        onAnimationEnds: jest.fn(),\n        onAnimationStarts: jest.fn()\n      });\n\n      expect(registerAnimationMock).toHaveBeenCalledWith('closeDoubleDrawer', {\n        currentStepIndex: 0,\n        running: false,\n        steps: [\n          [\n            {\n              onStart: expect.any(Function),\n              animation: { duration: 400, name: 'slideOutToLeft', to: -1000 },\n              elementSelector: 'phn-double-drawer',\n              timingFunction: 'cubicBezierEnd'\n            },\n            {\n              animation: { duration: 400, from: 0.6, name: 'fadeOutBackdrop' },\n              elementSelector: 'phn-backdrop',\n              onEnd: expect.any(Function),\n              timingFunction: 'cubicBezierEnd'\n            }\n          ]\n        ]\n      });\n    });\n  });\n});\n"]}