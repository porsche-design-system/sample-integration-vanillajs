{"version":3,"file":"back-button.spec.js","sourceRoot":"","sources":["../../../../../src/components/back-button/test/back-button.spec.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AAClC,OAAO,EAAE,WAAW,EAAY,MAAM,uBAAuB,CAAC;AAC9D,OAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAC;AACzD,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC5C,OAAO,sBAAsB,MAAM,uDAAuD,CAAC;AAC3F,OAAO,EAAE,YAAY,EAAE,MAAM,4BAA4B,CAAC;AAC1D,OAAO,EAAE,iBAAiB,EAAE,MAAM,4BAA4B,CAAC;AAC/D,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAE1D,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;EAC3B,IAAI,IAAc,CAAC;EACnB,MAAM,IAAI,GAAG,aAAa,CAAC;EAE3B,UAAU,CAAC,KAAK,IAAI,EAAE;IACpB,IAAI,GAAG,MAAM,WAAW,CAAC;MACvB,UAAU,EAAE,CAAC,UAAU,CAAC;MACxB,QAAQ,EAAE,GAAG,EAAE,CAAC,uBAAiB,IAAI,EAAE,IAAI,EAAE,WAAW,EAAC,WAAW,EAAC,gBAAgB,EAAC,qBAAqB,GAAG;KAC/G,CAAC,CAAC;IACH,WAAW,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,qBAAqB,CAAC,CAAC;IACpF,WAAW,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC;EAC1C,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,8BAA8B,EAAE,GAAG,EAAE;IACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,qBAAqB,CAAC;;;;;;KAMvC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;EAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;;IAC5E,MAAM,MAAM,GAAG,cAAc,CAAC,MAAA,IAAI,CAAC,IAAI,0CAAE,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAC7E,MAAM,CAAC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,KAAK,EAAE,CAAC;IAEhB,MAAM,CAAC,sBAAsB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IAElE,MAAM,KAAK,GAAG,sBAAsB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IAE3D,MAAM,CAAC,MAAA,KAAK,CAAC,OAAO,0CAAE,WAAW,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;IACzE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC;MACnC,cAAc,EAAE,WAAW;MAC3B,gBAAgB,EAAE,aAAa;MAC/B,gBAAgB,EAAE,iBAAiB,CAAC,MAAM;KAC3C,CAAC,CAAC;IACH,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC;MACrC,gBAAgB,EAAE,qBAAqB;MACvC,kBAAkB,EAAE,oBAAoB;MACxC,kBAAkB,EAAE,aAAa;KAClC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { h } from '@stencil/core';\nimport { newSpecPage, SpecPage } from '@stencil/core/testing';\nimport { getHTMLElement } from '../../../utility/helper';\nimport { BackButton } from '../back-button';\nimport globalDataLayerService from '../../../services/analytics/global-data-layer-service';\nimport { EventActions } from '../../../utility/constants';\nimport { ClickElementTypes } from '../../../utility/constants';\nimport { routerStore } from '../../../state/router-store';\n\ndescribe('Back button', () => {\n  let page: SpecPage;\n  const text = 'Button text';\n\n  beforeEach(async () => {\n    page = await newSpecPage({\n      components: [BackButton],\n      template: () => <phn-back-button text={text} analyticsId=\"button-id\" activeRoutingKey=\"series/mainmenu.718\" />\n    });\n    routerStore.state.routingKeyHistory = ['mainmenu', 'series', 'series/mainmenu.718'];\n    routerStore.state.routingKeyPointer = 2;\n  });\n\n  it('should render dom as defined', () => {\n    expect(page.root).toMatchInlineSnapshot(`\n      <phn-back-button>\n        <phn-p-button-pure class=\"back-button-text-link\" icon=\"arrow-head-left\" size=\"inherit\">\n          Button text\n        </phn-p-button-pure>\n      </phn-back-button>\n    `);\n  });\n\n  it('should call MENU_BACK_CLICK data event when back button is clicked', () => {\n    const button = getHTMLElement(page.root?.querySelector('phn-p-button-pure'));\n    expect(button?.innerText).toEqual(text);\n    button?.click();\n\n    expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n    const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n    expect(event.context?.eventAction).toEqual(EventActions.MENU_BACK_CLICK);\n    expect(event.componentClick).toEqual({\n      clickElementId: 'button-id',\n      clickElementName: 'Button text',\n      clickElementType: ClickElementTypes.Button\n    });\n    expect(event.componentDisplay).toEqual({\n      displayElementId: 'level3-mainmenu.718',\n      displayElementType: 'level3_back-button',\n      displayElementName: 'Button text'\n    });\n  });\n});\n"]}