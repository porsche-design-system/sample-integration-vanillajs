{"version":3,"file":"menu-item-card.js","sourceRoot":"","sources":["../../../../src/components/menu-item-card/menu-item-card.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Fragment, h, Host, JSX, Listen, Prop } from '@stencil/core';\nimport { ClickElementType, ClickElementTypes, EventAction, EventActions } from '../../utility/constants';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { getHTMLElement, isString } from '../../utility/helper';\nimport { sendDataLayerEvent } from '../../services/analytics/data-layer-event-sender';\n\n@Component({\n  tag: 'phn-menu-item-card',\n  styleUrl: 'menu-item-card.scss',\n  scoped: true\n})\nexport class MenuItemCard {\n  @Prop() text!: string;\n  @Prop() analyticsId!: string;\n  @Prop() subtext = '';\n  @Prop() elementId = '';\n  @Prop() link = '';\n  @Prop() datalayerEventAction: EventAction = EventActions.NAVIGATION_CLICK;\n  @Prop() customDatalayerProperties: TDataLayer = {};\n  @Prop() target = '_self';\n  @Prop() iconLeft = '';\n\n  @Element() el!: HTMLPhnMenuItemCardElement;\n\n  @Listen('keydown', { passive: false })\n  handleKeyDown(e: KeyboardEvent): void {\n    if (e.key === 'Enter') {\n      const anchorElement = getHTMLElement(e.target)?.querySelector('a');\n      const targetElement = anchorElement ? anchorElement : getHTMLElement(e.target);\n\n      if (targetElement) {\n        targetElement.click();\n        !anchorElement ? this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId) : null;\n      }\n    }\n  }\n\n  private sendDataLayerEvent(clickElementType: ClickElementType, elementId: string): void {\n    sendDataLayerEvent({\n      analyticsId: this.analyticsId,\n      text: this.text,\n      elementId,\n      clickElementType,\n      link: this.link,\n      customDatalayerProperties: this.customDatalayerProperties,\n      datalayerEventAction: this.datalayerEventAction\n    });\n  }\n\n  private renderTitle(): HTMLElement {\n    return (\n      <div class=\"phn-flex-row phn-align-center phn-justify-between title-container\">\n        <phn-p-heading tag=\"h3\" size=\"medium\">\n          {this.text}\n        </phn-p-heading>\n        {isString(this.iconLeft) ? <phn-p-icon name={this.iconLeft}></phn-p-icon> : null}\n      </div>\n    );\n  }\n\n  private renderSubtitle(): JSX.Element | null {\n    if (!isString(this.subtext)) {\n      return null;\n    }\n\n    return (\n      <phn-p-text\n        class={'subtext'}\n        color=\"contrast-medium\"\n        weight=\"regular\"\n        size=\"xx-small\"\n        tag=\"div\"\n        ellipsis=\"true\"\n        data-test-id=\"subtext\"\n      >\n        {this.subtext}\n      </phn-p-text>\n    );\n  }\n\n  render(): JSX.Element {\n    const body = (\n      <Fragment>\n        <div class=\"texts\">\n          {this.renderTitle()}\n          {this.renderSubtitle()}\n        </div>\n        <slot />\n      </Fragment>\n    );\n\n    if (isString(this.link))\n      return (\n        <a\n          tabIndex={-1}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Link, this.elementId);\n          }}\n          class=\"card-link\"\n          href={this.link}\n          target={this.target}\n        >\n          {body}\n        </a>\n      );\n\n    return (\n      <Host>\n        <button\n          tabIndex={-1}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId);\n          }}\n        >\n          {body}\n        </button>\n      </Host>\n    );\n  }\n}\n"]}