{"version":3,"file":"menu-item-card.spec.js","sourceRoot":"","sources":["../../../../../src/components/menu-item-card/test/menu-item-card.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { h } from '@stencil/core';\nimport { MenuItemCard } from '../menu-item-card';\nimport { ClickElementTypes, EventAction, EventActions } from '../../../utility/constants';\nimport { getHTMLElement } from '../../../utility/helper';\nimport globalDataLayerService from '../../../services/analytics/global-data-layer-service';\nimport { mockPPNDealer } from '../../../test/test-data';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\n\ndescribe('menu-item-card', () => {\n  const defaultProps = {\n    link: 'http://example.com',\n    analyticsId: 'analyticsId',\n    subtext: 'Subtext',\n    text: 'Title Text',\n    iconLeft: 'user'\n  };\n\n  const getPage = async (\n    props: typeof defaultProps & {\n      datalayerEventAction?: EventAction;\n      customDatalayerProperties?: TDataLayer;\n      elementId?: string;\n    }\n  ) => {\n    return await newSpecPage({\n      components: [MenuItemCard],\n      template: () => <phn-menu-item-card datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK} {...props} />\n    });\n  };\n\n  it('Should render anchor if there is a link', async () => {\n    const page = await getPage(defaultProps);\n    expect(page.root?.querySelector('a')?.getAttribute('href')).toEqual('http://example.com');\n  });\n\n  it('Should render a button if there is no link', async () => {\n    const page = await getPage({ ...defaultProps, link: '' });\n\n    expect(page.root?.querySelector('a')).toBeNull();\n  });\n\n  it('Should fill slots', async () => {\n    const page = await newSpecPage({\n      components: [MenuItemCard],\n      template: () => (\n        <phn-menu-item-card {...defaultProps}>\n          <h1>Children</h1>\n        </phn-menu-item-card>\n      )\n    });\n\n    expect(page.root?.querySelector('h1')?.innerText).toEqual('Children');\n  });\n\n  it('Should render subtitle ', async () => {\n    const page = await getPage({ ...defaultProps });\n\n    expect(page.root?.querySelector('.subtext')?.textContent).toEqual('Subtext');\n  });\n\n  it('Should not render subtitle ', async () => {\n    const page = await getPage({ ...defaultProps, subtext: '' });\n\n    expect(page.root?.querySelector('.subtext')).toBeNull();\n  });\n\n  it('Should render heading with title and icon', async () => {\n    const page = await getPage({ ...defaultProps });\n\n    expect(page.root?.querySelector('.title-container > phn-p-heading')?.textContent).toEqual('Title Text');\n    expect(page.root?.querySelector('.title-container > phn-p-icon')?.getAttribute('name')).toEqual('user');\n  });\n\n  it('Should render text instead of heading', async () => {\n    const page = await getPage({ ...defaultProps, elementId: 'dealer/id' });\n\n    expect(page.root?.querySelector('.title-container > phn-p-heading')).toBeNull();\n    expect(page.root?.querySelector('.title-container > phn-p-text')?.textContent).toEqual('Title Text');\n  });\n\n  it('Should render heading without icon if iconHeader is not provided', async () => {\n    const page = await getPage({ ...defaultProps, iconLeft: '' });\n\n    expect(page.root?.querySelector('.title-container > phn-p-icon')).toBeNull();\n  });\n\n  describe('data analytics', () => {\n    it('should send default NAVIGATION_LINK_CLICK data event after link is clicked', async () => {\n      const page = await getPage({ ...defaultProps, link: '' });\n\n      getHTMLElement(page.root?.querySelector('button'))?.click();\n\n      expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.NAVIGATION_LINK_CLICK);\n      expect(event.componentClick).toEqual({\n        clickElementId: 'analyticsId',\n        clickElementName: 'Title Text',\n        clickElementType: 'button',\n        targetElement: undefined\n      });\n      expect(event.componentDisplay).toEqual({\n        displayElementId: 'level0',\n        displayElementName: 'Title Text',\n        displayElementType: 'level1_menu-item'\n      });\n    });\n\n    it('should send NAVIGATION_LINK_CLICK data event after keyboard navigation with enter is used for link', async () => {\n      const page = await getPage(defaultProps);\n      const keyboardEvent = new KeyboardEvent('keydown', {\n        key: 'Enter'\n      });\n\n      page.root?.dispatchEvent(keyboardEvent);\n      await page.waitForChanges();\n\n      expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.NAVIGATION_LINK_CLICK);\n      expect(event.componentClick).toEqual({\n        clickElementId: 'analyticsId',\n        clickElementName: 'Title Text',\n        clickElementType: 'link',\n        targetElement: undefined,\n        targetUrl: 'http://example.com'\n      });\n      expect(event.componentDisplay).toEqual({\n        displayElementId: 'level0',\n        displayElementName: 'Title Text',\n        displayElementType: 'level1_menu-item'\n      });\n    });\n\n    it('should send NAVIGATION_LINK_CLICK data event after keyboard navigation with enter is used for button', async () => {\n      const page = await getPage({ ...defaultProps, link: '' });\n      const keyboardEvent = new KeyboardEvent('keydown', {\n        key: 'Enter'\n      });\n\n      page.root?.dispatchEvent(keyboardEvent);\n      await page.waitForChanges();\n\n      expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.NAVIGATION_LINK_CLICK);\n      expect(event.componentClick).toEqual({\n        clickElementId: 'analyticsId',\n        clickElementName: 'Title Text',\n        clickElementType: 'button',\n        targetElement: undefined\n      });\n      expect(event.componentDisplay).toEqual({\n        displayElementId: 'level0',\n        displayElementName: 'Title Text',\n        displayElementType: 'level1_menu-item'\n      });\n    });\n\n    it('should send META_FUNCTION_CLICK data event after any link is clicked', async () => {\n      const page = await getPage({ ...defaultProps, datalayerEventAction: EventActions.META_FUNCTION_CLICK });\n\n      getHTMLElement(page.root?.querySelector('a'))?.click();\n\n      expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.META_FUNCTION_CLICK);\n      expect(event.componentClick).toEqual({\n        clickElementId: 'analyticsId',\n        clickElementName: 'Title Text',\n        clickElementType: 'link',\n        targetElement: undefined,\n        targetUrl: 'http://example.com'\n      });\n      expect(event.componentDisplay).toEqual({\n        displayElementId: 'level0',\n        displayElementName: 'Title Text',\n        displayElementType: 'level1_menu-item'\n      });\n    });\n\n    it('should send DEALER_CONTACT_CLICK data event with custom data', async () => {\n      const searchTerm = 'Fancy search term';\n      const phoneLink = 'Call me baby';\n      const elementId = 'mainmenu.finddealer.phone';\n\n      const page = await getPage({\n        ...defaultProps,\n        analyticsId: elementId,\n        text: mockPPNDealer.contactDetails.phoneNumber,\n        datalayerEventAction: EventActions.DEALER_CONTACT_CLICK,\n        link: phoneLink,\n        customDatalayerProperties: {\n          partner: {\n            companyId: mockPPNDealer.porschePartnerNo,\n            companyName: mockPPNDealer.name\n          },\n          componentSearch: {\n            searchTerm\n          }\n        }\n      });\n\n      getHTMLElement(page.root?.querySelector('a'))?.click();\n\n      expect(globalDataLayerService.gdl.DataLayerStore).toHaveLength(1);\n\n      const event = globalDataLayerService.gdl.DataLayerStore[0];\n\n      expect(event.context?.eventAction).toEqual(EventActions.DEALER_CONTACT_CLICK);\n      expect(event.componentClick).toEqual({\n        clickElementId: elementId,\n        clickElementName: mockPPNDealer.contactDetails.phoneNumber,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: phoneLink\n      });\n      expect(event.partner).toEqual({\n        companyId: mockPPNDealer.porschePartnerNo,\n        companyName: mockPPNDealer.name\n      });\n      expect(event.componentSearch).toEqual({\n        searchTerm\n      });\n    });\n  });\n});\n"]}