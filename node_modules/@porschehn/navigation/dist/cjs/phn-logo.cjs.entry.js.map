{"file":"phn-logo.entry.cjs.js","mappings":";;;;;;;;;;;AAAA,MAAM,OAAO,GAAG,EAAE;;MCsBL,IAAI;;;;;;;iBAIsBA,sBAAe,CAAC,KAAK;gBACvBC,qBAAc,CAAC,MAAM;;;EAOhD,kBAAkB,CAAC,KAAY;IACrCC,6CAAsB,CAAC,kBAAkB,CAACC,4BAAY,CAAC,WAAW,EAAE;MAClE,cAAc,EAAE;QACd,cAAc,EAAE,KAAK,CAAC,EAAE;QACxB,gBAAgB,EAAE,KAAK,CAAC,IAAI;QAC5B,gBAAgB,EAAEC,iCAAiB,CAAC,IAAI;QACxC,SAAS,EAAE,KAAK,CAAC,IAAI;OACtB;KACF,CAAC,CAAC;GACJ;EAED,iBAAiB;IACfC,oCAAe,CAAC,IAAI,CAAC,EAAE,CAAC;OACrB,IAAI,CAAC,MAAMA,oCAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;OACpC,IAAI,CAAC;MACJ,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB,CAAC;OACD,KAAK,CAAC;MACL,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB,CAAC,CAAC;GACN;EAEO,WAAW,CAAC,MAAc,EAAE,GAAoB,EAAE,KAAY,EAAE,IAAsB;IAC5F,OAAOC,4CAAiC,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;GACtF;EAEO,gBAAgB,CAAC,MAAc,EAAE,GAAoB,EAAE,IAAsB;IACnF,OAAOA,4CAAiC,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,uBAAuB,GAAG,sBAAsB,CAAC;GAChH;EAED,MAAM;IACJ,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAGC,+BAAe,CAAC,KAAK,CAAC;IAE9C,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAEzE,OAAOC,gBAAS,CAAC,IAAI,CAAC,UAAU,CAAC,IAC/BC,4BACE,OAAO,EAAE,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAC7C,IAAI,EAAEC,eAAQ,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,SAAS,EAC/C,IAAI,EAAE,EAAE,YAAY,EAAE,aAAa,EAAE,EACrC,IAAI,EAAC,OAAO,EACZ,KAAK,EAAEC,oBAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,GAC3C,KAEFF,yBACE,OAAO,EAAE,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAC7C,IAAI,EAAEC,eAAQ,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,SAAS,EAC/C,IAAI,EAAE,EAAE,YAAY,EAAE,aAAa,EAAE,GACrC,CACH,CAAC;GACH;;;;;;;","names":["NavigationTheme","NavigationMode","globalDataLayerService","EventActions","ClickElementTypes","componentsReady","isShopAvailableAndLogoLinksToShop","navContentStore","isDesktop","h","isString","getRightTheme"],"sources":["src/components/logo/logo.scss?tag=phn-logo&encapsulation=scoped","src/components/logo/logo.tsx"],"sourcesContent":["\n:host {\n}\n","import { Component, Element, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { ApplicationType } from '../../components';\nimport { TLink, TShopMenu } from '../../entities/content';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { componentsReady } from '@porsche-design-system/components-js';\nimport { navContentStore } from '../../state/nav-content-store';\nimport {\n  ClickElementTypes,\n  EventActions,\n  NavigationMode,\n  NavigationModeType,\n  NavigationTheme,\n  NavigationThemeType\n} from '../../utility/constants';\nimport { getRightTheme, isDesktop, isString } from '../../utility/helper';\nimport { isShopAvailableAndLogoLinksToShop } from '../../utility/helpers/shop-helper';\n\n@Component({\n  tag: 'phn-logo',\n  styleUrl: 'logo.scss',\n  scoped: true\n})\nexport class Logo {\n  @Prop() size!: string;\n  @Prop() locale!: string;\n  @Prop() app!: ApplicationType;\n  @Prop() theme: NavigationThemeType = NavigationTheme.light;\n  @Prop() mode: NavigationModeType = NavigationMode.navbar;\n  @Prop() breakpoint!: number;\n\n  @Event() logoLoaded!: EventEmitter<void>;\n\n  @Element() el!: HTMLPhnLogoElement;\n\n  private sendDataLayerEvent(crest: TLink): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.CREST_CLICK, {\n      componentClick: {\n        clickElementId: crest.id,\n        clickElementName: crest.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: crest.link\n      }\n    });\n  }\n\n  componentWillLoad(): void {\n    componentsReady(this.el) // TR: I believe this first call waits for the phn-logo element to be ready\n      .then(() => componentsReady(this.el)) // TR: Then this second call actually waits for its children (i.e.: phn-p-marque) to be ready\n      .then(() => {\n        this.logoLoaded.emit();\n      })\n      .catch(() => {\n        this.logoLoaded.emit();\n      });\n  }\n\n  private getLogoLink(locale: string, app: ApplicationType, crest: TLink, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? shop.link : crest.link;\n  }\n\n  private getLogoAriaLabel(locale: string, app: ApplicationType, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? 'Porsche Shop Homepage' : 'Porsche.com Homepage';\n  }\n\n  render(): HTMLPhnLogoElement {\n    const { crest, shop } = navContentStore.state;\n\n    const logoLink = this.getLogoLink(this.locale, this.app, crest, shop);\n    const logoAriaLabel = this.getLogoAriaLabel(this.locale, this.app, shop);\n\n    return isDesktop(this.breakpoint) ? (\n      <phn-p-wordmark\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n        size=\"small\"\n        theme={getRightTheme(this.theme, this.mode)}\n      />\n    ) : (\n      <phn-p-crest\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n      />\n    );\n  }\n}\n"],"version":3}