{"file":"contextual-drawer.entry.cjs.js","mappings":"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","names":["animationManager","makeSequence","AnimationDurations","DrawerStatusValues","h","Host"],"sources":["src/components/contextual-drawer/contextual-drawer-animation-sequence.ts","src/components/contextual-drawer/contextual-drawer.scss?tag=contextual-drawer&encapsulation=scoped","src/components/contextual-drawer/contextual-drawer.tsx"],"sourcesContent":["import animationManager, { makeSequence } from '../../services/animations/animation-manager';\nimport { AnimationDurations } from '../../utility/constants';\n\nexport const registerContextualDrawerOpening = ({\n  onStartOpening,\n  onFinishOpening\n}: {\n  onStartOpening: () => void;\n  onFinishOpening: () => void;\n}): void => {\n  animationManager.register(\n    'openContextualDrawer',\n    makeSequence(\n      [\n        [\n          {\n            onStart: onStartOpening,\n            elementSelector: 'contextual-drawer',\n            animation: {\n              name: 'slideInFromLeft',\n              to: 0,\n              duration: AnimationDurations.drawerOpen,\n              from: -1000\n            }\n          },\n          {\n            onEnd: onFinishOpening,\n            elementSelector: '.contextual-drawer-backdrop',\n            animation: {\n              name: 'fadeInBackdrop',\n              duration: AnimationDurations.backdrop,\n              to: 0.6\n            }\n          }\n        ]\n      ],\n      { timingFunction: 'cubicBezierStart' }\n    )\n  );\n};\n\nexport const registerContextualDrawerClosing = ({\n  onStartClosing,\n  onEndClosing\n}: {\n  onStartClosing: () => void;\n  onEndClosing: () => void;\n}): void => {\n  animationManager.register(\n    'closeContextualDrawer',\n    makeSequence(\n      [\n        [\n          {\n            onStart: onStartClosing,\n            elementSelector: 'contextual-drawer',\n            animation: {\n              name: 'slideOutToLeft',\n              to: -1000,\n              duration: AnimationDurations.drawer\n            }\n          },\n          {\n            elementSelector: '.contextual-drawer-backdrop',\n            animation: {\n              name: 'fadeOutBackdrop',\n              to: 0.6,\n              duration: AnimationDurations.backdrop\n            },\n            onEnd: onEndClosing\n          }\n        ]\n      ],\n      { timingFunction: 'cubicBezierEnd' }\n    )\n  );\n};\n","@import '../../scss';\n\n$drawer-width: (\n  'mobile':  100%,\n  'm':  p-px-to-rem(336px),\n  'l':  p-px-to-rem(405px),\n  'xxl':  p-px-to-rem(606px),\n  'default': p-px-to-rem(330px)\n);\n\n:host {\n  float: right;\n  right: -150%;\n  width: fit-content;\n  box-sizing: border-box;\n  position: fixed;\n  top: 0;\n  height: 100vh;\n  z-index: $phn-z-index-mega-flyout + 1;\n\n  @include pds-media-query-min-max('base', 's') {\n    width: map-get($drawer-width, 'mobile');\n  }\n\n  .contextual-drawer-backdrop {\n    position: fixed;\n    z-index: $phn-z-index-mega-flyout;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.8);\n    cursor: pointer;\n    @include pds-frosted-glass()\n  }\n\n  .close-button {\n    $button-width: 48px;\n    $button-margin: 28px;\n    position: absolute;\n    right: p-px-to-rem(-($button-width + $button-margin));\n    z-index: $phn-z-index-mega-flyout + 1;\n    width: p-px-to-rem($button-width);\n    height: p-px-to-rem($button-width);\n    margin-top: p-px-to-rem($button-margin);\n    cursor: pointer;\n\n    @include pds-media-query-min-max('base', 's') {\n      display: none;\n    }\n  }\n\n  .contextual-drawer{\n    background-color: $main-drawer-background-color;\n    position: relative;\n    overflow-y: auto;\n    overflow-x: hidden;\n    width: map-get($drawer-width, 'default');\n    border-radius: 0 4px 4px 0;\n    height: 100vh;\n    z-index: $phn-z-index-mega-flyout + 1;\n\n    @include pds-media-query-min-max('base', 's') {\n      width: map-get($drawer-width, 'mobile');\n      border-radius: 0;\n      background-color: $main-drawer-mobile-background-color;\n    }\n\n    @include pds-media-query-min('m') {\n      width: map-get($drawer-width, 'm');\n    }\n\n    @include pds-media-query-min('l') {\n      width: map-get($drawer-width, 'l');\n    }\n\n    @include pds-media-query-min('xxl') {\n      width: map-get($drawer-width, 'xxl');\n    }\n  }\n\n\n}\n","import { Component, Event, EventEmitter, h, Host, JSX, Listen, State } from '@stencil/core';\nimport {\n  registerContextualDrawerClosing,\n  registerContextualDrawerOpening\n} from './contextual-drawer-animation-sequence';\nimport animationManager from '../../services/animations/animation-manager';\nimport { DrawerStatusTypes, DrawerStatusValues } from '../../utility/constants/app';\n\n@Component({\n  tag: 'contextual-drawer',\n  styleUrl: 'contextual-drawer.scss',\n  scoped: true\n})\nexport class ContextualDrawer {\n  @Event() openBackdrop!: EventEmitter<boolean>;\n  @State() isDrawerOpened = false;\n\n  @Event({ composed: true, bubbles: true }) phnContextualDrawerStatus!: EventEmitter<{\n    status: DrawerStatusTypes;\n  }>;\n\n  @Listen('phnCloseContextualDrawer', { target: 'window' })\n  closeContextualDrawer(): void {\n    this.closeDrawer();\n  }\n\n  @Listen('phnOpenContextualDrawer', { target: 'window' })\n  openContextualDrawer(): void {\n    animationManager.play('openContextualDrawer');\n  }\n\n  private closeDrawer(): void {\n    animationManager.play('closeContextualDrawer');\n  }\n\n  componentDidLoad(): void {\n    registerContextualDrawerOpening({\n      onStartOpening: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.startOpening });\n        this.isDrawerOpened = true;\n        const contextualDrawerHeader = document.getElementById('contextual-drawer-header');\n        if (contextualDrawerHeader) {\n          contextualDrawerHeader.style.display = '';\n        }\n      },\n      onFinishOpening: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.finishOpening });\n      }\n    });\n\n    registerContextualDrawerClosing({\n      onStartClosing: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.startClosing });\n      },\n      onEndClosing: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.finishClosing });\n        this.isDrawerOpened = false;\n      }\n    });\n  }\n\n  render(): JSX.Element {\n    return (\n      <Host style={{ display: this.isDrawerOpened ? '' : 'none' }}>\n        <phn-p-button\n          variant=\"secondary\"\n          className=\"close-button\"\n          theme=\"dark\"\n          hide-label=\"true\"\n          icon={'close'}\n          aria-label=\"close modal dialog\"\n          onClick={() => {\n            this.closeDrawer();\n          }}\n        />\n        <div class=\"contextual-drawer\" id=\"contextual-drawer\">\n          <div slot=\"contextual_drawer_header\">\n            <slot name=\"contextual_drawer_header\"></slot>\n          </div>\n        </div>\n        <div\n          aria-hidden=\"true\"\n          class=\"contextual-drawer-backdrop\"\n          onClick={() => {\n            this.closeDrawer();\n          }}\n        />\n      </Host>\n    );\n  }\n}\n"],"version":3}