{"file":"data-layer-event-sender-297098a6.js","mappings":";;;;;;;SAegB,kBAAkB,CAAC,EACjC,oBAAoB,GAAGA,4BAAY,CAAC,gBAAgB,EACpD,WAAW,EACX,IAAI,EACJ,IAAI,EACJ,SAAS,EACT,gBAAgB,EAChB,yBAAyB,GAAG,EAAE,EACL;EACzBC,6CAAsB,CAAC,kBAAkB,CAAC,oBAAoB,gCAC5D,cAAc,kBACZ,cAAc,EAAE,WAAW,EAC3B,gBAAgB,EAAE,IAAI,EACtB,aAAa,EAAEC,iCAAgB,CAAC,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAC,EACtE,gBAAgB,KACZ,gBAAgB,KAAKC,iCAAiB,CAAC,IAAI,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,IAE5E,gBAAgB,EAAE;MAChB,gBAAgB,EAAED,iCAAgB,CAAC,yBAAyB,CAAC,SAAS,CAAC;MACvE,kBAAkB,EAAEA,iCAAgB,CAAC,2BAA2B,CAC9DE,mCAAwB,CAAC,SAAS,CAAC,EACnCC,4BAAY,CAAC,QAAQ,CACtB;MACD,kBAAkB,EAAE,IAAI;KACzB,IACE,yBAAyB,IACxB,oBAAoB,KAAKL,4BAAY,CAAC,iBAAiB;MACvD;MACE,GAAG,EAAE;QACH,cAAc,EAAE,IAAI,CAAC,WAAW,EAAE;OACnC;KACF;MACD,EAAE,GACN,CAAC;AACL;;;;","names":["EventActions","globalDataLayerService","analyticsManager","ClickElementTypes","removeLastRoutingSegment","ElementTypes"],"sources":["src/services/analytics/data-layer-event-sender.ts"],"sourcesContent":["import { ClickElementType, ClickElementTypes, ElementTypes, EventAction, EventActions } from '../../utility/constants';\nimport globalDataLayerService from './global-data-layer-service';\nimport analyticsManager from './analytics-manager';\nimport { removeLastRoutingSegment } from '../../entities/routing-key';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\n\ntype DataLayerEventSenderType = {\n  datalayerEventAction: EventAction;\n  analyticsId: string;\n  text: string;\n  link: string;\n  elementId: string;\n  clickElementType: ClickElementType;\n  customDatalayerProperties: TDataLayer;\n};\nexport function sendDataLayerEvent({\n  datalayerEventAction = EventActions.NAVIGATION_CLICK,\n  analyticsId,\n  text,\n  link,\n  elementId,\n  clickElementType,\n  customDatalayerProperties = {}\n}: DataLayerEventSenderType): void {\n  globalDataLayerService.pushDataLayerEvent(datalayerEventAction, {\n    componentClick: {\n      clickElementId: analyticsId,\n      clickElementName: text,\n      targetElement: analyticsManager.getModelTargetElement(elementId, text),\n      clickElementType,\n      ...(clickElementType === ClickElementTypes.Link ? { targetUrl: link } : {})\n    },\n    componentDisplay: {\n      displayElementId: analyticsManager.calculateDisplayElementId(elementId),\n      displayElementType: analyticsManager.calculateDisplayElementType(\n        removeLastRoutingSegment(elementId),\n        ElementTypes.menuItem\n      ),\n      displayElementName: text\n    },\n    ...customDatalayerProperties,\n    ...(datalayerEventAction === EventActions.MODEL_RANGE_CLICK\n      ? {\n          car: {\n            modelRangeName: text.toLowerCase()\n          }\n        }\n      : {})\n  });\n}\n"],"version":3}