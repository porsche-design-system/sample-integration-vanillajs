'use strict';

class Timeout {
  constructor(delay) {
    this.delay = delay;
    this.timer = null;
  }
  set(cb) {
    this.cancel();
    this.timer = setTimeout(async () => {
      await cb();
      this.cancel();
    }, this.delay);
  }
  cancel() {
    if (this.timer !== null) {
      clearTimeout(this.timer);
      if (typeof this.timer.unref === 'function') {
        this.timer.unref();
      }
      this.timer = null;
    }
  }
}

exports.Timeout = Timeout;

//# sourceMappingURL=timeout-2252a895.js.map