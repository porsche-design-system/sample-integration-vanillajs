{"file":"phn-autocomplete-search-field.phn-dealer-details-drawer.phn-dealer-search-by-number-of-dealers.phn-dealer-search-form-dropdown.phn-dealer-search-form-geolocation.phn-dealer-search-results.phn-menu-item-card.phn-myporsche-login.entry.cjs.js","mappings":"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","names":["h","isString","getHTMLInputElement","dealerSearchResultsStore","index","getAssetPath","getConfig","navStateStore","globalDataLayerService","EventActions","analyticsManager","DEALER_SEARCH_DISPLAY_ELEMENT_ID","componentsOnReady","Timeout","Fragment","splitLocale","navContentStore","getOpeningHours","Host","isDesktop","getDealerDetailsRoutingKey","MenuItemVariant","featureToggles","sanitizeDealerHomepage","addQueryParamsToUrl","getAllPPNDealersForMarket","logger","getErrorMessage","ElementTypes","DEALER_MARKET_SEARCH_TERM","DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER","getPPNDealersByRegion","Logger","GEOLOCATION_BUTTON_SEARCH_TERM","windowService","NaviError","NaviErrorTypes","getRegionSpecificCountry","getPPNDealers","ClickElementTypes","DEALER_SEARCH_TARGET_ELEMENT","RoutingKeys","getString","getHTMLElement","sendDataLayerEvent"],"sources":["src/components/autocomplete-search-field/autocomplete-search-field.scss?tag=phn-autocomplete-search-field&encapsulation=scoped","src/components/autocomplete-search-field/autocomplete-search-field.tsx","src/components/dealer-details-drawer/dealer-details-drawer.scss?tag=phn-dealer-details-drawer&encapsulation=scoped","src/components/dealer-details-drawer/dealer-details-drawer.tsx","src/components/dealer-search-form/error-message.tsx","src/components/dealer-search-by-number-of-dealers/dealer-search-by-number-of-dealers.scss?tag=phn-dealer-search-by-number-of-dealers&encapsulation=scoped","src/components/dealer-search-by-number-of-dealers/dealer-search-by-number-of-dealers.tsx","src/components/dealer-search-form-dropdown/dealer-search-form-dropdown.scss?tag=phn-dealer-search-form-dropdown&encapsulation=scoped","src/components/dealer-search-form-dropdown/dealer-search-form-dropdown.tsx","src/services/maps-service.ts","src/components/dealer-search-form-geolocation/dealer-search-form-geolocation.scss?tag=phn-dealer-search-form-geolocation&encapsulation=scoped","src/components/dealer-search-form-geolocation/dealer-search-form-geolocation.tsx","src/components/dealer-search-results/dealer-search-form-item-card.tsx","src/components/dealer-search-results/dealer-search-map-link.tsx","src/components/dealer-search-results/dealer-search-results.scss?tag=phn-dealer-search-results&encapsulation=scoped","src/components/dealer-search-results/dealer-search-results.tsx","src/components/menu-item-card/menu-item-card.scss?tag=phn-menu-item-card&encapsulation=scoped","src/components/menu-item-card/menu-item-card.tsx","src/components/myporsche-login/myporsche-login.scss?tag=phn-myporsche-login&encapsulation=scoped","src/components/myporsche-login/myporsche-login.tsx"],"sourcesContent":["@import '../../scss';\n\n:host {\n  display: block;\n\n  .form-container {\n    display: block;\n    position: relative;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    box-sizing: border-box;\n\n    phn-p-text-field-wrapper {\n      width: 100%;\n\n      input[type=search]::-ms-clear {  display: none; width : 0; height: 0; }\n      input[type=search]::-ms-reveal {  display: none; width : 0; height: 0; }\n      input[type=\"search\"]::-webkit-search-decoration,\n      input[type=\"search\"]::-webkit-search-cancel-button,\n      input[type=\"search\"]::-webkit-search-results-button,\n      input[type=\"search\"]::-webkit-search-results-decoration { display: none; }\n    }\n\n    &.inline-search-form {\n      margin-right: p-px-to-rem(16px);\n    }\n  }\n\n  .prediction-container {\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 10;\n    width: 100%;\n\n    background-color: white;\n    border: 1px solid $pds-theme-light-contrast-low;\n\n    ul {\n      margin-block: 0;\n      margin-inline: 0;\n      padding-inline: 0;\n      list-style-type: none;\n\n      li {\n        padding-left: p-px-to-rem(12px);\n        padding: p-px-to-rem(8px) 0 p-px-to-rem(8px) p-px-to-rem(12px);\n        color: $pds-theme-light-primary;\n\n        &:hover {\n          color: $pds-theme-light-notification-info;\n          background-color: $pds-theme-light-background-surface;\n        }\n\n        &.highlighted-prediction {\n          color: $pds-theme-light-notification-info;\n        }\n      }\n    }\n\n    .powered-by-google {\n      margin: p-px-to-rem(12px) 0 p-px-to-rem(12px) p-px-to-rem(12px);\n    }\n  }\n}\n","import { Component, EventEmitter, h, Prop, State, Event, getAssetPath, Element, Listen, Watch } from '@stencil/core';\nimport { Prediction } from '../../entities/places';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { getConfig, getHTMLInputElement, isString } from '../../utility/helper';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\n\n@Component({\n  tag: 'phn-autocomplete-search-field',\n  styleUrl: 'autocomplete-search-field.scss',\n  scoped: true\n})\nexport class AutocompleteSearchField {\n  @Prop() placeholder!: string;\n  @Prop() predictions!: Prediction[];\n  @Prop() initialValue = '';\n  @Prop() errorState = '';\n  @Prop() errorMessage = '';\n\n  @State() showPredictions = false;\n  @State() highlightedPredictionIndex = -1;\n  @State() searchterm = this.initialValue;\n\n  @Event() searchInput!: EventEmitter<string>;\n  @Event() clearSearch!: EventEmitter<void>;\n  @Event() submitSearch!: EventEmitter<Prediction | null>;\n  @Event() predictionsToggle!: EventEmitter<boolean>;\n  @Event() autoCompleteLoaded!: EventEmitter<boolean>;\n\n  @Element() el!: HTMLPhnAutocompleteSearchFieldElement;\n\n  @Listen('click', { passive: true, target: 'window' })\n  clickListener(e: MouseEvent): void {\n    this.showPredictions =\n      e.composedPath()[0] === this.el.querySelector('input.autofocus') && this.predictions.length > 0;\n  }\n\n  @Listen('keydown', { passive: false })\n  keydownListener(e: KeyboardEvent): void {\n    if (e.key === 'Escape' && this.showPredictions) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.showPredictions = false;\n    }\n  }\n\n  @Watch('showPredictions')\n  watchShowPredictions(newValue: boolean): void {\n    this.predictionsToggle.emit(newValue);\n  }\n\n  @Watch('initialValue')\n  watchInitialValue(): void {\n    this.searchterm = this.initialValue;\n  }\n\n  componentDidRender(): void {\n    this.autoCompleteLoaded.emit(true);\n  }\n\n  private onKeyDown(pressedKey: string): void {\n    if (this.predictions.length === 0) return;\n\n    switch (pressedKey) {\n      case 'ArrowDown':\n        if (!this.showPredictions) {\n          return;\n        }\n        if (this.highlightedPredictionIndex === this.predictions.length - 1) {\n          this.highlightedPredictionIndex = 0;\n          break;\n        }\n        this.highlightedPredictionIndex++;\n        break;\n\n      case 'ArrowUp':\n        if (!this.showPredictions) {\n          return;\n        }\n        if (this.highlightedPredictionIndex < 0) {\n          this.highlightedPredictionIndex = 0;\n          break;\n        } else if (this.highlightedPredictionIndex === 0) {\n          this.highlightedPredictionIndex = this.predictions.length - 1;\n          break;\n        }\n        this.highlightedPredictionIndex--;\n        break;\n    }\n\n    if (this.highlightedPredictionIndex > -1) {\n      this.searchterm = this.predictions[this.highlightedPredictionIndex].text;\n    }\n  }\n\n  private onSubmit() {\n    const prediction =\n      this.highlightedPredictionIndex < 0 ? this.predictions[0] : this.predictions[this.highlightedPredictionIndex];\n    this.submitSearch.emit(prediction ?? null);\n    this.showPredictions = false;\n    if (prediction !== undefined) this.searchterm = prediction.text;\n  }\n\n  render(): HTMLPhnAutocompleteSearchFieldElement {\n    return (\n      <form\n        class=\"form-container\"\n        onSubmit={(event) => {\n          event.preventDefault();\n          this.onSubmit();\n        }}\n      >\n        <phn-p-text-field-wrapper\n          data-test-id=\"dealer-search-form-input\"\n          state={isString(this.errorMessage) ? 'error' : 'none'}\n          message={this.errorMessage}\n        >\n          <input\n            class=\"autofocus\"\n            aria-label=\"Find a dealer by typing a city name or zip code\"\n            type=\"search\"\n            placeholder={this.placeholder}\n            autocomplete=\"off\"\n            role=\"combobox\"\n            data-validate=\"required\"\n            aria-expanded={(this.predictions.length > 0 && this.showPredictions).toString()}\n            aria-controls=\"predictions\"\n            aria-autocomplete=\"list\"\n            aria-activedescendant={this.showPredictions ? String(this.highlightedPredictionIndex) : undefined}\n            value={this.searchterm}\n            onInput={(event: Event) => {\n              event.preventDefault();\n\n              this.showPredictions = true;\n              this.highlightedPredictionIndex = -1;\n\n              const value = getHTMLInputElement(event.target)?.value;\n\n              if (!isString(value)) {\n                this.searchterm = '';\n                this.showPredictions = false;\n                dealerSearchResultsStore.state.savedDealerCookie = null;\n                this.clearSearch.emit();\n                return;\n              }\n\n              this.searchInput.emit(value);\n            }}\n            onKeyDown={(event: KeyboardEvent) => {\n              this.onKeyDown(event.key);\n            }}\n          />\n        </phn-p-text-field-wrapper>\n\n        {this.predictions.length > 0 && this.showPredictions ? (\n          <div class=\"prediction-container\">\n            <ul\n              id=\"predictions\"\n              data-test-id=\"dealer-search-autocomplete-predictions\"\n              role=\"listbox\"\n              aria-label=\"List of location predictions\"\n            >\n              {this.predictions.map((prediction, index) => (\n                <li\n                  key={prediction.id}\n                  class={index === this.highlightedPredictionIndex ? 'highlighted-prediction' : ''}\n                  role=\"option\"\n                  aria-selected={String(index === this.highlightedPredictionIndex)}\n                  id={String(index)}\n                  onClick={() => {\n                    this.highlightedPredictionIndex = index;\n                    this.onSubmit();\n                  }}\n                  onKeyDown={(event: KeyboardEvent) => {\n                    // TODO: does this code ever get executed?\n                    if (event.key === 'Enter') {\n                      this.onSubmit();\n                    }\n                  }}\n                >\n                  <phn-p-text color=\"inherit\">{prediction.text}</phn-p-text>\n                </li>\n              ))}\n            </ul>\n            <img\n              class=\"powered-by-google\"\n              src={getAssetPath(\n                `${getConfig(navStateStore.state.env).ASSETS_URL}/icon-assets/powered_by_google_on_white.png`\n              )}\n              alt=\"powered by Google\"\n            />\n          </div>\n        ) : null}\n      </form>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  margin-top: p-px-to-rem(26px);\n\n  @include pds-media-query-min('s') {\n    margin-top: p-px-to-rem(-2px);\n  }\n\n  @include pds-media-query-min('l') {\n    margin-top: p-px-to-rem(-3px);\n  }\n\n  @include pds-media-query-min('xxl') {\n    margin-top: p-px-to-rem(-7px);\n  }\n\n  .skeleton-headline {\n    width: auto;\n    height: p-px-to-rem(50px);\n    background: $pds-theme-light-contrast-low;\n    margin-bottom:  p-px-to-rem(28px);\n    border-radius: 4px;\n  }\n\n  phn-p-heading{\n    margin-bottom: p-px-to-rem(24px);\n  }\n\n  phn-menu-item {\n    margin-top: p-px-to-rem(24px);\n\n    &:first-of-type {\n      margin-top: p-px-to-rem(14px);\n    }\n  }\n\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n\n    &.skeleton-menu-item {\n      width: auto;\n      height: p-px-to-rem(20px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n  }\n}\n","import { Component, Element, Event, EventEmitter, Fragment, h, Host, Prop, State } from '@stencil/core';\nimport { splitLocale } from '../../entities/locale';\nimport { getDealerDetailsRoutingKey } from '../../entities/routing-key';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { DEALER_SEARCH_DISPLAY_ELEMENT_ID, EventAction, EventActions, MenuItemVariant } from '../../utility/constants';\nimport { addQueryParamsToUrl, isDesktop, isString } from '../../utility/helper';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { PPNDealer } from '../../entities/dealer-response';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { getOpeningHours, sanitizeDealerHomepage } from '../../utility/helpers/dealer-search-helper';\nimport featureToggles from '../../services/feature-toggles';\n\n@Component({\n  tag: 'phn-dealer-details-drawer',\n  styleUrl: 'dealer-details-drawer.scss',\n  scoped: true\n})\nexport class DealerDetailsDrawer {\n  @Prop() dealerId!: string;\n  @Prop() locale!: string;\n  @Prop() breakpoint!: number;\n\n  @State() errorMessage = '';\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnDealerDetailsDrawerElement;\n\n  @Event() clickDrawerHeaderBack!: EventEmitter<void>;\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  componentDidLoad(): void {\n    const dealer = this.getDealer();\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_DETAILS_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.getDealerResultsLoadDisplayElementId(DEALER_SEARCH_DISPLAY_ELEMENT_ID),\n        displayElementType: analyticsManager.getDealerResultsLoadDisplayElementType(),\n        displayElementName: dealer?.name\n      },\n      componentSearch: {\n        searchTerm: dealerSearchResultsStore.state.searchTerm\n      },\n      partner: {\n        companyName: dealer?.name,\n        companyId: dealer?.porschePartnerNo\n      }\n    });\n  }\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = false;\n  }\n\n  private getDealer(): PPNDealer {\n    const { ppnDealer: dealer } = dealerSearchResultsStore.state.ppnDealers[this.dealerId] || {};\n\n    return dealer;\n  }\n\n  private renderHeading(name: string): HTMLElement | null {\n    return (\n      <Fragment>\n        {this.showSkeleton ? <div class=\"skeleton-headline\" /> : null}\n        <phn-p-heading\n          style={{ display: this.showSkeleton ? 'none' : '' }}\n          tag=\"h3\"\n          size=\"large\"\n          data-test-id=\"dealer-headline\"\n        >\n          {name}\n        </phn-p-heading>\n      </Fragment>\n    );\n  }\n\n  render(): HTMLPhnDealerDetailsDrawerElement {\n    const ppnDealer = this.getDealer();\n\n    if (ppnDealer === undefined) {\n      return <div>{this.errorMessage}</div>;\n    }\n    const language = splitLocale(this.locale).language;\n    const { testDrive, finder, bookService } = navContentStore.state.dealer.details;\n\n    const isAddressLocalized = Object.values(ppnDealer.addressLocalized).every((x) => x != null && x != '');\n    const address =\n      language === 'en' ? ppnDealer.address : isAddressLocalized ? ppnDealer.addressLocalized : ppnDealer.address;\n    const name =\n      language === 'en' ? ppnDealer.name : isString(ppnDealer.nameLocalized) ? ppnDealer.nameLocalized : ppnDealer.name;\n    // postalCode is currently not available in addressLocalized\n    const hasAddress = isString(address.street) || isString(ppnDealer.address.postalCode) || isString(address.city);\n    const hasPhoneNumber = isString(ppnDealer.contactDetails.phoneNumber);\n    const hasEmail = isString(ppnDealer.contactDetails.emailAddress);\n    const hasHomepage = isString(ppnDealer.contactDetails.homepage);\n    const hasTestdrive = testDrive && isString(testDrive?.text) && isString(testDrive?.link);\n    const hasName = isString(ppnDealer.nameLocalized) || isString(ppnDealer.name);\n    const openingHours = getOpeningHours(ppnDealer.contactDetails.contactOpeningHours);\n    const hasOpeningHours = openingHours !== '';\n\n    let country = '';\n    try {\n      country = splitLocale(this.locale).country;\n    } catch (err) {\n      // throw the error away\n    }\n    const dealerAddress =\n      country === 'JP'\n        ? `${ppnDealer.address.postalCode} ${address.city} ${address.street}`\n        : `${address.street}, ${ppnDealer.address.postalCode} ${address.city}`;\n    const customDatalayerProperties = {\n      componentSearch: {\n        searchTerm: dealerSearchResultsStore.state.searchTerm\n      },\n      partner: {\n        companyName: name,\n        companyId: ppnDealer.porschePartnerNo\n      }\n    };\n\n    return (\n      <Host>\n        {hasName && isDesktop(this.breakpoint) ? this.renderHeading(name) : null}\n        {hasAddress ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'address')}\n            analyticsId=\"mainmenu.finddealer.map\"\n            text={dealerAddress}\n            iconLeft=\"pin\"\n            data-test-id=\"dealer-address\"\n            link={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\n              `${address.street},${ppnDealer.address.postalCode},${address.city}`\n            )}`}\n            target=\"_blank\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {featureToggles.isDealerSearchOpeningHoursEnabled() && hasOpeningHours ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'openingHours')}\n            analyticsId=\"mainmenu.finddealer.openinghours\"\n            text={openingHours}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-opening-hours\"\n            iconLeft=\"clock\"\n          />\n        ) : null}\n\n        {hasPhoneNumber ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'number')}\n            analyticsId=\"mainmenu.finddealer.phone\"\n            text={ppnDealer.contactDetails.phoneNumber}\n            iconLeft=\"phone\"\n            data-test-id=\"dealer-phonenumber\"\n            link={`tel:${ppnDealer.contactDetails.phoneNumber}`}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {hasEmail ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'email')}\n            analyticsId=\"mainmenu.finddealer.email\"\n            text={ppnDealer.contactDetails.emailAddress}\n            iconLeft=\"email\"\n            data-test-id=\"dealer-email\"\n            link={`mailto:${ppnDealer.contactDetails.emailAddress}`}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {hasHomepage ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, 'homepage')}\n            analyticsId=\"mainmenu.finddealer.website\"\n            text={ppnDealer.contactDetails.homepage.replace('https://', '')}\n            iconLeft=\"globe\"\n            data-test-id=\"dealer-homepage\"\n            link={sanitizeDealerHomepage(ppnDealer.contactDetails.homepage)}\n            target=\"_blank\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {finder && isString(country) ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, finder.id)}\n            analyticsId={finder.id}\n            text={finder.text}\n            data-test-id=\"dealer-finder-cars\"\n            link={addQueryParamsToUrl(finder.link, { dealership: ppnDealer.ppnOrgId })}\n            iconLeft=\"car\"\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n          />\n        ) : null}\n\n        {bookService ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, bookService.text)}\n            analyticsId={bookService.id}\n            text={bookService.text}\n            link={addQueryParamsToUrl(bookService.link, { dealer: ppnDealer.porschePartnerNo })}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-book-service\"\n            iconLeft={'wrench'}\n          />\n        ) : null}\n\n        {hasTestdrive ? (\n          <DealerDetailCard\n            showSkeleton={this.showSkeleton}\n            elementId={getDealerDetailsRoutingKey(this.dealerId, testDrive.text)}\n            analyticsId={testDrive.id}\n            text={testDrive.text}\n            link={testDrive.link}\n            datalayerEventAction={EventActions.DEALER_CONTACT_CLICK}\n            customDatalayerProperties={customDatalayerProperties}\n            variant={MenuItemVariant.DealerDetails}\n            data-test-id=\"dealer-book-testdrive\"\n            iconLeft={'steering-wheel'}\n          />\n        ) : null}\n      </Host>\n    );\n  }\n}\n\ntype DealerDetailCardType = {\n  showSkeleton: boolean;\n  elementId?: string;\n  'data-test-id': string;\n  analyticsId: string;\n  text: string;\n  link?: string;\n  customDatalayerProperties: TDataLayer;\n  datalayerEventAction: EventAction;\n  variant: string;\n  iconLeft: string;\n  target?: string;\n  ariaLabel?: string;\n};\n\nfunction DealerDetailCard(props: DealerDetailCardType): HTMLElement {\n  return <phn-menu-item-card tabIndex={0} class={`${props.showSkeleton ? 'skeleton' : ''}`} {...props} />;\n}\n","import { h } from '@stencil/core';\n\nexport default function ErrorMessage({\n  errorMessage,\n  onDismiss\n}: {\n  errorMessage: string;\n  onDismiss: () => void;\n}): HTMLElement {\n  return (\n    <div class=\"error-message animated\">\n      <phn-p-inline-notification state=\"error\" description={errorMessage} onDismiss={onDismiss} />\n    </div>\n  );\n}\n","@import '../../scss/helpers';\n\n:host {\n  display: block;\n\n  .spinner {\n    display: flex;\n    position: relative;\n    justify-content: center;\n    width: 100%;\n    margin-top: p-px-to-rem(24px);\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Prop, State } from '@stencil/core';\nimport { splitLocale } from '../../entities/locale';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { getAllPPNDealersForMarket } from '../../services/dealer-service';\nimport { getConfig, isString } from '../../utility/helper';\nimport logger from '../../services/logger';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { getErrorMessage } from '../../utility/navi-error';\nimport ErrorMessage from '../dealer-search-form/error-message';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport {\n  DEALER_MARKET_SEARCH_TERM,\n  DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER,\n  ElementTypes,\n  EventActions\n} from '../../utility/constants';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\n\n@Component({\n  tag: 'phn-dealer-search-by-number-of-dealers',\n  styleUrl: 'dealer-search-by-number-of-dealers.scss',\n  scoped: true\n})\nexport class DealerSearchByNumberOfDealers {\n  @State() isLoading = false;\n  @State() formErrorMessage: string | null = null;\n\n  @Prop() locale!: string;\n\n  @Element() el!: HTMLPhnDealerSearchByNumberOfDealersElement;\n\n  @Event() removeSkeletonOnDealerSearchForm!: EventEmitter;\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad().then(() => {\n      const { dealer } = navContentStore.state;\n      if (dealer.numberOfDealers <= 5) {\n        this.fetchAllDealersForMarket();\n      }\n    });\n  }\n\n  componentDidLoad(): void {\n    this.emitPageLoadEvent();\n  }\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.removeSkeletonOnDealerSearchForm.emit();\n  }\n\n  private async fetchAllDealersForMarket() {\n    const { error: errorContent } = navContentStore.state;\n\n    try {\n      this.isLoading = true;\n\n      const { country } = splitLocale(this.locale);\n      const { env } = navStateStore.state;\n\n      const ppnDealerSearchResults = await getAllPPNDealersForMarket(\n        env,\n        getConfig(env).DEALER_API_URL_ALL_DEALERS,\n        country\n      );\n\n      dealerSearchResultsStore.state.results = ppnDealerSearchResults.map(({ ppnDealer: dealer }) => dealer.id);\n      dealerSearchResultsStore.state.ppnDealers = ppnDealerSearchResults.reduce(\n        (dealers, dealerSearchResult) => ({\n          ...dealers,\n          [dealerSearchResult.ppnDealer.id]: dealerSearchResult\n        }),\n        dealerSearchResultsStore.state.ppnDealers\n      );\n    } catch (err) {\n      logger.error('FETCH_DEALERS', err as Error);\n      this.formErrorMessage = getErrorMessage(errorContent, err as Error);\n    } finally {\n      this.isLoading = false;\n      this.emitResultsLoadEvent();\n    }\n  }\n\n  private emitPageLoadEvent() {\n    const { dealer } = navContentStore.state;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_SEARCH_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType('', ElementTypes.dealerSearchForm),\n        displayElementName: dealer.text\n      },\n      componentSearch: {\n        searchTerm: DEALER_MARKET_SEARCH_TERM,\n        numberOfResults: dealer.numberOfDealers\n      }\n    });\n  }\n\n  private emitResultsLoadEvent() {\n    const { dealer } = navContentStore.state;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_RESULTS_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.getDealerResultsLoadDisplayElementId(\n          DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER\n        ),\n        displayElementType: analyticsManager.getDealerResultsLoadDisplayElementType(),\n        displayElementName: dealer.text\n      },\n      componentSearch: {\n        searchTerm: DEALER_MARKET_SEARCH_TERM,\n        numberOfResults: dealer.numberOfDealers\n      }\n    });\n  }\n\n  private reset() {\n    this.formErrorMessage = null;\n    this.isLoading = false;\n    dealerSearchResultsStore.state.results = null;\n  }\n\n  render() {\n    if (this.isLoading) {\n      return (\n        <div class=\"spinner\">\n          <phn-p-spinner size=\"medium\" aria={{ 'aria-label': 'Loading page content' }} />\n        </div>\n      );\n    }\n\n    if (isString(this.formErrorMessage))\n      return <ErrorMessage errorMessage={this.formErrorMessage} onDismiss={() => this.reset()} />;\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  .spinner {\n    display: flex;\n    position: relative;\n    justify-content: center;\n    width: 100%;\n    margin-top: p-px-to-rem(24px);\n  }\n\n  .city-select-form-field{\n    padding-top: p-px-to-rem(24px);\n  }\n\n  .title-container {\n    display: flex;\n    flex-direction: row;\n    border: 2px solid rgb(107, 109, 112);\n    border-radius: 5px;\n\n    transition: background-color 0.24s ease;\n    margin: 0;\n    min-height: p-px-to-rem(54px);\n\n    phn-p-text {\n      padding-left: 19px;\n    }\n\n\n    phn-p-icon{\n      margin-right: p-px-to-rem(16px);\n      padding-top: -8px;\n      outline: 0;\n    }\n\n    div.text-limit {\n      width: 80%;\n    }\n  }\n}\n","import { Component, Element, Event, EventEmitter, Fragment, h, Host, JSX, Listen, Prop, State } from '@stencil/core';\nimport { getPPNDealersByRegion } from '../../services/dealer-service';\nimport { splitLocale } from '../../entities/locale';\nimport { City, DealersByRegion } from '../../entities/dealer-response';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { getErrorMessage } from '../../utility/navi-error';\nimport Logger from '../../services/logger';\nimport { navContentStore } from '../../state/nav-content-store';\nimport ErrorMessage from '../dealer-search-form/error-message';\nimport { isString } from '../../utility/helper';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport {\n  DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER,\n  ElementTypes,\n  EventActions,\n  GEOLOCATION_BUTTON_SEARCH_TERM\n} from '../../utility/constants';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport analyticsManager from '../../services/analytics/analytics-manager';\n\n@Component({\n  tag: 'phn-dealer-search-form-dropdown',\n  styleUrl: 'dealer-search-form-dropdown.scss',\n  scoped: true\n})\nexport class DealerSearchFormDropdown {\n  @Prop() locale = '';\n  @Prop() breakpoint!: number;\n\n  @State() isLoading = false;\n  @State() errorMessage: string | null = null;\n  @State() dealersOfRegion: DealersByRegion = { regions: [] };\n  @State() cities: City[] = [];\n  @State() selectedProvince = '';\n  @State() selectedCity = '';\n  @State() showSkeleton = true;\n\n  @Event() dealerSearchFormEvent!: EventEmitter;\n  @Event() clearSearchEvent!: EventEmitter;\n  @Event() removeSkeletonOnDealerSearchForm!: EventEmitter;\n\n  @Element() el!: HTMLPhnDealerSearchFormDropdownElement;\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n    this.getDealersByRegion();\n  }\n\n  componentDidLoad(): void {\n    this.emitPageLoadEvent();\n  }\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.removeSkeletonOnDealerSearchForm.emit();\n  }\n\n  @Listen('removeSkeletonOnDealerSearchForm')\n  loadedAutoCompleteListener(_event: Event): void {\n    this.showSkeleton = false;\n  }\n\n  private async getDealersByRegion() {\n    const { error: errorContent } = navContentStore.state;\n    const { country } = splitLocale(this.locale);\n\n    try {\n      this.isLoading = true;\n      this.dealersOfRegion = await getPPNDealersByRegion(country);\n    } catch (err) {\n      Logger.error('FETCH_DEALERS', err as Error);\n      this.errorMessage = getErrorMessage(errorContent, err as Error);\n    } finally {\n      this.isLoading = false;\n      this.dealerSearchFormEvent.emit();\n      this.emitResultsLoadEvent();\n    }\n  }\n\n  private onCitySelect(event: Event): void {\n    /* istanbul ignore if */\n    if (event.target === null) {\n      return;\n    }\n\n    const selectedCity = (event.target as HTMLSelectElement).value;\n    this.selectedCity = selectedCity;\n    dealerSearchResultsStore.state.ppnDealers =\n      this.cities.find((city) => {\n        return [city.cityName, city.cityNameLocalized].includes(selectedCity);\n      })?.dealers || {};\n    dealerSearchResultsStore.state.results = Object.keys(dealerSearchResultsStore.state.ppnDealers);\n    dealerSearchResultsStore.state.searchTerm = `${this.selectedProvince}, ${this.selectedCity}`;\n  }\n\n  private onProvinceSelect(event: Event): void {\n    /* istanbul ignore if */\n    if (event.target === null) {\n      return;\n    }\n\n    const selectedProvince = (event.target as HTMLSelectElement).value;\n    this.cities = this.getCitiesByGivenRegionName(selectedProvince);\n    this.selectedProvince = selectedProvince;\n  }\n\n  private getCitiesByGivenRegionName(province: string): City[] {\n    const regions = this.dealersOfRegion.regions;\n\n    const selectedRegion = regions.find(({ regionName, regionNameLocalized }) =>\n      [regionName, regionNameLocalized].includes(province)\n    );\n\n    return selectedRegion?.cities || [];\n  }\n\n  private emitPageLoadEvent() {\n    const { results, searchTerm } = dealerSearchResultsStore.state;\n    const { dealer } = navContentStore.state;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_SEARCH_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType('', ElementTypes.dealerSearchForm),\n        displayElementName: dealer.text\n      },\n      componentSearch: {\n        searchTerm: isString(searchTerm) ? searchTerm : GEOLOCATION_BUTTON_SEARCH_TERM,\n        numberOfResults: results?.length || 0\n      }\n    });\n  }\n\n  private emitResultsLoadEvent() {\n    const { results, searchTerm } = dealerSearchResultsStore.state;\n    const { dealer: dealerContent } = navContentStore.state;\n\n    const numberOfResults = results?.length || 0;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_RESULTS_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.getDealerResultsLoadDisplayElementId(\n          DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER\n        ),\n        displayElementType: analyticsManager.getDealerResultsLoadDisplayElementType(),\n        displayElementName: dealerContent.text\n      },\n      componentSearch: {\n        searchTerm: searchTerm,\n        numberOfResults: numberOfResults\n      }\n    });\n  }\n\n  private reset() {\n    this.errorMessage = null;\n    this.isLoading = false;\n    this.selectedProvince = '';\n    this.selectedCity = '';\n\n    dealerSearchResultsStore.state.results = null;\n    dealerSearchResultsStore.state.savedDealerCookie = null;\n\n    this.clearSearchEvent.emit();\n  }\n\n  render(): JSX.Element {\n    const { results } = dealerSearchResultsStore.state;\n    const { dealer: dealerContent } = navContentStore.state;\n    const searchText = dealerSearchResultsStore.state.searchTerm;\n\n    if (this.isLoading) {\n      return (\n        <div class=\"spinner\">\n          <phn-p-spinner size=\"medium\" aria={{ 'aria-label': 'Loading page content' }} />\n        </div>\n      );\n    }\n\n    return (\n      <Host>\n        {results && results.length > 0 ? (\n          <form\n            class=\"form-container\"\n            onSubmit={(event) => {\n              event.preventDefault();\n            }}\n          >\n            <div>\n              <div class=\"phn-flex-row phn-align-center phn-justify-between title-container\">\n                <div class=\"text-limit\">\n                  <phn-p-text\n                    weight=\"regular\"\n                    size=\"small\"\n                    tag=\"div\"\n                    ellipsis=\"true\"\n                    color=\"contrast-medium\"\n                    data-test-id=\"dealer-search-form-input\"\n                  >\n                    {searchText}\n                  </phn-p-text>\n                </div>\n                <phn-p-icon\n                  name=\"close\"\n                  class=\"close-icon\"\n                  style={{ display: this.showSkeleton ? 'none' : '', cursor: 'pointer' }}\n                  onClick={(event: Event) => {\n                    event.preventDefault();\n                    this.reset();\n                  }}\n                />\n              </div>\n            </div>\n          </form>\n        ) : (\n          <Fragment>\n            <phn-p-select-wrapper\n              filter\n              label={dealerContent.search.dropdown.province}\n              required\n              style={{ display: this.showSkeleton ? 'none' : '' }}\n            >\n              <select\n                name=\"dealers-province\"\n                onChange={(event) => this.onProvinceSelect(event)}\n                style={{ display: this.showSkeleton ? 'none' : '' }}\n              >\n                <option hidden selected>\n                  {dealerContent.search.dropdown.selectAProvince}\n                </option>\n                {this.dealersOfRegion.regions.map((region) => {\n                  const province =\n                    splitLocale(this.locale).language === 'en' || region.regionNameLocalized === null\n                      ? region.regionName\n                      : region.regionNameLocalized;\n                  return <option value={province}>{province}</option>;\n                })}\n              </select>\n            </phn-p-select-wrapper>\n\n            <phn-p-select-wrapper\n              style={{ display: this.showSkeleton ? 'none' : '' }}\n              class=\"city-select-form-field\"\n              filter=\"true\"\n              label={dealerContent.search.dropdown.city}\n              required\n            >\n              <select\n                disabled={!isString(this.selectedProvince)}\n                style={{ display: this.showSkeleton ? 'none' : '' }}\n                name=\"dealers-cities\"\n                onChange={(event) => {\n                  this.onCitySelect(event);\n                }}\n              >\n                <option hidden>{dealerContent.search.dropdown.selectACity}</option>\n                {this.cities.map((city) => (\n                  <option>\n                    {splitLocale(this.locale).language === 'en' || city.cityNameLocalized === null\n                      ? city.cityName\n                      : city.cityNameLocalized}\n                  </option>\n                ))}\n              </select>\n            </phn-p-select-wrapper>\n\n            {isString(this.errorMessage) ? (\n              <ErrorMessage errorMessage={this.errorMessage} onDismiss={() => this.reset()} />\n            ) : null}\n          </Fragment>\n        )}\n      </Host>\n    );\n  }\n}\n","/* istanbul ignore file */\nimport { splitLocale } from '../entities/locale';\nimport { LatLong, Prediction } from '../entities/places';\nimport { isString } from '../utility/helper';\nimport windowService from './window-service';\nimport { NaviErrorTypes, NaviError, NaviErrorType } from '../utility/navi-error';\nimport { getRegionSpecificCountry } from '../utility/helpers/dealer-search-helper';\n\nexport class MapsService {\n  private autocompleteService: google.maps.places.AutocompleteService | null = null;\n  private placesService: google.maps.places.PlacesService | null = null;\n  private geocoderService: google.maps.Geocoder | null = null;\n  private getLocation: ((latLong: LatLong) => google.maps.LatLng) | null = null;\n\n  async init(apiKey: string): Promise<void> {\n    try {\n      const google = await windowService.fetchGoogleMapsApi(apiKey);\n      this.autocompleteService = new google.maps.places.AutocompleteService();\n      this.placesService = new google.maps.places.PlacesService(new google.maps.Map(windowService.createDiv()));\n      this.geocoderService = new google.maps.Geocoder();\n      this.getLocation = (latLong: LatLong) => new google.maps.LatLng(latLong.latitude, latLong.longitude);\n    } catch (err) {\n      throw new NaviError(`windowService.fetchGoogleMapsApi failed with error: ${err}`, NaviErrorTypes.GENERAL);\n    }\n  }\n\n  async getPredictions(input: string, locale: string): Promise<Prediction[]> {\n    if (input.length === 0) {\n      return [];\n    }\n    //ToDo: Check what todo if country is no valid iso-code\n    const predictions = await new Promise<google.maps.places.AutocompletePrediction[] | null>((resolve, reject) => {\n      if (this.autocompleteService === null) {\n        reject(new NaviError('autocompleteService is not initialised', NaviErrorTypes.GENERAL));\n        return;\n      }\n\n      this.autocompleteService.getPlacePredictions(\n        {\n          input,\n          componentRestrictions: { country: getRegionSpecificCountry(splitLocale(locale).country) }\n        },\n        (predictions, status) =>\n          status === 'OK'\n            ? resolve(predictions)\n            : reject(\n                new NaviError(`autocompleteService.getPlacePredictions failed with ${status}`, getErrorType(status))\n              )\n      );\n    });\n\n    return (\n      predictions\n        ?.filter(({ place_id, description }) => isString(place_id) && isString(description))\n        .map(({ place_id: id, description: text }) => ({ id, text })) ?? []\n    );\n  }\n\n  async getPlaceCoordinates(placeId: string): Promise<LatLong> {\n    const response = await new Promise<google.maps.places.PlaceResult | null>((resolve, reject) => {\n      if (this.placesService === null) {\n        reject(new NaviError('placesService is not initialised', NaviErrorTypes.GENERAL));\n        return;\n      }\n\n      this.placesService.getDetails(\n        {\n          placeId\n        },\n        (response, status) =>\n          status === 'OK'\n            ? resolve(response)\n            : reject(new NaviError(`placeService.getDetails failed with ${status}`, getErrorType(status)))\n      );\n    });\n\n    const latitude = response?.geometry?.location?.lat();\n    const longitude = response?.geometry?.location?.lng();\n\n    if (typeof latitude !== 'number' || typeof longitude !== 'number') {\n      throw new NaviError(\n        `placesService.getDetails did not find latitude or longitude for placeId: ${placeId}`,\n        NaviErrorTypes.NO_RESULTS\n      );\n    }\n\n    return { latitude, longitude };\n  }\n\n  async getFormattedAddressFromCoordinates(latLong: LatLong): Promise<string> {\n    if (this.getLocation === null) {\n      throw new NaviError('getLocation is not initialised', NaviErrorTypes.GENERAL);\n    }\n\n    const location = this.getLocation(latLong);\n\n    const response = await new Promise<google.maps.GeocoderResult[] | null>((resolve, reject) => {\n      if (this.geocoderService === null) {\n        reject(new NaviError('geocoderService is not initialised', NaviErrorTypes.GENERAL));\n        return;\n      }\n\n      this.geocoderService.geocode({ location }, (response, status) => {\n        status === 'OK'\n          ? resolve(response)\n          : reject(new NaviError(`geocoderService.geocode failed with status ${status}`, getErrorType(status)));\n      });\n    });\n\n    if (response === null || response.length === 0) {\n      throw new NaviError(\n        'geocoderService.geocode did not find the location based on coordinates.',\n        NaviErrorTypes.NO_RESULTS\n      );\n    }\n\n    return response[0].formatted_address;\n  }\n}\n\nexport function getErrorType(status: string): NaviErrorType {\n  switch (status) {\n    case 'INVALID_REQUEST': {\n      return NaviErrorTypes.INVALID_INPUT;\n    }\n    case 'NOT_FOUND':\n    case 'ZERO_RESULTS': {\n      return NaviErrorTypes.NO_RESULTS;\n    }\n    case 'OVER_QUERY_LIMIT':\n    case 'UNKNOWN_ERROR': {\n      return NaviErrorTypes.RETRY;\n    }\n    case 'ERROR':\n    case 'REQUEST_DENIED':\n    default: {\n      return NaviErrorTypes.GENERAL;\n    }\n  }\n}\n\nexport default new MapsService();\n","@import '../../scss/index';\n\n:host {\n  display: block;\n\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n\n    & .skeleton-autocomplete-search-field {\n      width: auto;\n      height: p-px-to-rem(50px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n\n    & .skeleton-or-text {\n      width: auto;\n      height: p-px-to-rem(20px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px 4px 0 0;\n    }\n\n    & .skeleton-geolocation-button {\n      width: auto;\n      height: p-px-to-rem(50px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 0 0 4px 4px;\n    }\n  }\n\n  .or-container {\n    position: relative;\n    width: 100%;\n    margin-top: p-px-to-rem(20px);\n\n    .geolocation {\n      width: 100%;\n      padding-bottom: 24px;\n    }\n\n    phn-p-text {\n      margin-bottom: p-px-to-rem(4px);\n      color: $pds-theme-light-primary;\n    }\n  }\n\n  .animate-out {\n    animation: fadeOutToTop 0.75s ease-in-out 0s;\n  }\n\n  .input-container {\n    width: 100%;\n  }\n\n  .spinner {\n    display: flex;\n    position: relative;\n    justify-content: center;\n    width: 100%;\n    margin-top: p-px-to-rem(24px);\n  }\n}\n","import { Component, Element, Event, EventEmitter, Fragment, h, Host, Listen, Prop, State } from '@stencil/core';\nimport { LatLong, Prediction } from '../../entities/places';\nimport { splitLocale } from '../../entities/locale';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { getPPNDealers } from '../../services/dealer-service';\nimport { getConfig, getString, isString } from '../../utility/helper';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport logger from '../../services/logger';\nimport { getErrorMessage, NaviError, NaviErrorTypes } from '../../utility/navi-error';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport {\n  ClickElementTypes,\n  DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n  DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER,\n  DEALER_SEARCH_TARGET_ELEMENT,\n  ElementTypes,\n  EventActions,\n  GEOLOCATION_BUTTON_SEARCH_TERM\n} from '../../utility/constants';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { RoutingKeys } from '../../entities/routing-key';\nimport mapsService from '../../services/maps-service';\nimport windowService from '../../services/window-service';\nimport { Timeout } from '../../utility/timeout';\nimport { navContentStore } from '../../state/nav-content-store';\nimport ErrorMessage from '../dealer-search-form/error-message';\nimport { componentsOnReady } from '../../utility/ready';\nimport { getRegionSpecificCountry } from '../../utility/helpers/dealer-search-helper';\n\n@Component({\n  tag: 'phn-dealer-search-form-geolocation',\n  styleUrl: 'dealer-search-form-geolocation.scss',\n  scoped: true\n})\nexport class DealerSearchFormGeolocation {\n  @Prop() locale!: string;\n\n  @State() predictions: Prediction[] = [];\n  @State() errorMessage: string | null = null;\n  @State() formErrorMessage: string | null = null;\n  @State() isLoading = false;\n  @State() showGeolocationButton = dealerSearchResultsStore.state.results === null;\n  @State() animateResults = false;\n  @State() searchTerm = dealerSearchResultsStore.state.searchTerm;\n  @State() showSkeleton = true;\n\n  @Event() dealerSearchFormEvent!: EventEmitter;\n  @Event() clearSearchEvent!: EventEmitter;\n  @Event() removeSkeletonOnDealerSearchForm!: EventEmitter;\n\n  @Element() el!: HTMLPhnDealerSearchFormGeolocationElement;\n\n  private debounceTimeout = new Timeout(100);\n\n  @Listen('autoCompleteLoaded')\n  loadedAutoCompleteListener(): void {\n    this.showSkeleton = false;\n  }\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.removeSkeletonOnDealerSearchForm.emit();\n  }\n\n  disconnectedCallback(): void {\n    dealerSearchResultsStore.state.searchTerm = this.searchTerm;\n    this.debounceTimeout.cancel();\n  }\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad().then(() => {\n      const { error: errorContent } = navContentStore.state;\n\n      mapsService.init('GOOGLE_API_KEY').catch((err: Error) => {\n        logger.error('INIT_MAPS_SERVICE', err);\n        this.formErrorMessage = getErrorMessage(errorContent, err);\n        this.errorMessage = null;\n      });\n    });\n  }\n\n  componentDidLoad(): void {\n    this.emitPageLoadEvent();\n  }\n\n  private emitPageLoadEvent() {\n    const { dealer } = navContentStore.state;\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_SEARCH_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType('', ElementTypes.dealerSearchForm, true),\n        displayElementName: dealer.text\n      }\n    });\n  }\n\n  private emitResultsLoadEvent(searchTerm: string) {\n    const { results } = dealerSearchResultsStore.state;\n    const { dealer: dealerContent } = navContentStore.state;\n\n    const componentSearchSearchTerm = isString(searchTerm) ? searchTerm : GEOLOCATION_BUTTON_SEARCH_TERM;\n    const numberOfResults = results?.length || 0;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_RESULTS_SCREEN_LOAD, {\n      componentDisplay: {\n        displayElementId: analyticsManager.getDealerResultsLoadDisplayElementId(\n          DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER\n        ),\n        displayElementType: analyticsManager.getDealerResultsLoadDisplayElementType(),\n        displayElementName: dealerContent.text\n      },\n      componentSearch: {\n        searchTerm: componentSearchSearchTerm,\n        numberOfResults: numberOfResults\n      }\n    });\n  }\n\n  private async fetchDealers(getSearchTerms: () => Promise<[string, LatLong]>) {\n    const { error: errorContent } = navContentStore.state;\n    try {\n      this.reset();\n      this.isLoading = true;\n\n      const [searchTerm, placeCoordinates] = await getSearchTerms();\n      const { env } = navStateStore.state;\n\n      const ppnDealerSearchResults = await getPPNDealers(\n        env,\n        getConfig(env).DEALER_API_URL,\n        placeCoordinates,\n        getRegionSpecificCountry(splitLocale(this.locale).country)\n      );\n\n      dealerSearchResultsStore.state.searchTerm = searchTerm;\n      dealerSearchResultsStore.state.results = ppnDealerSearchResults.map(({ ppnDealer: dealer }) => dealer.id);\n      dealerSearchResultsStore.state.ppnDealers = ppnDealerSearchResults.reduce(\n        (dealers, dealerSearchResult) => ({\n          ...dealers,\n          [dealerSearchResult.ppnDealer.id]: dealerSearchResult\n        }),\n        dealerSearchResultsStore.state.ppnDealers\n      );\n      this.showGeolocationButton = false;\n    } catch (err) {\n      logger.error('FETCH_DEALERS', err as Error);\n      this.formErrorMessage = getErrorMessage(errorContent, err as Error);\n      this.errorMessage = null;\n    } finally {\n      this.isLoading = false;\n      this.animateResults = true;\n    }\n  }\n\n  private async onSubmit(prediction: Prediction | null) {\n    const { dealer: dealerContent, error: errorContent } = navContentStore.state;\n\n    if (!isString(this.searchTerm)) {\n      this.errorMessage = errorContent.noInput;\n      this.formErrorMessage = '';\n      return;\n    }\n\n    await this.fetchDealers(async () => {\n      if (prediction === null) {\n        throw new NaviError('Dealer search form submitted without prediction', NaviErrorTypes.INVALID_INPUT);\n      }\n\n      this.searchTerm = prediction.text;\n\n      globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_SEARCH_CLICK, {\n        componentClick: {\n          clickElementId: prediction.id,\n          clickElementName: prediction.text,\n          clickElementType: ClickElementTypes.Button,\n          targetElement: DEALER_SEARCH_TARGET_ELEMENT\n        },\n        componentDisplay: {\n          displayElementId: DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n          displayElementType: analyticsManager.calculateDisplayElementType(\n            RoutingKeys.DEALER_SEARCH,\n            ElementTypes.dealerSearchForm\n          ),\n          displayElementName: dealerContent.text\n        },\n        componentSearch: {\n          searchTerm: prediction.text\n        }\n      });\n\n      const placeCoordinates = await mapsService.getPlaceCoordinates(prediction.id);\n\n      return [prediction.text, placeCoordinates];\n    });\n\n    this.emitResultsLoadEvent(this.searchTerm);\n  }\n\n  private async getCurrentLocation(): Promise<void> {\n    const { dealer: dealerContent } = navContentStore.state;\n\n    await this.fetchDealers(async () => {\n      const placeCoordinates = await windowService.getNavigatorLatLong();\n      const formattedAddress = await mapsService.getFormattedAddressFromCoordinates(placeCoordinates);\n\n      this.searchTerm = '';\n\n      globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_GEOLOCATION_CLICK, {\n        componentClick: {\n          clickElementId: dealerContent.search.geolocation.id,\n          clickElementName: dealerContent.search.geolocation.text,\n          clickElementType: ClickElementTypes.Button,\n          targetElement: DEALER_SEARCH_TARGET_ELEMENT\n        },\n        componentDisplay: {\n          displayElementId: DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n          displayElementType: analyticsManager.calculateDisplayElementType(\n            RoutingKeys.DEALER_SEARCH,\n            ElementTypes.dealerSearchForm\n          ),\n          displayElementName: dealerContent.text\n        },\n        componentSearch: {\n          searchTerm: GEOLOCATION_BUTTON_SEARCH_TERM\n        }\n      });\n\n      return [formattedAddress, placeCoordinates];\n    });\n\n    this.emitResultsLoadEvent(GEOLOCATION_BUTTON_SEARCH_TERM);\n  }\n\n  private async onDealerSearchEntry(searchTerm: string): Promise<void> {\n    const { error } = navContentStore.state;\n    try {\n      this.searchTerm = searchTerm;\n      this.errorMessage = null;\n      this.formErrorMessage = null;\n      this.showGeolocationButton = dealerSearchResultsStore.state.results === null;\n      this.predictions = await mapsService.getPredictions(searchTerm, this.locale);\n    } catch (err) {\n      logger.error('GET_PREDICTIONS', err as Error);\n      this.errorMessage = getErrorMessage(error, err as Error);\n      this.predictions = [];\n    }\n  }\n\n  private reset() {\n    this.errorMessage = null;\n    this.formErrorMessage = null;\n    this.animateResults = false;\n    this.showGeolocationButton = true;\n    this.isLoading = false;\n\n    dealerSearchResultsStore.state.results = null;\n  }\n\n  render(): HTMLPhnDealerSearchFormElement {\n    const { dealer: dealerContent } = navContentStore.state;\n    const { results } = dealerSearchResultsStore.state;\n\n    return (\n      <Host class={this.showSkeleton ? 'skeleton' : ''}>\n        <div class=\"input-container\">\n          {this.showSkeleton ? <div class=\"skeleton-autocomplete-search-field\" /> : null}\n          <phn-autocomplete-search-field\n            placeholder={dealerContent.search.form.inputPlaceholder}\n            initialValue={dealerSearchResultsStore.state.searchTerm}\n            predictions={this.predictions}\n            onSearchInput={(e) => this.debounceTimeout.set(() => this.onDealerSearchEntry(e.detail))}\n            onClearSearch={() => {\n              this.predictions = [];\n              dealerSearchResultsStore.state.searchTerm = '';\n              this.searchTerm = '';\n              this.reset();\n              this.clearSearchEvent.emit();\n              this.showGeolocationButton = true;\n            }}\n            onSubmitSearch={(e) => this.onSubmit(e.detail)}\n            errorMessage={getString(this.errorMessage)}\n            style={{ display: this.showSkeleton ? 'none' : '' }}\n          />\n        </div>\n\n        {this.isLoading && (\n          <div class=\"spinner\">\n            <phn-p-spinner size=\"medium\" aria={{ 'aria-label': 'Loading page content' }} />\n          </div>\n        )}\n\n        {this.showGeolocationButton && results === null ? (\n          <Fragment>\n            <div\n              class={`or-container ${this.isLoading ? 'animate-out' : ''}`}\n              onAnimationEnd={() => {\n                this.showGeolocationButton = false;\n              }}\n            >\n              {this.showSkeleton ? <div class=\"skeleton-or-text\" /> : null}\n              <phn-p-text\n                color=\"inherit\"\n                size=\"inherit\"\n                tag=\"div\"\n                data-test-id=\"dealer-search-or-label\"\n                style={{ display: this.showSkeleton ? 'none' : '' }}\n              >\n                {dealerContent.search.or}\n              </phn-p-text>\n              {this.showSkeleton ? <div class=\"skeleton-geolocation-button\" /> : null}\n              <phn-p-button\n                class={'geolocation'}\n                onClick={() => this.getCurrentLocation()}\n                variant=\"tertiary\"\n                icon=\"locate\"\n                style={{ display: this.showSkeleton ? 'none' : '' }}\n              >\n                {dealerContent.search.geolocation.text}\n              </phn-p-button>\n            </div>\n          </Fragment>\n        ) : null}\n\n        {isString(this.formErrorMessage) ? (\n          <ErrorMessage errorMessage={this.formErrorMessage} onDismiss={() => this.reset()} />\n        ) : null}\n      </Host>\n    );\n  }\n}\n","import { PPNDealer, PPNDealerSearchResult } from '../../entities/dealer-response';\nimport { EventEmitter, h, JSX } from '@stencil/core';\nimport { isString } from '../../utility/helper';\nimport { getDealerDetailsRoutingKey, RoutingKeys } from '../../entities/routing-key';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport {\n  ClickElementTypes,\n  DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n  ElementTypes,\n  EventActions\n} from '../../utility/constants';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { splitLocale } from '../../entities/locale';\n\nexport function DealerSearchFormItemCard({\n  dealer,\n  showOverlay,\n  eventEmitter,\n  locale\n}: {\n  dealer: PPNDealerSearchResult;\n  showOverlay?: boolean;\n  eventEmitter: EventEmitter;\n  locale: string;\n}): JSX.Element | null {\n  const { ppnDealer, distance } = dealer;\n  const language = splitLocale(locale).language;\n  const isAddressLocalized = Object.values(ppnDealer.addressLocalized).every((x) => x != null && x != '');\n  // postalCode is currently not available in addressLocalized\n  const address =\n    language === 'en' ? ppnDealer.address : isAddressLocalized ? ppnDealer.addressLocalized : ppnDealer.address;\n  const name =\n    language === 'en' ? ppnDealer.name : isString(ppnDealer.nameLocalized) ? ppnDealer.nameLocalized : ppnDealer.name;\n  const numberOfDealers = navContentStore.state.dealer.numberOfDealers;\n  let country = '';\n  try {\n    country = splitLocale(locale).country;\n  } catch (err) {\n    // throw the error away\n  }\n  const onDealerCardClick = (ppnDealer: PPNDealer): void => {\n    const dealerDetailsRoutingKey = getDealerDetailsRoutingKey(ppnDealer.id);\n    eventEmitter.emit([dealerDetailsRoutingKey]);\n    const { dealer: dealerContent } = navContentStore.state;\n    const { results, searchTerm } = dealerSearchResultsStore.state;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_RESULT_CLICK, {\n      componentClick: {\n        clickElementId: ppnDealer.id,\n        clickElementName: ppnDealer.name,\n        clickElementType: ClickElementTypes.Button,\n        targetElement: `level2_${dealerDetailsRoutingKey}`\n      },\n      componentDisplay: {\n        displayElementId: DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          RoutingKeys.DEALER_SEARCH,\n          ElementTypes.dealerSearchForm\n        ),\n        displayElementName: dealerContent.text\n      },\n      componentSearch: {\n        searchTerm: searchTerm,\n        numberOfResults: results?.length\n      },\n      partner: {\n        companyName: ppnDealer.name,\n        companyId: ppnDealer.porschePartnerNo\n      }\n    });\n  };\n\n  return (\n    <phn-menu-item-card\n      tabIndex={0}\n      text={name}\n      class={`animated ${showOverlay ? 'dealer-card-overlay' : ''} dealer-card`}\n      onClick={() => onDealerCardClick(ppnDealer)}\n      analyticsId={ppnDealer.id}\n    >\n      <div class=\"phn-flex-row phn-justify-between phn-align-center\">\n        {country === 'JP' ? (\n          <phn-p-text color=\"primary\" size=\"small\">\n            {`${ppnDealer.address.postalCode} ${address.city} ${address.street}`}\n          </phn-p-text>\n        ) : (\n          <phn-p-text color=\"primary\" size=\"small\">\n            {`${address.street}, `}\n            <span class=\"city\">\n              {ppnDealer.address.postalCode} {address.city}\n            </span>\n          </phn-p-text>\n        )}\n\n        {distance && distance.value >= 1 && numberOfDealers > 5 ? (\n          <phn-p-tag color=\"notification-info-soft\">{`${Math.round(\n            distance.value\n          )}${distance.unit.toLowerCase()}`}</phn-p-tag>\n        ) : null}\n      </div>\n    </phn-menu-item-card>\n  );\n}\n","import { navContentStore } from '../../state/nav-content-store';\nimport { h } from '@stencil/core';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport {\n  ClickElementTypes,\n  DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n  ElementTypes,\n  EventActions,\n  GEOLOCATION_BUTTON_SEARCH_TERM\n} from '../../utility/constants';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { RoutingKeys } from '../../entities/routing-key';\nimport { isString } from '../../utility/helper';\n\nexport function DealerSearchMapLink() {\n  const { dealer: dealerContent } = navContentStore.state;\n\n  function emitDealersMapEvent() {\n    const map = dealerContent.search.map;\n    const { results, searchTerm } = dealerSearchResultsStore.state;\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DEALER_MAP_CLICK, {\n      componentClick: {\n        clickElementId: map.id,\n        clickElementName: map.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: map.link\n      },\n      componentDisplay: {\n        displayElementId: DEALER_SEARCH_DISPLAY_ELEMENT_ID,\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          RoutingKeys.DEALER_SEARCH,\n          ElementTypes.dealerSearchForm\n        ),\n        displayElementName: dealerContent.text\n      },\n      componentSearch: {\n        searchTerm: isString(searchTerm) ? searchTerm : GEOLOCATION_BUTTON_SEARCH_TERM,\n        numberOfResults: results?.length\n      }\n    });\n  }\n  return (\n    <a class={'animated'} href={dealerContent.search.map.link} aria-label={dealerContent.search.map.description}>\n      <phn-p-button onClick={emitDealersMapEvent} variant=\"tertiary\">\n        {dealerContent.search.map.text}{' '}\n      </phn-p-button>\n    </a>\n  );\n}\n","@import '../../scss/helpers';\n\n:host {\n  display: block;\n\n  phn-dealer-details-drawer{\n    margin-top: p-px-to-rem(20px);\n  }\n\n\n  phn-menu-item-card {\n    & > div {\n      margin-top: 14px;\n    }\n  }\n\n  .dealer-card-overlay {\n    opacity: 0.3;\n  }\n\n  .dealer-card{\n    phn-p-tag{\n      margin-left: p-px-to-rem(16px);\n    }\n  }\n\n  .error-message {\n    position: relative;\n    margin-top: p-px-to-rem(32px);\n  }\n\n  .animated {\n    animation: fadeInFromBottom 0.75s ease-in-out 0s;\n  }\n\n  a {\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    text-decoration-line: none;\n    margin-top: p-px-to-rem(36px);\n\n    phn-p-button {\n      width: 100%;\n    }\n  }\n}\n","import { Component, Event, EventEmitter, Fragment, h, Host, Prop } from '@stencil/core';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { DealerSearchFormItemCard } from './dealer-search-form-item-card';\nimport { JSX } from '@stencil/core/internal';\nimport ErrorMessage from '../dealer-search-form/error-message';\nimport { DealerSearchMapLink } from './dealer-search-map-link';\n\n@Component({\n  tag: 'phn-dealer-search-results',\n  styleUrl: 'dealer-search-results.scss',\n  scoped: true\n})\nexport class DealerSearchResults {\n  @Prop() showOverlay = false;\n  @Prop() locale!: string;\n  @Prop() breakpoint!: number;\n\n  @Event({ bubbles: true, cancelable: false }) mobileMenuItemClick!: EventEmitter<string[]>;\n\n  render(): JSX.Element | null {\n    const { results, ppnDealers } = dealerSearchResultsStore.state;\n    const { error: errorContent } = navContentStore.state;\n\n    if (results === null) return null;\n\n    if (results?.length === 0)\n      return (\n        <Fragment>\n          <ErrorMessage errorMessage={errorContent.noResults} onDismiss={() => null} />\n        </Fragment>\n      );\n    const dealerId = results[0];\n    if (results.length === 1 && ppnDealers[dealerId]) {\n      dealerSearchResultsStore.state.savedDealerCookie = {\n        id: dealerId,\n        latitude: ppnDealers[dealerId].ppnDealer.coordinates.latitude,\n        longitude: ppnDealers[dealerId].ppnDealer.coordinates.longitude\n      };\n\n      return <phn-dealer-details-drawer breakpoint={this.breakpoint} dealerId={dealerId} locale={this.locale} />;\n    }\n\n    return (\n      <Host>\n        <Fragment>\n          {results.map((dealerId) => {\n            const dealer = ppnDealers[dealerId];\n\n            if (dealer === undefined || dealer.ppnDealer === undefined) {\n              return null;\n            }\n            return (\n              <DealerSearchFormItemCard\n                dealer={dealer}\n                eventEmitter={this.mobileMenuItemClick}\n                showOverlay={this.showOverlay}\n                locale={this.locale}\n              />\n            );\n          })}\n          <DealerSearchMapLink />\n        </Fragment>\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n@mixin renderTitle() {\n  .title-container {\n    width: 100%;\n    margin: 0;\n\n    phn-p-heading {\n      word-break: break-word;\n      white-space: pre-line;\n    }\n\n    phn-p-icon{\n      margin-left: p-px-to-rem(16px);\n    }\n  }\n}\n\n@mixin default-skeleton() {\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n    background: $pds-theme-light-contrast-low;\n    border-radius: 4px;\n\n    & * {\n      visibility: hidden;\n    }\n  }\n}\n\n:host {\n  display: block;\n  padding: p-px-to-rem(19px);\n  margin-top: p-px-to-rem(16px);\n  border-radius: 8px;\n  background-color: $pds-theme-light-state-hover;\n  transition: background-color 0.24s ease;\n  cursor: pointer;\n\n  button{\n    all: unset;\n    display: block;\n    width: 100%;\n  }\n\n  @include default-skeleton();\n\n  @include pds-media-query-min('s') {\n    background-color: $pds-theme-light-background-base;\n  }\n\n  &:hover {\n    @include pds-media-query-min('s') {\n      background-color: $pds-theme-light-state-hover;\n    }\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  .subtext {\n    color: $pds-theme-light-primary;\n  }\n\n  @include renderTitle();\n}\n","import { Component, Element, Fragment, h, Host, JSX, Listen, Prop } from '@stencil/core';\nimport { ClickElementType, ClickElementTypes, EventAction, EventActions } from '../../utility/constants';\nimport { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { getHTMLElement, isString } from '../../utility/helper';\nimport { sendDataLayerEvent } from '../../services/analytics/data-layer-event-sender';\n\n@Component({\n  tag: 'phn-menu-item-card',\n  styleUrl: 'menu-item-card.scss',\n  scoped: true\n})\nexport class MenuItemCard {\n  @Prop() text!: string;\n  @Prop() analyticsId!: string;\n  @Prop() subtext = '';\n  @Prop() elementId = '';\n  @Prop() link = '';\n  @Prop() datalayerEventAction: EventAction = EventActions.NAVIGATION_CLICK;\n  @Prop() customDatalayerProperties: TDataLayer = {};\n  @Prop() target = '_self';\n  @Prop() iconLeft = '';\n\n  @Element() el!: HTMLPhnMenuItemCardElement;\n\n  @Listen('keydown', { passive: false })\n  handleKeyDown(e: KeyboardEvent): void {\n    if (e.key === 'Enter') {\n      const anchorElement = getHTMLElement(e.target)?.querySelector('a');\n      const targetElement = anchorElement ? anchorElement : getHTMLElement(e.target);\n\n      if (targetElement) {\n        targetElement.click();\n        !anchorElement ? this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId) : null;\n      }\n    }\n  }\n\n  private sendDataLayerEvent(clickElementType: ClickElementType, elementId: string): void {\n    sendDataLayerEvent({\n      analyticsId: this.analyticsId,\n      text: this.text,\n      elementId,\n      clickElementType,\n      link: this.link,\n      customDatalayerProperties: this.customDatalayerProperties,\n      datalayerEventAction: this.datalayerEventAction\n    });\n  }\n\n  private renderTitle(): HTMLElement {\n    return (\n      <div class=\"phn-flex-row phn-align-center phn-justify-between title-container\">\n        <phn-p-heading tag=\"h3\" size=\"medium\">\n          {this.text}\n        </phn-p-heading>\n        {isString(this.iconLeft) ? <phn-p-icon name={this.iconLeft}></phn-p-icon> : null}\n      </div>\n    );\n  }\n\n  private renderSubtitle(): JSX.Element | null {\n    if (!isString(this.subtext)) {\n      return null;\n    }\n\n    return (\n      <phn-p-text\n        class={'subtext'}\n        color=\"contrast-medium\"\n        weight=\"regular\"\n        size=\"xx-small\"\n        tag=\"div\"\n        ellipsis=\"true\"\n        data-test-id=\"subtext\"\n      >\n        {this.subtext}\n      </phn-p-text>\n    );\n  }\n\n  render(): JSX.Element {\n    const body = (\n      <Fragment>\n        <div class=\"texts\">\n          {this.renderTitle()}\n          {this.renderSubtitle()}\n        </div>\n        <slot />\n      </Fragment>\n    );\n\n    if (isString(this.link))\n      return (\n        <a\n          tabIndex={-1}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Link, this.elementId);\n          }}\n          class=\"card-link\"\n          href={this.link}\n          target={this.target}\n        >\n          {body}\n        </a>\n      );\n\n    return (\n      <Host>\n        <button\n          tabIndex={-1}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId);\n          }}\n        >\n          {body}\n        </button>\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  .button-container {\n    display: flex;\n\n    @include pds-media-query-min-max('base', 'xs') {\n      flex-direction: column;\n      justify-content: space-between;\n    }\n\n    @include pds-media-query-min-max('s', 'l') {\n      flex-direction: column;\n      justify-content: space-between;\n    }\n\n    .login {\n      padding: p-px-to-rem(36px) 0 p-px-to-rem(16px) 0;\n\n      @include pds-media-query-min-max('base', 's') {\n        width: 100%;\n        padding-top: 0;\n      }\n\n      @include pds-media-query-min('xs') {\n        padding: 0 p-px-to-rem(8px) p-px-to-rem(16px) 0;\n      }\n\n      @include pds-media-query-min-max('s', 'l') {\n        padding: 0 0 p-px-to-rem(16px) 0;\n      }\n\n      @include pds-media-query-min('xl') {\n        padding: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n      }\n    }\n\n    .more {\n      padding: 0 0 p-px-to-rem(16px) 0;\n\n      @include pds-media-query-min-max('base', 's') {\n        width: 100%;\n      }\n\n      @include pds-media-query-min('xs') {\n        padding: 0 0 p-px-to-rem(16px) p-px-to-rem(8px);\n      }\n\n      @include pds-media-query-min('s') {\n        padding: 0 0 p-px-to-rem(23px) 0\n      }\n\n      @include pds-media-query-min('xl') {\n        padding: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n      }\n    }\n  }\n\n  phn-p-text {\n    padding-bottom: p-px-to-rem(24px);\n    border-bottom: 2px solid $pds-theme-light-contrast-low;\n    margin-bottom: p-px-to-rem(10px);\n\n    @include pds-media-query-min('xxl') {\n      margin-bottom: p-px-to-rem(16px);\n    }\n  }\n\n  phn-p-link-pure {\n    float: left;\n    text-decoration: underline;\n    color: black;\n  }\n}\n","import { Component, Event, EventEmitter, Fragment, h, JSX, Prop } from '@stencil/core';\nimport { TLink } from '../../entities/content';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { ClickElementTypes, ElementTypes, EventActions } from '../../utility/constants';\nimport { isString } from '../../utility/helper';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport { RoutingKeys } from '../../entities/routing-key';\n\n@Component({\n  tag: 'phn-myporsche-login',\n  styleUrl: 'myporsche-login.scss',\n  scoped: true\n})\nexport class MyPorscheLogin {\n  @Prop() login!: TLink;\n  @Prop() more: TLink | null = null;\n  @Prop() signup!: TLink;\n  @Prop() signupText!: string;\n\n  @Event() loginEvent!: EventEmitter<void>;\n\n  private sendDataLayerEvent(link: TLink | null): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.NAVIGATION_LINK_CLICK, {\n      componentClick: {\n        clickElementId: link?.id,\n        clickElementName: link?.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: link?.link\n      },\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          RoutingKeys.MY_PORSCHE,\n          ElementTypes.myPorscheDrawer\n        ),\n        displayElementName: link?.text\n      }\n    });\n  }\n\n  render(): JSX.Element {\n    return (\n      <Fragment>\n        <div class=\"button-container\">\n          <phn-p-button\n            variant=\"primary\"\n            class=\"login\"\n            onClick={() => {\n              this.loginEvent.emit();\n              this.sendDataLayerEvent(this.login);\n            }}\n          >\n            {this.login.text}\n          </phn-p-button>\n          {this.more && isString(this.more.link) ? (\n            <phn-p-link\n              variant=\"tertiary\"\n              class=\"more\"\n              href={this.more.link}\n              onClick={() => {\n                this.sendDataLayerEvent(this.more);\n              }}\n            >\n              {this.more.text}\n            </phn-p-link>\n          ) : null}\n        </div>\n        <div>\n          <phn-p-link-pure\n            icon=\"none\"\n            onClick={() => {\n              this.sendDataLayerEvent(this.signup);\n            }}\n          >\n            <a href={this.signup.link}>{this.signup.text}</a>\n          </phn-p-link-pure>\n          <phn-p-text>&nbsp;{this.signupText}</phn-p-text>\n        </div>\n      </Fragment>\n    );\n  }\n}\n"],"version":3}