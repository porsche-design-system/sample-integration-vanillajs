import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-3fb28577.js';
import { g as getFlagURL } from './content-service-c76d855e.js';
import { g as globalDataLayerService } from './global-data-layer-service-2c9dad09.js';
import { E as EventActions, C as ClickElementTypes, n as navStateStore } from './nav-content-store-ad934a75.js';
import { u as getHTMLElement, b as getConfig, i as isString } from './navi-error-d2e07707.js';
import './shop-helper-f5127373.js';
import './feature-toggles-1274e59b.js';
import './window-service-890948e7.js';

const countryRecommenderCss = "@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-country-recommender{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-country-recommender{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-country-recommender{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-country-recommender{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-country-recommender{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-country-recommender{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-country-recommender-h{display:block;background-color:#010205;width:100%;overflow:hidden;color:white;line-height:1.25rem;border-bottom:1PX solid #E3E4E5;font-size:0.75rem}.hero_light-theme.themed-background.sc-phn-country-recommender-h{background:-webkit-gradient(linear, left top, left bottom, from(rgba(224, 224, 224, 0.9)), color-stop(20%, rgba(224, 224, 224, 0.9)), color-stop(26.67%, rgba(224, 224, 224, 0.852589)), color-stop(33.33%, rgba(225, 225, 225, 0.768225)), color-stop(40%, rgba(226, 226, 226, 0.668116)), color-stop(46.67%, rgba(227, 227, 227, 0.557309)), color-stop(53.33%, rgba(228, 228, 228, 0.442691)), color-stop(60%, rgba(229, 229, 229, 0.331884)), color-stop(66.67%, rgba(230, 230, 230, 0.231775)), color-stop(73.33%, rgba(231, 231, 231, 0.147411)), color-stop(80%, rgba(232, 232, 232, 0.0816599)), color-stop(86.67%, rgba(232, 232, 232, 0.03551)), color-stop(93.33%, rgba(232, 232, 232, 0.0086472)), to(rgba(232, 232, 232, 0)));background:linear-gradient(to bottom, rgba(224, 224, 224, 0.9) 0%, rgba(224, 224, 224, 0.9) 20%, rgba(224, 224, 224, 0.852589) 26.67%, rgba(225, 225, 225, 0.768225) 33.33%, rgba(226, 226, 226, 0.668116) 40%, rgba(227, 227, 227, 0.557309) 46.67%, rgba(228, 228, 228, 0.442691) 53.33%, rgba(229, 229, 229, 0.331884) 60%, rgba(230, 230, 230, 0.231775) 66.67%, rgba(231, 231, 231, 0.147411) 73.33%, rgba(232, 232, 232, 0.0816599) 80%, rgba(232, 232, 232, 0.03551) 86.67%, rgba(232, 232, 232, 0.0086472) 93.33%, rgba(232, 232, 232, 0) 100%)}@media (min-width: 0px){.hero_light-theme.themed-background.sc-phn-country-recommender-h{height:72px}}@media (min-width: 760px){.hero_light-theme.themed-background.sc-phn-country-recommender-h{height:148px}}.hero_light-theme.sc-phn-country-recommender-h phn-p-icon.sc-phn-country-recommender{color:black}.hero_dark-theme.themed-background.sc-phn-country-recommender-h{background:-webkit-gradient(linear, left top, left bottom, from(rgba(31, 31, 31, 0.9)), color-stop(20%, rgba(31, 31, 31, 0.9)), color-stop(26.67%, rgba(31, 31, 31, 0.852589)), color-stop(33.33%, rgba(32, 32, 32, 0.768225)), color-stop(40%, rgba(33, 33, 33, 0.668116)), color-stop(46.67%, rgba(34, 34, 34, 0.557309)), color-stop(53.33%, rgba(35, 35, 35, 0.442691)), color-stop(60%, rgba(36, 36, 36, 0.331884)), color-stop(66.67%, rgba(37, 37, 37, 0.231775)), color-stop(73.33%, rgba(38, 38, 38, 0.147411)), color-stop(80%, rgba(39, 39, 39, 0.0816599)), color-stop(86.67%, rgba(39, 39, 39, 0.03551)), color-stop(93.33%, rgba(39, 39, 39, 0.0086472)), to(rgba(39, 39, 39, 0)));background:linear-gradient(to bottom, rgba(31, 31, 31, 0.9) 0%, rgba(31, 31, 31, 0.9) 20%, rgba(31, 31, 31, 0.852589) 26.67%, rgba(32, 32, 32, 0.768225) 33.33%, rgba(33, 33, 33, 0.668116) 40%, rgba(34, 34, 34, 0.557309) 46.67%, rgba(35, 35, 35, 0.442691) 53.33%, rgba(36, 36, 36, 0.331884) 60%, rgba(37, 37, 37, 0.231775) 66.67%, rgba(38, 38, 38, 0.147411) 73.33%, rgba(39, 39, 39, 0.0816599) 80%, rgba(39, 39, 39, 0.03551) 86.67%, rgba(39, 39, 39, 0.0086472) 93.33%, rgba(39, 39, 39, 0) 100%)}@media (min-width: 0px){.hero_dark-theme.themed-background.sc-phn-country-recommender-h{height:72px}}@media (min-width: 760px){.hero_dark-theme.themed-background.sc-phn-country-recommender-h{height:148px}}.hero_dark-theme.sc-phn-country-recommender-h phn-p-icon.sc-phn-country-recommender{color:white}.navbar-theme.themed-background.sc-phn-country-recommender-h{background:white;border-bottom:1px solid #e3e4e5}.navbar-theme.sc-phn-country-recommender-h phn-p-icon.sc-phn-country-recommender{color:black}.transparent_dark-theme.themed-background.sc-phn-country-recommender-h{background:transparent}.transparent_dark-theme.sc-phn-country-recommender-h phn-p-icon.sc-phn-country-recommender{color:white}.transparent_light-theme.themed-background.sc-phn-country-recommender-h{background:transparent}.transparent_light-theme.sc-phn-country-recommender-h phn-p-icon.sc-phn-country-recommender{color:white}.showing.sc-phn-country-recommender-h{-webkit-animation:slideDown 1s ease-in-out 0s;animation:slideDown 1s ease-in-out 0s}.hiding.sc-phn-country-recommender-h{-webkit-animation:slideUp 1s ease-in-out 0s;animation:slideUp 1s ease-in-out 0s}@media (min-width: 760px){.sc-phn-country-recommender-h{font-size:0.875rem}}@media (min-width: 1760px){.sc-phn-country-recommender-h{font-size:1rem}}.sc-phn-country-recommender-h phn-p-button-pure.sc-phn-country-recommender,.sc-phn-country-recommender-h phn-p-link-pure.sc-phn-country-recommender{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender{margin:0;display:grid;padding:0 calc(50vw - 1280px);grid-gap:clamp(16px, 1.25vw + 12px, 36px);max-width:2560px;min-width:320px;-webkit-box-sizing:content-box;box-sizing:content-box;grid-template-columns:[full-start] minmax(0, calc(var(--pds-internal-grid-safe-zone) - clamp(16px, 1.25vw + 12px, 36px))) [wide-start extended-start basic-start narrow-start] repeat(6, minmax(0, 1fr)) [narrow-end basic-end extended-end wide-end] minmax(0, calc(var(--pds-internal-grid-safe-zone) - clamp(16px, 1.25vw + 12px, 36px))) [full-end];--pds-internal-grid-safe-zone:max(22px, 10.625vw - 12px);--pds-grid-basic-span-one-half:span 3;--pds-grid-basic-span-one-third:span 2;--pds-grid-narrow-span-one-half:span 3;--pds-grid-basic-span-two-thirds:span 4;--pds-grid-extended-span-one-half:span 3;font-family:\"Porsche Next\", \"Arial Narrow\", Arial, \"Heiti SC\", SimHei, sans-serif;font-weight:400;color:#fff}@media (min-width: 760px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender{grid-template-columns:[full-start] minmax(0, calc(var(--pds-internal-grid-safe-zone) - clamp(16px, 1.25vw + 12px, 36px))) [wide-start] minmax(0, 1fr) [extended-start] minmax(0, 1fr) [basic-start] repeat(2, minmax(0, 1fr)) [narrow-start] repeat(8, minmax(0, 1fr)) [narrow-end] repeat(2, minmax(0, 1fr)) [basic-end] minmax(0, 1fr) [extended-end] minmax(0, 1fr) [wide-end] minmax(0, calc(var(--pds-internal-grid-safe-zone) - clamp(16px, 1.25vw + 12px, 36px))) [full-end];--pds-internal-grid-safe-zone:calc(5vw - 16px);--pds-grid-basic-span-one-half:span 6;--pds-grid-basic-span-one-third:span 4;--pds-grid-narrow-span-one-half:span 4;--pds-grid-basic-span-two-thirds:span 8;--pds-grid-extended-span-one-half:span 7}}@media (min-width: 1920px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender{--pds-internal-grid-safe-zone:min(50vw - 880px, 400px)}}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender{font-family:\"Porsche Next\", \"Arial Narrow\", Arial, \"Heiti SC\", SimHei, sans-serif;font-weight:400;color:#fff;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;grid-column:wide-start/wide-end;-webkit-box-sizing:content-box;box-sizing:content-box;margin:0 0.5vw;padding-top:1.625rem;padding-bottom:0.625rem}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender{display:grid;grid-template-columns:4fr 1fr;grid-template-rows:1fr;gap:0px 0px;grid-template-areas:\"left  right\";width:100%}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender div.left-icons.sc-phn-country-recommender,.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender div.right-icons.sc-phn-country-recommender{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender div.left-icons.sc-phn-country-recommender{grid-area:left;-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender div.right-icons.sc-phn-country-recommender{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;justify-self:end;grid-area:right}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .statement.sc-phn-country-recommender{-ms-flex-order:0;order:0;padding-top:0.125rem;padding-right:0.5rem}@media (max-width: 759px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .statement.sc-phn-country-recommender{padding-bottom:1.0625rem}}@media (max-width: 479px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .statement.sc-phn-country-recommender{padding-bottom:1.0625rem}}@media (min-width: 0px) and (max-width: 479px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .statement.sc-phn-country-recommender{padding-bottom:0.625rem}}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .flag.sc-phn-country-recommender{margin-right:0.5rem;max-height:1.5rem;width:1.25rem;height:1.25rem;border-radius:100%;border:1px solid #6b6d70;background-color:#6b6d70}@media (min-width: 1000px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .flag.sc-phn-country-recommender{width:1.375rem;height:1.375rem}}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .flag-region.sc-phn-country-recommender{display:-ms-flexbox;display:flex}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .language.sc-phn-country-recommender{padding-right:1.5rem;padding-top:0.125rem;padding-bottom:1rem}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .selector.sc-phn-country-recommender{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-order:2;order:2;width:100%}@media (min-width: 760px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .selector.sc-phn-country-recommender{-ms-flex-order:1;order:1;width:auto}}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .change.sc-phn-country-recommender{padding-top:0.125rem;margin-bottom:1rem}.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .close-button.sc-phn-country-recommender{grid-area:right;margin-left:auto;-ms-flex-order:1;order:1;font-size:0.375rem}@media (min-width: 760px){.sc-phn-country-recommender-h .country-recommender-container.sc-phn-country-recommender .country-recommender.sc-phn-country-recommender .country-recommender-icons-tray.sc-phn-country-recommender .close-button.sc-phn-country-recommender{-ms-flex-order:2;order:2}}";

const CountryRecommender = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.bannerClosed = createEvent(this, "bannerClosed", 7);
    this.locale = undefined;
    this.content = undefined;
    this.flagURL = '';
  }
  async localeWatcher() {
    await this.setFlagURL();
  }
  async setFlagURL() {
    const footerAssetsUrl = getConfig(navStateStore.state.env).FOOTER_ASSETS_URL;
    this.flagURL = await getFlagURL(footerAssetsUrl, this.locale);
  }
  closeCountryRecommender() {
    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CLOSE, {
      componentClick: {
        clickElementId: 'mainmenu.banner.close',
        clickElementName: 'close',
        clickElementType: ClickElementTypes.Button
      }
    });
    this.el.classList.remove('showing');
    this.el.classList.add('hiding');
  }
  componentWillLoad() {
    this.setFlagURL();
  }
  componentDidLoad() {
    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_LOAD, {
      componentClick: {
        clickElementId: 'mainmenu.banner',
        clickElementName: 'Country Recommender',
        clickElementType: ClickElementTypes.Link
      }
    });
  }
  handleAnimationEnd(e) {
    var _a, _b;
    if (e.animationName === 'slideUp') {
      (_a = getHTMLElement(e.target)) === null || _a === void 0 ? void 0 : _a.classList.remove('hiding');
      this.bannerClosed.emit();
    }
    else if (e.animationName === 'slideDown') {
      (_b = getHTMLElement(e.target)) === null || _b === void 0 ? void 0 : _b.classList.remove('showing');
    }
  }
  sendDataLayerEvent() {
    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CHANGE, {
      componentClick: {
        clickElementId: this.content.change.id,
        clickElementName: this.content.change.text,
        clickElementType: ClickElementTypes.Link,
        targetUrl: getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL
      }
    });
  }
  render() {
    const { statement, region, language, change } = this.content;
    return (h(Host, { class: "showing" }, h("div", { class: "country-recommender-container" }, h("div", { class: "country-recommender" }, h("div", { class: "country-recommender-icons-tray" }, h("div", { class: "left-icons" }, isString(statement) ? (h("phn-p-text", { theme: "dark", size: "inherit", class: "statement" }, statement)) : /* istanbul ignore next */
      null, h("div", { class: "selector" }, h("div", { class: "phn-flex-row phn-flex-wrap" }, h("div", { class: "flag-region" }, isString(this.flagURL) ? (h("phn-p-icon", { source: this.flagURL, class: "flag", "aria-hidden": "true", size: "inherit", color: "inherit" })) : /* istanbul ignore next */
      null, isString(region) && isString(language) ? (h("phn-p-text", { theme: "dark", class: "language", size: "inherit" }, region, " / ", language)) : /* istanbul ignore next */
      null), h("phn-p-link-pure", { theme: "dark", size: "inherit", class: "change", onClick: () => this.sendDataLayerEvent(), aria: { 'aria-label': 'Change Region or Language' } }, h("a", { href: getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL }, change.text))))), h("div", { class: "right-icons" }, h("phn-p-button-pure", { theme: "dark", icon: "close", onClick: () => this.closeCountryRecommender(), class: "close-button", "hide-label": "true" }, "Close dialog")))))));
  }
  get el() { return getElement(this); }
  static get watchers() { return {
    "locale": ["localeWatcher"]
  }; }
};
CountryRecommender.style = countryRecommenderCss;

export { CountryRecommender as phn_country_recommender };

//# sourceMappingURL=phn-country-recommender.entry.js.map