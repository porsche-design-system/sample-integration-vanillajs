{"file":"double-drawer-animation-sequences-bda860c6.js","mappings":"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","names":[],"sources":["src/components/double-drawer/double-drawer-animation-sequences.ts"],"sourcesContent":["import animationManager, {\n  AnimationStatusCallbacks,\n  makeSequence,\n  SequenceStep,\n  WithRequired\n} from '../../services/animations/animation-manager';\nimport { AnimationDurations, AnimationSequences, AnimationSequencesType } from '../../utility/constants';\n\nexport type RouteChangeCallbacks = {\n  onSlideMainDrawerOutEnd: () => Promise<unknown>;\n} & WithRequired<GrowHighlightCallbacks, 'onGrowHighlightEnd'>;\n\nexport type GrowHighlightCallbacks = {\n  onGrowHighlightEnd?: (() => Promise<unknown>) | (() => void);\n  onGrowHighlightStart?: (() => Promise<unknown>) | (() => void);\n};\n\nexport type ShrinkHighlightCallbacks = {\n  onShrinkHighlightEnd?: (() => Promise<unknown>) | (() => void);\n  onShrinkHighlightStart?: (() => Promise<unknown>) | (() => void);\n};\n\nconst resetToFarRight = (el: HTMLElement) => {\n  el.style.left = '';\n  el.style.right = '150%';\n};\n\nconst mainDrawerHTMLSelector = '#main-drawer > div:first-child';\n\nexport const registerOpenDoubleDrawerSequence = ({\n  onAnimationStarts,\n  onAnimationEnds\n}: Required<AnimationStatusCallbacks>): void => {\n  const sequence: SequenceStep[] = [\n    [\n      {\n        onStart: onAnimationStarts,\n        elementSelector: 'phn-double-drawer',\n        animation: {\n          name: 'slideInFromLeft',\n          duration: AnimationDurations.drawerOpen,\n          from: -1000\n        }\n      },\n      {\n        elementSelector: 'phn-backdrop',\n        animation: {\n          name: 'fadeInBackdrop',\n          duration: AnimationDurations.backdrop,\n          to: 0.6\n        },\n        onEnd: onAnimationEnds\n      }\n    ]\n  ];\n\n  animationManager.register(\n    AnimationSequences.OPEN_DOUBLE_DRAWER,\n    makeSequence(sequence, { timingFunction: 'cubicBezierStart' })\n  );\n};\n\nexport const registerCloseDoubleDrawerSequence = ({\n  onBackdropFadeOutEnd,\n  onAnimationStarts,\n  onAnimationEnds\n}: Required<AnimationStatusCallbacks> & {\n  onBackdropFadeOutEnd: () => Promise<void>;\n}): void => {\n  const sequence: SequenceStep[] = [\n    [\n      {\n        elementSelector: 'phn-double-drawer',\n        onStart: onAnimationStarts,\n        animation: {\n          name: 'slideOutToLeft',\n          duration: AnimationDurations.drawer,\n          to: -1000\n        }\n      },\n      {\n        elementSelector: 'phn-backdrop',\n        animation: {\n          name: 'fadeOutBackdrop',\n          duration: AnimationDurations.backdrop,\n          from: 0.6\n        },\n        onEnd: () => {\n          onBackdropFadeOutEnd();\n          onAnimationEnds();\n        }\n      }\n    ]\n  ];\n\n  animationManager.register(\n    AnimationSequences.CLOSE_DOUBLE_DRAWER,\n    makeSequence(sequence, { timingFunction: 'cubicBezierEnd' })\n  );\n};\n\nexport const registerTransitionSequence = (\n  { onGrowHighlightEnd, onSlideMainDrawerOutEnd }: RouteChangeCallbacks,\n  direction: 'normal' | 'reverse' = 'normal'\n): void => {\n  animationManager.register(\n    `transitionSameLevelDoubleDrawer${direction === 'reverse' ? 'Reverse' : ''}`,\n    makeSequence(\n      [\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'shrinkElement', duration: AnimationDurations.highlight }\n          }\n        ],\n        [\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: {\n              name: direction === 'reverse' ? 'slideOutToRightRelative' : 'slideOutToLeftRelative',\n              to: -150,\n              cleanUpAfterAnimation: resetToFarRight,\n              duration: AnimationDurations.drawerContent\n            },\n            onEnd: onSlideMainDrawerOutEnd\n          }\n        ],\n        [\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: {\n              name: direction === 'reverse' ? 'slideInFromLeftRelative' : 'slideInFromRightRelative',\n              from: -150,\n              duration: AnimationDurations.drawerContent\n            }\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'growElement', duration: AnimationDurations.highlight },\n            onEnd: onGrowHighlightEnd\n          }\n        ]\n      ],\n      { timingFunction: 'easeInOutQuad' }\n    )\n  );\n};\n\nexport const registerForwardToNextMenuSequence = ({\n  onSlideMainDrawerOutEnd,\n  onGrowHighlightEnd\n}: RouteChangeCallbacks): void => {\n  animationManager.register(\n    'transitionNextLevelDoubleDrawer',\n    makeSequence(\n      [\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'shrinkElement', duration: AnimationDurations.highlight }\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div',\n            animation: {\n              name: 'slideOutToLeftRelative',\n              to: -150,\n              cleanUpAfterAnimation: resetToFarRight,\n              duration: AnimationDurations.drawerContent\n            }\n          },\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: {\n              name: 'slideOutToLeftRelative',\n              to: -150,\n              cleanUpAfterAnimation: resetToFarRight,\n              duration: AnimationDurations.drawerContent\n            },\n            onEnd: onSlideMainDrawerOutEnd\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div',\n            animation: {\n              name: 'slideInFromRightRelative',\n              from: -150,\n              cleanUpAfterAnimation: true,\n              duration: AnimationDurations.drawerContent\n            }\n          },\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: {\n              name: 'slideInFromRightRelative',\n              from: -150,\n              cleanUpAfterAnimation: true,\n              duration: AnimationDurations.drawerContent\n            }\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'growElement', duration: AnimationDurations.highlight },\n            onEnd: onGrowHighlightEnd\n          }\n        ]\n      ],\n      { timingFunction: 'easeInOutQuad' }\n    )\n  );\n};\nexport const registerBackToPreviousMenuSequence = ({\n  onGrowHighlightEnd,\n  onSlideMainDrawerOutEnd\n}: RouteChangeCallbacks): void => {\n  animationManager.register(\n    'transitionPreviousLevelDoubleDrawer',\n    makeSequence(\n      [\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'shrinkElement', duration: AnimationDurations.highlight }\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div',\n            animation: { name: 'slideOutToRightRelative', to: -150, duration: AnimationDurations.drawerContent }\n          },\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: { name: 'slideOutToRightRelative', to: -150, duration: AnimationDurations.drawerContent },\n            onEnd: onSlideMainDrawerOutEnd\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div',\n            animation: {\n              name: 'slideInFromLeftRelative',\n              from: -150,\n              cleanUpAfterAnimation: true,\n              duration: AnimationDurations.drawerContent\n            }\n          },\n          {\n            elementSelector: mainDrawerHTMLSelector,\n            animation: {\n              name: 'slideInFromLeftRelative',\n              from: -150,\n              cleanUpAfterAnimation: true,\n              duration: AnimationDurations.drawerContent\n            }\n          }\n        ],\n        [\n          {\n            elementSelector: '#side-drawer > div > phn-side-drawer > nav > .item-highlight',\n            animation: { name: 'growElement', duration: AnimationDurations.highlight },\n            onEnd: onGrowHighlightEnd\n          }\n        ]\n      ],\n      { timingFunction: 'easeInOutQuad' }\n    )\n  );\n};\n\nexport const isPlayingDoubleDrawerAnimation = (): boolean => {\n  const doubleDrawerAnimationSequences: AnimationSequencesType[] = [\n    AnimationSequences.OPEN_DOUBLE_DRAWER,\n    AnimationSequences.CLOSE_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE\n  ];\n\n  return doubleDrawerAnimationSequences.some((sequence) => {\n    try {\n      return animationManager.isPlaying(sequence);\n    } catch {\n      return false;\n    }\n  });\n};\n"],"version":3}