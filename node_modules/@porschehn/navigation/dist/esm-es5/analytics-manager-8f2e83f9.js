import{b as getPreviousRoutingKey,g as getLastRoutingSegment,d as determineMainDrawerLevel}from"./routing-key-808e9d26.js";import{r as routerStore}from"./router-store-26b5bff5.js";import{j as DEALER_SEARCH_ELEMENT_TYPE,h as ElementTypes}from"./nav-content-store-238e6137.js";import{i as isString}from"./helper-76937d0b.js";import{g as getSideDrawerRoutingKey}from"./menu-items-service-0969229a.js";var state={};function setDrawerType(e){state.drawerType=e}function calculateDisplayElementId(e){var t=state.drawerType;var r=(isString(e)?getPreviousRoutingKey(e):routerStore.state.routingKeyHistory[routerStore.state.routingKeyPointer])||"";var a=getLastRoutingSegment(r);var n=determineMainDrawerLevel(r);var l=n-1;if(!isString(r)){return"level0"}var i=isString(r)?"level".concat(n,"-").concat(a):"level".concat(n-1,"-unknown");if(t==="doubleDrawer"){if(r===""){return"level".concat(l,"-unknown_level").concat(n,"-unknown")}var o=getSideDrawerRoutingKey(r);return"level".concat(l,"-").concat(o,"_").concat(i)}return i}function calculateDisplayElementType(e,t,r){var a=state.drawerType;var n=determineMainDrawerLevel(e);if(a==="doubleDrawer"){var l=n;if(r){l=l-1}return"level".concat(l,"_").concat(t)}else{return isString(e)?"level".concat(n,"_").concat(t):"level".concat(n-1,"_").concat(t)}}function getModelName(e){var t=e.link.split("/");var r=t[t.length-1];var a;if(r===""){if(t[t.length-2]===undefined){a=""}else{a=t[t.length-2].split("-").join(" ")}}else{a=r.split("-").join(" ")}return a}function getModelTargetElement(e,t){if(e.includes("models")){var r=determineMainDrawerLevel(e);return"level".concat(r,"_").concat(t.toLowerCase())}return}function getDrawerType(){return state.drawerType}function getDealerResultsLoadDisplayElementId(e){if(getDrawerType()==="doubleDrawer"){return e}else{return calculateDisplayElementId()}}function getDealerResultsLoadDisplayElementType(){if(getDrawerType()==="doubleDrawer"){return DEALER_SEARCH_ELEMENT_TYPE}else{return calculateDisplayElementType("",ElementTypes.dealerSearchForm)}}var analyticsManager={setDrawerType:setDrawerType,getDealerResultsLoadDisplayElementId:getDealerResultsLoadDisplayElementId,calculateDisplayElementId:calculateDisplayElementId,getDealerResultsLoadDisplayElementType:getDealerResultsLoadDisplayElementType,calculateDisplayElementType:calculateDisplayElementType,getModelName:getModelName,getModelTargetElement:getModelTargetElement};export{analyticsManager as a};
//# sourceMappingURL=analytics-manager-8f2e83f9.js.map