var __awaiter=this&&this.__awaiter||function(e,t,o,n){function r(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function c(e){try{l(n["throw"](e))}catch(e){i(e)}}function l(e){e.done?o(e.value):r(e.value).then(a,c)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var o={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,r,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return l([e,t])}}function l(c){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,c[0]&&(o=0)),o)try{if(n=1,r&&(i=c[0]&2?r["return"]:c[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;if(r=0,i)c=[c[0]&2,i.value];switch(c[0]){case 0:case 1:i=c;break;case 4:o.label++;return{value:c[1],done:false};case 5:o.label++;r=c[1];c=[0];continue;case 7:c=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(c[0]===6&&o.label<i[1]){o.label=i[1];i=c;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(c);break}if(i[2])o.ops.pop();o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e];r=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:true}}};import{q as breakpoint,v as hasKey,N as NaviError,a as NaviErrorTypes,g as getString,C as COOKIE_DOMAIN,M as MS_IN_MONTH,x as shallowCopySpecifiedAttributesWithDefault,y as camelToKebapCase,i as isString,u as getHTMLElement}from"./navi-error-d2e07707.js";var WindowService=function(){function e(){this.initialBodyStyleValues={top:"",position:"",inlineSize:"",overflowY:""};this.initialDocumentScrollTop=0}Object.defineProperty(e.prototype,"location",{get:function(){return window.location},set:function(e){window.location=e},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionStorage",{get:function(){return window.sessionStorage},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"localStorage",{get:function(){return window.localStorage},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"version",{set:function(e){Object.assign(window,{PHN_HEADER_VERSION:e})},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"navigationLoaded",{set:function(e){Object.assign(window,{PHN_NAVIGATION_LOADED:e})},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"bodyOverflow",{get:function(){return document.body.style.overflow},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"bodyHeight",{get:function(){return document.body.style.height},enumerable:false,configurable:true});e.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)};e.prototype.createDiv=function(){return window.document.createElement("div")};e.prototype.getBreakpoint=function(){var e=Math.max(window.document.documentElement.clientWidth,window.innerWidth||0);var t=Object.keys(breakpoint).reverse().find((function(t){return hasKey(breakpoint,t)&&e>=breakpoint[t]}));return typeof t==="string"&&hasKey(breakpoint,t)?breakpoint[t]:0};Object.defineProperty(e.prototype,"redirected",{get:function(){return window.REDIRECTED===true||window.location.search.includes("cs_redirect=")},enumerable:false,configurable:true});e.prototype.createIframe=function(e,t){var o=window.document.createElement("iframe");o.id=e;o.style.display="none";o.src=t;window.document.body.appendChild(o)};e.prototype.removeElement=function(e){var t;(t=window.document.getElementById(e))===null||t===void 0?void 0:t.remove()};e.prototype.redirectToUrl=function(e){window.location.assign(e)};e.prototype.generateRandom=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var o=new Uint8Array(e);window.crypto.getRandomValues(o);var n=[];for(var r=0;r<o.byteLength;r+=1){var i=o[r]%t.length;n.push(t[i])}return n.join("")};e.prototype.maybeCheckMarketingConsent=function(e){var t,o,n,r,i,a,c,l,u,d,s;var p={processorId:(n=(o=(t=window.GlobalConsent)===null||t===void 0?void 0:t.Processor)===null||o===void 0?void 0:o.googleMaps)!==null&&n!==void 0?n:"Google Maps",timeoutVar:{},mapContainer:"",callbacks:{success:e}};if(typeof((i=(r=window.PCOM)===null||r===void 0?void 0:r.globalConsent)===null||i===void 0?void 0:i.checkConsent)==="function"){(l=(c=(a=window.PCOM)===null||a===void 0?void 0:a.globalConsent)===null||c===void 0?void 0:c.checkConsent)===null||l===void 0?void 0:l.call(c,p);return true}if(typeof((u=window.ucPrivacyShield)===null||u===void 0?void 0:u.checkConsent)==="function"){(s=(d=window.ucPrivacyShield)===null||d===void 0?void 0:d.checkConsent)===null||s===void 0?void 0:s.call(d,p);return true}e();return false};e.prototype.deriveChallenge=function(e){return __awaiter(this,void 0,void 0,(function(){var t,o,n,r,i,a,n;return __generator(this,(function(c){switch(c.label){case 0:if(e.length<43||e.length>128){throw new NaviError("invalid code length",NaviErrorTypes.INVALID_INPUT)}t=new ArrayBuffer(e.length);o=new Uint8Array(t);for(n=0;n<e.length;n++){o[n]=e.charCodeAt(n)}return[4,window.crypto.subtle.digest("SHA-256",o)];case 1:r=c.sent();i=new Uint8Array(r);a="";for(n=0;n<i.byteLength;n++){a+=String.fromCharCode(i[n])}return[2,window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")]}}))}))};e.prototype.hashString=function(e){return __awaiter(this,void 0,void 0,(function(){var t,o,n;return __generator(this,(function(r){switch(r.label){case 0:t=(new TextEncoder).encode(e);return[4,window.crypto.subtle.digest("SHA-256",t)];case 1:o=r.sent();n=Array.from(new Uint8Array(o));return[2,n.map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))};e.prototype.getScrollbarWidth=function(){var e=window.document.createElement("div");e.style.overflow="scroll";window.document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;window.document.body.removeChild(e);return Number.isNaN(t)?"0px":"".concat(t,"px")};e.prototype.fetchGoogleMapsApi=function(e,t){if(t===void 0){t="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=places")}return __awaiter(this,void 0,void 0,(function(){var e,o;return __generator(this,(function(n){if(window.google!==undefined&&window.google.maps!==undefined&&window.google.maps.version!==undefined){return[2,window.google]}e=document.getElementById("googleMaps");if(e){return[2,window.google]}o=document.createElement("script");o.src=t;o.id="googleMaps";document.head.appendChild(o);return[2,new Promise((function(e,t){o.onerror=function(){t(new NaviError("Failed to load google maps script.",NaviErrorTypes.GENERAL))};o.onload=function(){e(window.google)}}))]}))}))};e.prototype.getNavigatorLatLong=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition((function(t){var o=t.coords,n=o.latitude,r=o.longitude;e({latitude:n,longitude:r})}),(function(e){return t(new NaviError("geolocation.getCurrentPosition failed with ".concat(e.code,": ").concat(e.message),getErrorType(e)))}))}))]}))}))};e.prototype.getCookie=function(e){var t;return getString((t=document.cookie.split("; ").find((function(t){return t.startsWith("".concat(e,"="))})))===null||t===void 0?void 0:t.split("=")[1])};e.prototype.setCookie=function(e,t){document.cookie="".concat(e,"=").concat(t,";domain=").concat(COOKIE_DOMAIN,";expires=").concat(new Date(Date.now()+MS_IN_MONTH*10).toUTCString(),";")};e.prototype.btoa=function(e){return window.btoa(e)};e.prototype.lockScroll=function(){this.initialBodyStyleValues=shallowCopySpecifiedAttributesWithDefault(document.body.style,this.initialBodyStyleValues);this.initialDocumentScrollTop=document.documentElement.scrollTop;document.body.style.top="-".concat(document.documentElement.scrollTop,"px");document.body.style.position="fixed";document.body.style.inlineSize="100%";document.body.style.overflowY="scroll"};e.prototype.unlockScroll=function(){Object.entries(this.initialBodyStyleValues).forEach((function(e){var t=e[0],o=e[1];return document.body.style.setProperty(camelToKebapCase(t),o)}));document.documentElement.scrollTop=this.initialDocumentScrollTop};e.prototype.hasScrollbar=function(){return window.document.body.offsetHeight>window.innerHeight};e.prototype.waitForElement=function(e,t){return __awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(n){if(!isString(t)){return[2,e]}o=getHTMLElement(e.querySelector(t));if(o!==null){return[2,o]}return[2,new Promise((function(o){var n=new MutationObserver((function(){var r=getHTMLElement(e.querySelector(t));if(r!==null){o(r);n.disconnect()}}));n.observe(e,{childList:true,subtree:true})}))]}))}))};return e}();function getErrorType(e){switch(e.code){case e.PERMISSION_DENIED:{return NaviErrorTypes.GEOLOCATION_DENIED}case e.POSITION_UNAVAILABLE:case e.TIMEOUT:{return NaviErrorTypes.RETRY}default:{return NaviErrorTypes.GENERAL}}}var windowService=new WindowService;export{windowService as w};
//# sourceMappingURL=window-service-890948e7.js.map