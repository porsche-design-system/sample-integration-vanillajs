import{v as hasKey,i as isString,N as NaviError,a as NaviErrorTypes,L as LOGGED_OUT_USER_STATUS,D as DEFAULT_UNREAD_MESSAGES_COUNT,w as DEFAULT_ENVIRONMENT,A as Application}from"./navi-error-d2e07707.js";import{a as getRenderingRef,f as forceUpdate}from"./index-3fb28577.js";var Environments={PRODUCTION:"production",PREVIEW:"preview",TEST:"test",LOCAL:"local"};function getEnvironment(e){switch(e){case Environments.PREVIEW.toString():return Environments.PREVIEW;case Environments.TEST.toString():return Environments.TEST;case Environments.LOCAL.toString():return Environments.LOCAL;case Environments.PRODUCTION.toString():default:return Environments.PRODUCTION}}var EventActions={GENERAL_LOAD:"PAGHomeNav_General_Load",COUNTRY_RECOMMENDER_LOAD:"PAGHomeNav_CountryRecommender_Load",COUNTRY_RECOMMENDER_CHANGE:"PAGHomeNav_CountryRecommenderChange_Click",COUNTRY_RECOMMENDER_CLOSE:"PAGHomeNav_CountryRecommenderClose_Click",CREST_CLICK:"PAGHomeNav_Crest_Click",NAVIGATION_LOAD:"PAGHomeNav_Navigation_Load",MODEL_OVERLAY_LOAD:"PAGHomeNav_ModelRangeOverlay_Load",MENU_BACK_CLICK:"PAGHomeNav_MenuBack_Click",MENU_CLOSE_CLICK:"PAGHomeNav_MenuClose_Click",META_FUNCTION_CLICK:"PAGHomeNav_MetaFunction_Click",MODEL_CLICK:"PAGHomeNav_Model_Click",MODEL_META_FUNCTION_CLICK:"PAGHomeNav_ModelMetaFunction_Click",MODEL_CTA_CLICK:"PAGHomeNav_ModelCTA_Click",MODEL_RANGE_CLICK:"PAGHomeNav_ModelRange_Click",MORE_CLICK:"PAGHomeNav_More_Click",NAVIGATION_CLICK:"PAGHomeNav_Navigation_Click",NAVIGATION_LINK_CLICK:"PAGHomeNav_NavigationLink_Click",DEALER_SEARCH_SCREEN_LOAD:"PAGHomeNav_FindADealerSearchScreen_Load",DEALER_RESULTS_SCREEN_LOAD:"PAGHomeNav_FindADealerResultsScreen_Load",DEALER_SEARCH_CLICK:"PAGHomeNav_FindADealerSearch_Click",DEALER_GEOLOCATION_CLICK:"PAGHomeNav_FindADealerLocateMe_Click",DEALER_RESULT_CLICK:"PAGHomeNav_FindADealerDealer_Click",DEALER_DETAILS_SCREEN_LOAD:"PAGHomeNav_FindADealerDealerScreen_Load",DEALER_CONTACT_CLICK:"PAGHomeNav_FindADealerDealerContact_Click",DEALER_MAP_CLICK:"PAGHomeNav_FindADealerMap_Click",CONTEXTUAL_BUTTON_CLICK:"PAGHomeNav_IconContextLink_Click",DRAWER_LOAD:"PAGHomeNav_Drawer_Load",PCOM_SEARCH_CLICK:"PAGHomeNav_IconGlobalLink_Click"};var DATA_LAYER_APP_ID="nav";var DATA_LAYER_APPLICATION_NAME="edgecast_CDN";var ElementTypes={closeButton:"close-button",backdrop:"backdrop",backButton:"back-button",menuItem:"menu-item",sideDrawerItem:"side-drawer-item",doubleDrawer:"double-drawer",singleDrawer:"single-drawer",bodyTypeButton:"body-type-button",myPorscheDrawer:"my-porsche-drawer",dealerSearchForm:"dealer-search-form"};var ClickElementTypes={Link:"link",Button:"button",Image:"image"};var DisplayElementTypes={SingleDrawer:"singleDrawer",DoubleDrawer:"doubleDrawer"};var DEALER_SEARCH_DISPLAY_ELEMENT_ID="level1-mainmenu_level2-find_a_dealer";var DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER="level1-mainmenu_level3-dealer-details";var DEALER_SEARCH_TARGET_ELEMENT="level2_dealer-search-form";var DEALER_SEARCH_ELEMENT_TYPE="level3_dealer-details";var RegionLocales={ASIA_PACIFIC:"asia-pacific",EASTERN_EUROPE:"eastern-europe",MIDDLE_EAST:"middle-east",LATIN_AMERICA:"latin-america",INTERNATIONAL:"international"};var RegionLocaleMap={AP:RegionLocales.ASIA_PACIFIC,CE:RegionLocales.EASTERN_EUROPE,LL:RegionLocales.LATIN_AMERICA,WW:RegionLocales.INTERNATIONAL};function isCountryInOneOfRegions(e){return Object.values(RegionLocales).includes(e)}function splitLocale(e){if(!isString(e)){throw new NaviError("empty locale passed",NaviErrorTypes.NO_INPUT)}var n=e.substring(0,e.indexOf("-")).toLowerCase();var r=e.substring(e.indexOf("-")+1).toLowerCase();if(!isCountryInOneOfRegions(r)){r=r.toUpperCase()}if(!isString(n)||!isString(r)){throw new NaviError("invalid locale ".concat(e," passed"),NaviErrorTypes.INVALID_INPUT)}return{language:n,country:hasKey(RegionLocaleMap,r)?RegionLocaleMap[r]:r}}var appendToMap=function(e,n,r){var t=e.get(n);if(!t){e.set(n,[r])}else if(!t.includes(r)){t.push(r)}};var debounce=function(e,n){var r;return function(){var t=[];for(var a=0;a<arguments.length;a++){t[a]=arguments[a]}if(r){clearTimeout(r)}r=setTimeout((function(){r=0;e.apply(void 0,t)}),n)}};var isConnected=function(e){return!("isConnected"in e)||e.isConnected};var cleanupElements=debounce((function(e){for(var n=0,r=e.keys();n<r.length;n++){var t=r[n];e.set(t,e.get(t).filter(isConnected))}}),2e3);var stencilSubscription=function(){if(typeof getRenderingRef!=="function"){return{}}var e=new Map;return{dispose:function(){return e.clear()},get:function(n){var r=getRenderingRef();if(r){appendToMap(e,n,r)}},set:function(n){var r=e.get(n);if(r){e.set(n,r.filter(forceUpdate))}cleanupElements(e)},reset:function(){e.forEach((function(e){return e.forEach(forceUpdate)}));cleanupElements(e)}}};var unwrap=function(e){return typeof e==="function"?e():e};var createObservableMap=function(e,n){if(n===void 0){n=function(e,n){return e!==n}}var r=unwrap(e);var t=new Map(Object.entries(r!==null&&r!==void 0?r:{}));var a={dispose:[],get:[],set:[],reset:[]};var o=function(){var n;t=new Map(Object.entries((n=unwrap(e))!==null&&n!==void 0?n:{}));a.reset.forEach((function(e){return e()}))};var i=function(){a.dispose.forEach((function(e){return e()}));o()};var E=function(e){a.get.forEach((function(n){return n(e)}));return t.get(e)};var s=function(e,r){var o=t.get(e);if(n(r,o,e)){t.set(e,r);a.set.forEach((function(n){return n(e,r,o)}))}};var _=typeof Proxy==="undefined"?{}:new Proxy(r,{get:function(e,n){return E(n)},ownKeys:function(e){return Array.from(t.keys())},getOwnPropertyDescriptor:function(){return{enumerable:true,configurable:true}},has:function(e,n){return t.has(n)},set:function(e,n,r){s(n,r);return true}});var c=function(e,n){a[e].push(n);return function(){removeFromArray(a[e],n)}};var l=function(n,r){var t=c("set",(function(e,t){if(e===n){r(t)}}));var a=c("reset",(function(){return r(unwrap(e)[n])}));return function(){t();a()}};var u=function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}var r=e.reduce((function(e,n){if(n.set){e.push(c("set",n.set))}if(n.get){e.push(c("get",n.get))}if(n.reset){e.push(c("reset",n.reset))}if(n.dispose){e.push(c("dispose",n.dispose))}return e}),[]);return function(){return r.forEach((function(e){return e()}))}};var A=function(e){var n=t.get(e);a.set.forEach((function(r){return r(e,n,n)}))};return{state:_,get:E,set:s,on:c,onChange:l,use:u,dispose:i,reset:o,forceUpdate:A}};var removeFromArray=function(e,n){var r=e.indexOf(n);if(r>=0){e[r]=e[e.length-1];e.length--}};var createStore=function(e,n){var r=createObservableMap(e,n);r.use(stencilSubscription());return r};var navStateStore=createStore({loggedInState:LOGGED_OUT_USER_STATUS,unreadMessagesCount:DEFAULT_UNREAD_MESSAGES_COUNT,userConsent:false,env:getEnvironment(DEFAULT_ENVIRONMENT),app:Application.default});var EMPTY_LINK={id:"",text:"",link:"",icon:"",description:""};var EMPTY_BUTTON={id:"",text:"",description:""};var EMPTY_COUNTRY_RECOMMENDER={statement:"",region:"",language:"",change:EMPTY_BUTTON};var EMPTY_MODELS={text:"",id:"",all:{id:"",text:"",link:"",icon:"",description:""},series:[]};var EMPTY_MENU={id:"",text:"",link:"",children:[]};var EMPTY_SHOP_MENU={cart:"",additionalContent:[],id:"",text:"",link:"",children:[],availableLocales:[],availableLocalesOnlyForShop:[],logoLinksToShopLocales:[]};var EMPTY_MYPORSCHE={id:"",text:"",link:"",loggedInFallback:"",login:EMPTY_LINK,loginText:"",logout:EMPTY_LINK,messages:EMPTY_LINK,more:null,signup:EMPTY_LINK,signupText:"",links:[],savedSearches:null,savedVehicles:null};var EMPTY_DEALER={id:"",text:"",numberOfDealers:42,search:{id:"",text:"",form:{inputPlaceholder:"",inputDescription:""},clear:EMPTY_BUTTON,or:"",geolocation:EMPTY_BUTTON,dropdown:{province:"",city:"",selectAProvince:"",selectACity:""},load:"",map:EMPTY_LINK,outboundLink:EMPTY_LINK},details:{id:"",finder:EMPTY_LINK,bookService:EMPTY_LINK,testDrive:EMPTY_LINK,backToSearch:""},openingHours:null};var EMPTY_ERRORS={wrong:"",retry:"",noResults:"",noInput:"",invalidInput:"",geolocationDenied:""};var EMPTY_CONTENT={menu:EMPTY_BUTTON,crest:EMPTY_LINK,back:EMPTY_BUTTON,close:EMPTY_BUTTON,accessibilityStatement:EMPTY_LINK,countryRecommender:EMPTY_COUNTRY_RECOMMENDER,contextualButtons:{},contextualLinks:{},models:EMPTY_MODELS,dealer:EMPTY_DEALER,myPorsche:EMPTY_MYPORSCHE,vehiclePurchase:EMPTY_MENU,shop:EMPTY_SHOP_MENU,externalShop:EMPTY_LINK,experience:EMPTY_MENU,services:EMPTY_MENU,error:EMPTY_ERRORS,loadingDescription:"",legacyMore:EMPTY_MENU,legacyShop:EMPTY_MENU};function findMenuItemById(e,n){if(!isString(n)){return null}if(e!==null){if(e.id===n){return e}if(!Array.isArray(e.children)){return null}for(var r=0,t=e.children;r<t.length;r++){var a=t[r];var o=findMenuItemById(a,n);if(o!==null){return o}}}return null}var navContentStore=createStore(EMPTY_CONTENT);export{ClickElementTypes as C,DATA_LAYER_APPLICATION_NAME as D,EventActions as E,RegionLocales as R,navContentStore as a,Environments as b,DATA_LAYER_APP_ID as c,createStore as d,DisplayElementTypes as e,ElementTypes as f,getEnvironment as g,DEALER_SEARCH_ELEMENT_TYPE as h,isCountryInOneOfRegions as i,findMenuItemById as j,DEALER_SEARCH_DISPLAY_ELEMENT_ID as k,DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER as l,DEALER_SEARCH_TARGET_ELEMENT as m,navStateStore as n,splitLocale as s};
//# sourceMappingURL=nav-content-store-ad934a75.js.map