import{b as navContentStore}from"./nav-content-store-0a34ed51.js";import{i as isString}from"./helper-baaa661e.js";function showDealerSearchDropdown(e){var n=["CN"];return n.includes(e)}function getRegionSpecificCountry(e){return e.includes("-")?e.split("-")[0]:e}function sanitizeDealerHomepage(e){if(!e.startsWith("https://")){return"http://".concat(e)}return e}function getOpeningHours(e){var n=navContentStore.state.dealer.openingHours;if(!n){return""}var t=[n.monday,n.tuesday,n.wednesday,n.thursday,n.friday,n.saturday,n.sunday];var r=getOpeningHoursMap(n,e);var a=[];var o="";var i=-1;var s=[];for(var u=0,c=t;u<c.length;u++){var g=c[u];var p=t.indexOf(g);var v=r.get(g);var f=getOpeningHoursString(v);if(f!==""){if(o===""){o=f;s.push(g)}else if(o!==f||i!==p-1){a.push(getDayRange(s,o));s=[g];o=f}else{s.push(g)}i=p}}if(o!==""){a.push(getDayRange(s,o))}return a.join("\n")}function getDayRange(e,n){if(e.length===1){return"".concat(e[0],": ").concat(n)}return"".concat(e[0]," - ").concat(e[e.length-1],": ").concat(n)}function getOpeningHoursMap(e,n){var t=new Map;for(var r=0,a=n;r<a.length;r++){var o=a[r];var i=e[o.day.toLowerCase()];if(isString(i)){t.set(i,{open:o.open,close:o.close})}}return t}function getOpeningHoursString(e){return e&&e.open!==""&&e.close!==""?getTimeFormat(e):""}function getTimeFormat(e){var n=navContentStore.state.dealer.openingHours;var t=(n===null||n===void 0?void 0:n.timeFormat)===12;return"".concat(convertToLocalTime(e.open,t)," - ").concat(convertToLocalTime(e.close,t))}function convertToLocalTime(e,n){if(n===void 0){n=false}var t=e.split(":").map(Number),r=t[0],a=t[1];var o=new Date(0,0,0,r,a);return o.toLocaleString(undefined,{hour:"numeric",minute:"numeric",hour12:n}).toUpperCase()}export{sanitizeDealerHomepage as a,getRegionSpecificCountry as b,getOpeningHours as g,showDealerSearchDropdown as s};
//# sourceMappingURL=dealer-search-helper-da8fe90b.js.map