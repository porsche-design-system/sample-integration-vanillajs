import{A as Application,z as getUsername}from"./navi-error-d2e07707.js";import{d as createStore,a as navContentStore,n as navStateStore}from"./nav-content-store-ad934a75.js";var shopStateStore=createStore({wishlistItemsNumber:0,numberOfShoppingItems:0,shopInformation:{numberOfShoppingItems:0,wishlistItemsNumber:0,subTotal:"0"}});function isShopAvailable(t,e){var o;var s=(o=navContentStore.state.shop)===null||o===void 0?void 0:o.availableLocales;return s!==undefined&&s.includes(t)&&e===Application.shop}function logoLinksToShop(t){var e,o;return((o=(e=navContentStore.state.shop)===null||e===void 0?void 0:e.logoLinksToShopLocales)===null||o===void 0?void 0:o.includes(t))||false}function isShopAvailableAndLogoLinksToShop(t,e,o){return isShopAvailable(t,e)&&logoLinksToShop(t)&&o!==null}function modifyShopItemDependingOnMarket(t,e,o){var s=o.shop,n=o.externalShop;if(s===null)return o;if(n&&e!==Application.shop){return replaceShopWithExternalShop(o,s,n)}if(shopNotAvailableOnGlobalPages(s,t,e)){return removeShopItemFromContent(o,s)}return o}function replaceShopWithExternalShop(t,e,o){return Object.assign(Object.assign({},t),{shop:Object.assign(Object.assign({},e),o)})}function shopNotAvailableOnGlobalPages(t,e,o){return!(t===null||t===void 0?void 0:t.availableLocales.includes(e))||(t===null||t===void 0?void 0:t.availableLocalesOnlyForShop.includes(e))&&o!==Application.shop}function removeShopItemFromContent(t,e){return Object.assign(Object.assign({},t),{shop:Object.assign(Object.assign({},e),{text:""})})}function filterWishlistItemsByAuthStatus(t,e){return t===null||t===void 0?void 0:t.filter((function(t){if(t.authStatus===null||t.authStatus===undefined){return e.includes(null)}return e.includes(t.authStatus)}))}function getAvailableShopVariables(){var t=navContentStore.state.myPorsche;var e=navStateStore.state.loggedInState;var o=shopStateStore.state.shopInformation.wishlistItemsNumber;if(o===0){o=shopStateStore.state.wishlistItemsNumber}var s=getUsername(e,(t===null||t===void 0?void 0:t.loggedInFallback)||"");return{wishlistItemsNumber:o,username:s}}function loadsShopPropsOnStore(t){shopStateStore.set("wishlistItemsNumber",t.wishlistItemsNumber);shopStateStore.set("numberOfShoppingItems",t.numberOfShoppingItems);shopStateStore.set("shopInformation",t.shopInformation)}function getWishlistIconName(){var t=shopStateStore.state.shopInformation;var e=shopStateStore.state.wishlistItemsNumber;var o=t.wishlistItemsNumber>0?t.wishlistItemsNumber:e;return o>0?"heart-filled":"heart"}function getIconNameByMenuItemId(t){var e={wishlist:getWishlistIconName};var o=e[t];if(typeof o!=="function")return null;return o()}export{isShopAvailableAndLogoLinksToShop as a,getAvailableShopVariables as b,filterWishlistItemsByAuthStatus as f,getIconNameByMenuItemId as g,isShopAvailable as i,loadsShopPropsOnStore as l,modifyShopItemDependingOnMarket as m,shopStateStore as s};
//# sourceMappingURL=shop-helper-f5127373.js.map