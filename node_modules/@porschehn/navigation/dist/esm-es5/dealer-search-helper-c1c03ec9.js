import{a as navContentStore}from"./nav-content-store-ad934a75.js";import{i as isString}from"./navi-error-d2e07707.js";function showDealerSearchDropdown(e){var n=["CN"];return n.includes(e)}function getRegionSpecificCountry(e){return e.includes("-")?e.split("-")[0]:e}function sanitizeDealerHomepage(e){if(!e.startsWith("https://")){return"http://".concat(e)}return e}function getOpeningHours(e){var n=navContentStore.state.dealer.openingHours;if(!n){return""}var r=[n.monday,n.tuesday,n.wednesday,n.thursday,n.friday,n.saturday,n.sunday];var t=getOpeningHoursMap(n,e);var a=[];var o="";var i=-1;var s=[];for(var u=0,c=r;u<c.length;u++){var g=c[u];var p=r.indexOf(g);var v=t.get(g);var l=getOpeningHoursString(v);if(l!==""){if(o===""){o=l;s.push(g)}else if(o!==l||i!==p-1){a.push(getDayRange(s,o));s=[g];o=l}else{s.push(g)}i=p}}if(o!==""){a.push(getDayRange(s,o))}var f=t.get(n.daily_lunch);var d=getOpeningHoursString(f);if(d!==""){a.push(getDayRange([n.daily_lunch],d))}return a.join("\n")}function getDayRange(e,n){if(e.length===1){return"".concat(e[0],": ").concat(n)}return"".concat(e[0]," - ").concat(e[e.length-1],": ").concat(n)}function getOpeningHoursMap(e,n){var r=new Map;for(var t=0,a=n;t<a.length;t++){var o=a[t];var i=e[o.day.toLowerCase()];if(isString(i)){r.set(i,{open:o.open,close:o.close})}}return r}function getOpeningHoursString(e){return e&&e.open!==""&&e.close!==""?getTimeFormat(e):""}function getTimeFormat(e){var n=navContentStore.state.dealer.openingHours;var r=(n===null||n===void 0?void 0:n.timeFormat)===12;return"".concat(convertToLocalTime(e.open,r)," - ").concat(convertToLocalTime(e.close,r))}function convertToLocalTime(e,n){if(n===void 0){n=false}var r=e.split(":").map(Number),t=r[0],a=r[1];var o=new Date(0,0,0,t,a);return o.toLocaleString(undefined,{hour:"numeric",minute:"numeric",hour12:n}).toUpperCase()}export{sanitizeDealerHomepage as a,getRegionSpecificCountry as b,getOpeningHours as g,showDealerSearchDropdown as s};
//# sourceMappingURL=dealer-search-helper-c1c03ec9.js.map