import{b as navContentStore}from"./nav-content-store-238e6137.js";import{i as isString}from"./helper-76937d0b.js";function showDealerSearchDropdown(e){var n=["CN"];return n.includes(e)}function getRegionSpecificCountry(e){return e.includes("-")?e.split("-")[0]:e}function sanitizeDealerHomepage(e){if(!e.startsWith("https://")){return"http://".concat(e)}return e}function getOpeningHours(e){var n=navContentStore.state.dealer.openingHours;if(!n){return""}var t=[n.monday,n.tuesday,n.wednesday,n.thursday,n.friday,n.saturday,n.sunday];var r=getOpeningHoursMap(n,e);var o=[];var a="";var i=-1;var s=[];for(var u=0,c=t;u<c.length;u++){var g=c[u];var p=t.indexOf(g);var v=r.get(g);var f=getOpeningHoursString(v);if(f!==""){if(a===""){a=f;s.push(g)}else if(a!==f||i!==p-1){o.push(getDayRange(s,a));s=[g];a=f}else{s.push(g)}i=p}}if(a!==""){o.push(getDayRange(s,a))}return o.join("\n")}function getDayRange(e,n){if(e.length===1){return"".concat(e[0],": ").concat(n)}return"".concat(e[0]," - ").concat(e[e.length-1],": ").concat(n)}function getOpeningHoursMap(e,n){var t=new Map;for(var r=0,o=n;r<o.length;r++){var a=o[r];var i=e[a.day.toLowerCase()];if(isString(i)){t.set(i,{open:a.open,close:a.close})}}return t}function getOpeningHoursString(e){return e&&e.open!==""&&e.close!==""?getTimeFormat(e):""}function getTimeFormat(e){var n=navContentStore.state.dealer.openingHours;var t=(n===null||n===void 0?void 0:n.timeFormat)===12;return"".concat(convertToLocalTime(e.open,t)," - ").concat(convertToLocalTime(e.close,t))}function convertToLocalTime(e,n){if(n===void 0){n=false}var t=e.split(":").map(Number),r=t[0],o=t[1];var a=new Date(0,0,0,r,o);return a.toLocaleString(undefined,{hour:"numeric",minute:"numeric",hour12:n}).toUpperCase()}export{sanitizeDealerHomepage as a,getRegionSpecificCountry as b,getOpeningHours as g,showDealerSearchDropdown as s};
//# sourceMappingURL=dealer-search-helper-d774becd.js.map