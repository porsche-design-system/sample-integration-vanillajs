{"file":"router.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;SAAgB,gBAAgB,CAAC,QAAgB,EAAE,IAAqC;EACtF,MAAM,KAAK,GAAG,UAAU,CAAC;EACzB,QACE,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,OAAO,CAAC,KAAK,EAAE,CAAC,MAAc,EAAE,QAAgB;IACxD,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;IACpC,OAAO,KAAK,KAAK,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;GACjD,CAAC,KAAI,EAAE,EACR;AACJ;;SCcwB,WAAW,CAAC,EAClC,gBAAgB,EAChB,UAAU,EACV,eAAe,EACf,UAAU,EACO;EACjB,MAAM,YAAY,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;EAC5C,MAAM,gBAAgB,GAAG,cAAc,CAAC,eAAe,CAAC,KAAK,EAAE,gBAAgB,EAAE,WAAW,CAAC,IAAI,CAAc,CAAC;EAEhH,IAAI,gBAAgB,KAAK,IAAI,EAAE;IAC7B,OAAO,cAAW,CAAC;GACpB;EAED,MAAM,sBAAsB,GAAsB,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC;MAC3F,CAAC,UAAU,EAAE,IAAI,CAAC;MAClB,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;EAExB,MAAM,aAAa,GAAG,+BAA+B,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,sBAAsB,CAAC,CAAC;EAElH,SAAS,SAAS,CAAC,EAAU;IAC3B,IAAI,EAAE,KAAK,OAAO;MAAE,UAAU,CAAC,IAAI,EAAE,CAAC;GACvC;EAED,QACE,EAAC,QAAQ;IACP,gBACE,IAAI,EAAE,gBAAgB,EACtB,UAAU,EAAE,gBAAgB,EAC5B,YAAY,EAAE,YAAY,EAC1B,eAAe,EAAE,eAAe,GAChC;IACD,gBAAgB,KAAK,WAAW,CAAC,IAAI,IACpC,WAAK,KAAK,EAAC,oBAAoB,EAAC,IAAI,EAAC,MAAM,IACxC,aAAa,CAAC,GAAG,CAAC,CAAC,SAAS;MAC3B,QACE,qBACE,GAAG,EAAE,SAAS,CAAC,EAAE,aACR,SAAS,CAAC,EAAE,EACrB,IAAI,EAAE,SAAS,EACf,KAAK,EAAE,EAAE,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,SAAS,GAAG,EAAE,EAClF,QAAQ,EACN,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,uBAAuB,CAAC,SAAS,CAAC,EAAE,CAAC;UAChE,SAAS,CAAC,IAAI;UACd,SAAS,CAAC,OAAO,EAEnB,SAAS,EAAE,mBAAmB,CAAC,gBAAgB,EAAE,SAAS,CAAC,EAAE,CAAC,EAC9D,WAAW,EAAE,SAAS,CAAC,EAAE,EACzB,IAAI,EAAE,gBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,yBAAyB,EAAE,CAAC,EACnE,IAAI,EAAE,SAAS,CAAC,IAAI,EACpB,oBAAoB,EAClB,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,qBAAqB,GAAG,YAAY,CAAC,gBAAgB,EAE/F,OAAO,EAAE;UACP,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;SACzB,EACD,IAAI,EAAC,UAAU,GACf,EACF;KACH,CAAC,CACE,IACJ,IAAI,CACC,EACX;AACJ;;SCxEwB,sBAAsB,CAAC,EAC7C,gBAAgB,EAChB,kBAAkB,EAClB,UAAU,EACV,eAAe,EACa;EAC5B,MAAM,YAAY,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;EAC5C,MAAM,gBAAgB,GAAG,cAAc,CACrC,eAAe,CAAC,KAAK,EACrB,gBAAgB,EAChB,kBAAkB,CACK,CAAC;;EAG1B,IAAI,gBAAgB,KAAK,IAAI,EAAE;IAC7B,OAAO,cAAW,CAAC;GACpB;EAED,QACE,gBACE,IAAI,EAAE,gBAAgB,EACtB,UAAU,EAAE,gBAAgB,EAC5B,YAAY,EAAE,YAAY,EAC1B,eAAe,EAAE,eAAe,GAChC,EACF;AACJ;;ACvCA,MAAM,SAAS,GAAG,muFAAmuF;;MCYxuF,MAAM;;;;;;;;2BAIS,KAAK;;EAI/B,MAAM;IACJ,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,eAAe,CAAC,KAAK,CAAC;IAC5D,MAAM,kBAAkB,GAAG,sBAAsB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACzE,MAAM,YAAY,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAEjD,QAAQ,kBAAkB;MACxB,KAAK,WAAW,CAAC,aAAa,EAAE;QAC9B,MAAM,SAAS,GAAG,qBAAqB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC/D,MAAM,QAAQ,GAAG,SAAS,KAAK,kBAAkB,GAAG,SAAS,GAAG,EAAE,CAAC;QAEnE,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;UACtB,OAAO,iCAA2B,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,GAAI,CAAC;SAC5G;QAED,QACE,8BACE,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,MAAM,EAAE,MAAM,EACd,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,YAAY,EAAE,YAAY,GAC1B,EACF;OACH;MAED,KAAK,WAAW,CAAC,UAAU,EAAE;QAC3B,IAAI,SAAS,KAAK,IAAI,EAAE;UACtB,OAAO,4BAAsB,KAAK,EAAC,iBAAiB,GAAG,CAAC;SACzD;QAED,OAAO,cAAW,CAAC;OACpB;MAED,KAAK,WAAW,CAAC,MAAM,CAAC;MACxB,KAAK,WAAW,CAAC,MAAM,EAAE;QACvB,MAAM,SAAS,GAAG,qBAAqB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC/D,MAAM,kBAAkB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,YAAY,KAAK,SAAS,KAAK,YAAY,CAAC,EAAE,CAAC,CAAC;QAE/F,IAAI,kBAAkB,KAAK,SAAS,EAAE;UACpC,QACE,iCACE,MAAM,EAAE,kBAAkB,EAC1B,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,GACvC,EACF;SACH;QAED,OAAO,kBAAY,YAAY,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,GAAI,CAAC;OAChF;MAED,KAAK,WAAW,CAAC,IAAI,CAAC;MACtB,KAAK,WAAW,CAAC,UAAU,CAAC;MAC5B,KAAK,WAAW,CAAC,QAAQ,CAAC;MAC1B,KAAK,WAAW,CAAC,gBAAgB,EAAE;QACjC,QACE,EAAC,sBAAsB,IACrB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,EACvC,kBAAkB,EAAE,kBAAkB,EACtC,eAAe,EAAE,IAAI,CAAC,eAAe,EACrC,UAAU,EAAE,IAAI,CAAC,UAAU,GAC3B,EACF;OACH;MAED,KAAK,WAAW,CAAC,IAAI;QACnB,QACE,EAAC,WAAW,IACV,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,EACvC,eAAe,EAAE,IAAI,CAAC,eAAe,EACrC,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,UAAU,EAAE,IAAI,CAAC,UAAU,GAC3B,EACF;MAEJ,SAAS;QACP,OAAO,mBAAa,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,GAAI,CAAC;OAC1E;KACF;GACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/utility/helpers/string-helper.ts","src/components/router/sections/shop.tsx","src/components/router/sections/vehiclePurchase.tsx","src/components/router/router.scss?tag=phn-router&encapsulation=scoped","src/components/router/router.tsx"],"sourcesContent":["export function replaceVariables(template: string, data: Record<string, string | number>): string {\n  const regex = /{(.*?)}/g;\n  return (\n    template?.replace(regex, (_match: string, variable: string): string => {\n      const value = data[variable.trim()];\n      return value !== undefined ? String(value) : '';\n    }) || ''\n  );\n}\n","import { getMenuContent } from '../../../services/menu-items-service';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport { EventEmitter, Fragment, h } from '@stencil/core';\nimport { constructRoutingKey, RoutingKeys } from '../../../entities/routing-key';\nimport { isDesktop, IsLoggedIn, isString } from '../../../utility/helper';\nimport { EventActions } from '../../../utility/constants';\nimport { TShopAuthStatus, TShopMenu } from '../../../entities/content';\nimport { navStateStore } from '../../../state/nav-state-store';\nimport {\n  filterWishlistItemsByAuthStatus,\n  getAvailableShopVariables,\n  getIconNameByMenuItemId\n} from '../../../utility/helpers/shop-helper';\nimport { replaceVariables } from '../../../utility/helpers/string-helper';\n\ntype ShopSectionTypes = {\n  activeRoutingKey: string;\n  breakpoint: number;\n  receivedContent: boolean;\n  loginEvent: EventEmitter<void>;\n};\n\nexport default function ShopSection({\n  activeRoutingKey,\n  breakpoint,\n  receivedContent,\n  loginEvent\n}: ShopSectionTypes): HTMLElement {\n  const showHeadline = !isDesktop(breakpoint);\n  const displayedContent = getMenuContent(navContentStore.state, activeRoutingKey, RoutingKeys.SHOP) as TShopMenu;\n\n  if (displayedContent === null) {\n    return <div></div>;\n  }\n\n  const wishListAuthStatusList: TShopAuthStatus[] = IsLoggedIn(navStateStore.state.loggedInState)\n    ? ['loggedIn', null]\n    : ['loggedOut', null];\n\n  const wishListItems = filterWishlistItemsByAuthStatus(displayedContent.additionalContent, wishListAuthStatusList);\n\n  function emitLogin(id: string) {\n    if (id === 'login') loginEvent.emit();\n  }\n\n  return (\n    <Fragment>\n      <phn-menu\n        item={displayedContent}\n        routingKey={activeRoutingKey}\n        showHeadline={showHeadline}\n        receivedContent={receivedContent}\n      />\n      {activeRoutingKey === RoutingKeys.SHOP ? (\n        <div class=\"wishlist-container\" role=\"list\">\n          {wishListItems.map((childItem) => {\n            return (\n              <phn-menu-item\n                key={childItem.id}\n                data-id={childItem.id}\n                size={'x-small'}\n                class={!(isString(childItem.iconUrl) || isString(childItem.icon)) ? 'no-icon' : ''}\n                iconLeft={\n                  (isString(childItem.id) && getIconNameByMenuItemId(childItem.id)) ||\n                  childItem.icon ||\n                  childItem.iconUrl\n                }\n                elementId={constructRoutingKey(activeRoutingKey, childItem.id)}\n                analyticsId={childItem.id}\n                text={replaceVariables(childItem.text, getAvailableShopVariables())}\n                link={childItem.link}\n                datalayerEventAction={\n                  isString(childItem.link) ? EventActions.NAVIGATION_LINK_CLICK : EventActions.NAVIGATION_CLICK\n                }\n                onClick={() => {\n                  emitLogin(childItem.id);\n                }}\n                role=\"listitem\"\n              />\n            );\n          })}\n        </div>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { getMenuContent } from '../../../services/menu-items-service';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport { h } from '@stencil/core';\nimport { isDesktop } from '../../../utility/helper';\nimport { TVehiclePurchaseMenu } from '../../../entities/content';\n\ntype VehiclePurchaseSectionTypes = {\n  activeRoutingKey: string;\n  topLevelRoutingKey: string;\n  breakpoint: number;\n  receivedContent: boolean;\n};\n\nexport default function VehiclePurchaseSection({\n  activeRoutingKey,\n  topLevelRoutingKey,\n  breakpoint,\n  receivedContent\n}: VehiclePurchaseSectionTypes): HTMLElement {\n  const showHeadline = !isDesktop(breakpoint);\n  const displayedContent = getMenuContent(\n    navContentStore.state,\n    activeRoutingKey,\n    topLevelRoutingKey\n  ) as TVehiclePurchaseMenu;\n\n  /* istanbul ignore if */\n  if (displayedContent === null) {\n    return <div></div>;\n  }\n\n  return (\n    <phn-menu\n      item={displayedContent}\n      routingKey={activeRoutingKey}\n      showHeadline={showHeadline}\n      receivedContent={receivedContent}\n    />\n  );\n}\n","@import '../../scss';\n\n@mixin shopSection(){\n  .wishlist-container{\n    padding: p-px-to-rem(16px) ;\n    background-color: #ffffff;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 16px;\n    border-radius: p-px-to-rem(12px);\n    margin-top: p-px-to-rem(48px);\n\n    @include pds-media-query-max('s') {\n      background-color: #EEEFF2;\n    }\n\n    .no-icon {\n      padding-left: p-px-to-rem(28px);\n    }\n  }\n\n}\n\n:host {\n  display: block;\n  box-sizing: border-box;\n\n  @include shopSection()\n\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { findTopLevelRoutingKey, getLastRoutingSegment, RoutingKeys } from '../../entities/routing-key';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { isDesktop, isString } from '../../utility/helper';\nimport ShopSection from './sections/shop';\nimport VehiclePurchaseSection from './sections/vehiclePurchase';\n\n@Component({\n  tag: 'phn-router',\n  scoped: true,\n  styleUrl: 'router.scss'\n})\nexport class Router {\n  @Prop() activeRoutingKey!: string;\n  @Prop() breakpoint!: number;\n  @Prop() locale!: string;\n  @Prop() receivedContent = false;\n\n  @Event() loginEvent!: EventEmitter<void>;\n\n  render(): HTMLPhnRouterElement {\n    const { models, myPorsche, dealer } = navContentStore.state;\n    const topLevelRoutingKey = findTopLevelRoutingKey(this.activeRoutingKey);\n    const showHeadline = !isDesktop(this.breakpoint);\n\n    switch (topLevelRoutingKey) {\n      case RoutingKeys.DEALER_SEARCH: {\n        const routingId = getLastRoutingSegment(this.activeRoutingKey);\n        const dealerId = routingId !== topLevelRoutingKey ? routingId : '';\n\n        if (isString(dealerId)) {\n          return <phn-dealer-details-drawer breakpoint={this.breakpoint} dealerId={dealerId} locale={this.locale} />;\n        }\n\n        return (\n          <phn-dealer-search-form\n            breakpoint={this.breakpoint}\n            dealer={dealer}\n            locale={this.locale}\n            showHeadline={showHeadline}\n          />\n        );\n      }\n\n      case RoutingKeys.MY_PORSCHE: {\n        if (myPorsche !== null) {\n          return <phn-myporsche-drawer class=\"overlay-content\" />;\n        }\n\n        return <div></div>;\n      }\n\n      case RoutingKeys.SERIES:\n      case RoutingKeys.MODELS: {\n        const routingId = getLastRoutingSegment(this.activeRoutingKey);\n        const activeModelsSeries = models.series.find((modelsSeries) => routingId === modelsSeries.id);\n\n        if (activeModelsSeries !== undefined) {\n          return (\n            <phn-car-body-types-drawer\n              series={activeModelsSeries}\n              breakpoint={this.breakpoint}\n              activeRoutingKey={this.activeRoutingKey}\n            />\n          );\n        }\n\n        return <phn-models showHeadline={showHeadline} breakpoint={this.breakpoint} />;\n      }\n\n      case RoutingKeys.MORE:\n      case RoutingKeys.EXPERIENCE:\n      case RoutingKeys.SERVICES:\n      case RoutingKeys.VEHICLE_PURCHASE: {\n        return (\n          <VehiclePurchaseSection\n            activeRoutingKey={this.activeRoutingKey}\n            topLevelRoutingKey={topLevelRoutingKey}\n            receivedContent={this.receivedContent}\n            breakpoint={this.breakpoint}\n          />\n        );\n      }\n\n      case RoutingKeys.SHOP:\n        return (\n          <ShopSection\n            activeRoutingKey={this.activeRoutingKey}\n            receivedContent={this.receivedContent}\n            breakpoint={this.breakpoint}\n            loginEvent={this.loginEvent}\n          />\n        );\n\n      default: {\n        return <phn-level-1 locale={this.locale} breakpoint={this.breakpoint} />;\n      }\n    }\n  }\n}\n"],"version":3}