{"file":"myporsche-drawer.js","mappings":"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","names":[],"sources":["src/components/myporsche-drawer/myporsche-drawer-links.tsx","src/components/myporsche-drawer/myporsche-drawer-login.tsx","src/components/myporsche-drawer/myporsche-drawer.scss?tag=phn-myporsche-drawer&encapsulation=scoped","src/components/myporsche-drawer/myporsche-drawer.tsx"],"sourcesContent":["import { h, JSX } from '@stencil/core';\nimport { MyPorsche, TLink } from '../../entities/content';\nimport { getMyPorscheRoutingKey } from '../../entities/routing-key';\nimport featureToggles from '../../services/feature-toggles';\nimport { EventActions } from '../../utility/constants';\nimport { IsLoggedIn } from '../../utility/helper';\nimport { finderStateStore } from '../../state/finder-state-store';\nimport { navStateStore } from '../../state/nav-state-store';\n\nexport default function Links({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const messagesPosition = 1,\n    savedSearchesPosition = 2,\n    savedVehiclesPosition = 3;\n  const { loggedInState, unreadMessagesCount } = navStateStore.state;\n  const isLoggedIn = IsLoggedIn(loggedInState);\n  const { links, messages, savedSearches, savedVehicles } = content;\n  const { savedSearchesCount, savedVehiclesCount } = finderStateStore.state;\n\n  const convertedLinks = links.map<JSX.Element>((link) => (\n    <div class=\"myporsche-link-item\" key={link.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(link.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={link.id}\n        text={link.text}\n        link={link.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  ));\n\n  convertedLinks.splice(\n    messagesPosition,\n    0,\n    <MenuItemCountLink content={messages} count={unreadMessagesCount} showSkeleton={showSkeleton} />\n  );\n\n  if (savedSearches && savedSearches.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedSearchesPosition,\n      0,\n      <MenuItemCountLink content={savedSearches} count={savedSearchesCount} showSkeleton={showSkeleton} />\n    );\n  }\n  if (savedVehicles && savedVehicles.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedVehiclesPosition,\n      0,\n      <MenuItemCountLink content={savedVehicles} count={savedVehiclesCount} showSkeleton={showSkeleton} />\n    );\n  }\n\n  if (isLoggedIn) {\n    convertedLinks.push(<LogoutLink content={content} onLogoutClick={onLogoutClick} showSkeleton={showSkeleton} />);\n  }\n  return (\n    <div class=\"myporsche-links\">\n      {showSkeleton ? (\n        <div class=\"skeleton-menu\">\n          {convertedLinks.map(() => (\n            <div class=\"skeleton-menu-item\" />\n          ))}\n        </div>\n      ) : null}\n      <div style={{ display: showSkeleton ? 'none' : '', width: '100%' }}>\n        <div class={`${isLoggedIn ? 'logged-in' : ''} myporsche-links-container`}>{convertedLinks}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction MenuItemCountLink({\n  content,\n  count,\n  showSkeleton\n}: {\n  content: TLink | null;\n  count: number;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  return content ? (\n    <div class=\"myporsche-link-item\" key={content.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(content.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={content.id}\n        text={content.text}\n        link={content.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      >\n        <MenuItemCountIndicator count={count} />\n      </phn-menu-item>\n    </div>\n  ) : null;\n}\n\nfunction LogoutLink({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const { logout } = content;\n\n  return (\n    <div class=\"myporsche-link-item\" key={logout.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(logout.id)}\n        class={`myporsche-menu-item logout${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={logout.id}\n        text={logout.text}\n        onClick={onLogoutClick}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  );\n}\n\nfunction MenuItemCountIndicator({ count }: { count: number }): JSX.Element | null {\n  if (count <= 0) return null;\n\n  return (\n    <phn-p-tag slot=\"suffix\" class=\"menu-item-count\" color=\"notification-info-soft\">\n      {count}\n    </phn-p-tag>\n  );\n}\n","import { Fragment, h, JSX } from '@stencil/core';\nimport { MyPorsche } from '../../entities/content';\nimport { IsLoggedIn } from '../../utility/helper';\nimport { navStateStore } from '../../state/nav-state-store';\n\nexport default function Login({\n  content,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  const { login, more, signup, signupText } = content;\n  const { loggedInState } = navStateStore.state;\n  const isLoggedIn = IsLoggedIn(loggedInState);\n\n  if (isLoggedIn) {\n    return null;\n  }\n  return (\n    <div class=\"myporsche-login\">\n      {showSkeleton ? (\n        <Fragment>\n          <div class=\"skeleton-login-container\">\n            <div class=\"skeleton-login\" />\n            <div class=\"skeleton-more\" />\n          </div>\n\n          <div class=\"skeleton-signup-container\">\n            <div class=\"skeleton-signup\">{content.signupText}</div>\n          </div>\n        </Fragment>\n      ) : null}\n      <phn-myporsche-login\n        login={login}\n        more={more}\n        signup={signup}\n        signupText={signupText}\n        style={{ display: showSkeleton ? 'none' : '' }}\n      />\n    </div>\n  );\n}\n","@import '../../scss';\n\n@mixin set-skeleton {\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n\n    & .skeleton-headline {\n      width: 100%;\n      height: p-px-to-rem(40px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n      font-size: p-px-to-rem(28px);\n      line-height: p-px-to-rem(40px);\n      margin-bottom: p-px-to-rem(8px);\n\n      @include pds-media-query-min('s') {\n        margin-bottom: 0;\n        font-size: p-px-to-rem(30px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('m') {\n        font-size: p-px-to-rem(28px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('l') {\n        @include pds-heading-medium;\n      }\n    }\n\n    & .skeleton-login-container {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      flex-direction: column;\n      border-radius: 4px;\n\n      @include pds-media-query-min('xs') {\n        flex-direction: row;\n      }\n\n      @include pds-media-query-min('s') {\n        flex-direction: column;\n      }\n\n      @include pds-media-query-min('xxl') {\n        flex-direction: row;\n      }\n\n      .skeleton-login {\n        height: p-px-to-rem(48px);\n        width: 100%;\n        margin: p-px-to-rem(36px) 0 p-px-to-rem(16px) 0;\n        border-radius: 4px;\n        background: $pds-theme-light-contrast-low;\n\n        @include pds-media-query-min('xs') {\n          margin: p-px-to-rem(36px) p-px-to-rem(8px) p-px-to-rem(16px) 0;\n        }\n\n        @include pds-media-query-min('s') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(16px) 0;\n        }\n\n        @include pds-media-query-min('xl') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n        }\n      }\n\n      .skeleton-more {\n        height: p-px-to-rem(48px);\n        margin: 0 0 p-px-to-rem(16px) 0;\n        width: 100%;\n        background: $pds-theme-light-contrast-low;\n        border-radius: 4px;\n\n        @include pds-media-query-min('xs') {\n          margin: p-px-to-rem(36px) 0 p-px-to-rem(16px) p-px-to-rem(8px);\n        }\n\n        @include pds-media-query-min('s') {\n          margin: 0 0 p-px-to-rem(23px) 0;\n        }\n\n        @include pds-media-query-min('xl') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n        }\n      }\n    }\n\n    & .skeleton-signup-container {\n      padding-bottom: p-px-to-rem(24px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-signup {\n      color: transparent;\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu {\n      width: 100%;\n      height: p-px-to-rem(48px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu-item {\n      width: 100%;\n      height: p-px-to-rem(24px);\n      background: $pds-theme-light-contrast-low;\n      margin-top: p-px-to-rem(24px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu-item:first-of-type {\n      margin-top: p-px-to-rem(12px);\n    }\n  }\n}\n\n:host {\n  display: block;\n  margin-top: 0;\n\n  @include set-skeleton;\n\n  .myporsche-links {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n\n    .myporsche-links-container {\n      &.logged-in > .myporsche-link-item:first-child > phn-menu-item {\n        padding-top: 0;\n      }\n\n      .myporsche-link-item > phn-menu-item {\n        padding: p-px-to-rem(10px) 0 p-px-to-rem(10px) 0;\n\n        @include pds-media-query-min('xxl') {\n          padding: p-px-to-rem(16px) 0 p-px-to-rem(16px) 0;\n        }\n      }\n    }\n\n    .menu-item-count {\n      margin-left: p-px-to-rem(16px);\n    }\n  }\n\n  .headline-container {\n    border-bottom: 2px solid $pds-theme-dark-background-base;\n\n    @include pds-media-query-min('xs') {\n      padding-bottom: p-px-to-rem(2px);\n      display: flex;\n      align-items: center;\n    }\n\n    @include pds-media-query-min('s') {\n      padding-bottom: p-px-to-rem(16px);\n    }\n\n    @include pds-media-query-min('xxl') {\n      padding-bottom: p-px-to-rem(24px);\n    }\n\n    .myporsche-headline {\n      font-size: p-px-to-rem(28px);\n      line-height: p-px-to-rem(40px);\n      padding-bottom: p-px-to-rem(8px);\n\n      @include pds-media-query-min('s') {\n        padding-bottom: 0;\n        font-size: p-px-to-rem(30px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('m') {\n        font-size: p-px-to-rem(28px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('l') {\n        @include pds-heading-medium;\n      }\n    }\n\n    .headline-divider {\n      padding: 0 p-px-to-rem(18px) 0 p-px-to-rem(16px);\n      height: p-px-to-rem(32px);\n    }\n\n    .user-container {\n      padding-bottom: p-px-to-rem(17px);\n      display: inline-flex;\n      align-items: center;\n\n      @include pds-media-query-min('xs') {\n        padding-bottom: 0;\n      }\n\n      phn-p-icon {\n        padding-right: p-px-to-rem(7px);\n        width: p-px-to-rem(20px);\n        height: p-px-to-rem(20px);\n      }\n\n      phn-p-text {\n        font-size: p-px-to-rem(12px);\n\n        @include pds-media-query-min('xs') {\n          padding: 0;\n        }\n      }\n    }\n  }\n\n  phn-p-divider {\n    display: block;\n    height: 100%;\n    align-self: center;\n    padding: 0 p-px-to-rem(119px);\n\n    @include pds-media-query-min('xl') {\n      padding: 0 p-px-to-rem(150px);\n    }\n  }\n\n}\n","import { Component, Element, Event, EventEmitter, h, Host, JSX, State } from '@stencil/core';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport Links from './myporsche-drawer-links';\nimport Login from './myporsche-drawer-login';\nimport { navContentStore } from '../../state/nav-content-store';\n\n@Component({\n  tag: 'phn-myporsche-drawer',\n  styleUrl: 'myporsche-drawer.scss',\n  scoped: true\n})\nexport class MyPorscheDrawer {\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnMyporscheDrawerElement;\n\n  @Event() logoutEvent!: EventEmitter<void>;\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = false;\n  }\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  render(): JSX.Element | null {\n    const { myPorsche } = navContentStore.state;\n\n    if (!myPorsche) return null;\n\n    return (\n      <Host class={this.showSkeleton ? 'skeleton' : ''}>\n        <div class=\"phn-flex-col phn-justify-around\">\n          <Login content={myPorsche} showSkeleton={this.showSkeleton} />\n          <Links content={myPorsche} onLogoutClick={() => this.logoutEvent.emit()} showSkeleton={this.showSkeleton} />\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}