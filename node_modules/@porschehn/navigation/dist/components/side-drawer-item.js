import { h, proxyCustomElement, HTMLElement, Host } from '@stencil/core/internal/client';
import { a as analyticsManager } from './analytics-manager.js';
import { E as EventActions, g as globalDataLayerService, C as ClickElementTypes, a as ElementTypes } from './global-data-layer-service.js';
import { y as isModelName, a as isString, z as isModelFuelTypeGasoline } from './helper.js';
import { n as navContentStore } from './nav-content-store.js';

function SideDrawerItemText({ isActive, text, subtext, renderSignatures }) {
  return (h("div", { class: "text-container" },
    renderSignatures && isModelName(text) ? (h("phn-p-model-signature", { model: text.toLowerCase(), size: "inherit", class: "model-signature" })) : (h("phn-p-text", { size: "inherit", weight: isActive ? 'semibold' : 'regular', color: "inherit", tag: "div" }, text)),
    isString(subtext) && !isModelFuelTypeGasoline(text) ? (h("div", { class: "text-limit" },
      h("phn-p-text", { color: "inherit", class: "subtext", weight: "regular", size: "x-small", tag: "div", ellipsis: "true", "data-test-id": "subtext" }, subtext))) : null));
}

const sideDrawerItemCss = "@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-side-drawer-item{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-side-drawer-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-side-drawer-item{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-side-drawer-item{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-side-drawer-item{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-side-drawer-item{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-side-drawer-item-h{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:start;align-items:flex-start}.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 8px}.sc-phn-side-drawer-item-h phn-p-link-pure.models.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.models.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.models.sc-phn-side-drawer-item{padding:1rem 0.5rem 1rem 0.875rem}.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item{height:3.25rem}.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item{font-size:1.25rem}@media (min-width: 1300px){.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item{font-size:1.375rem}}@media (min-width: 1920px){.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item phn-p-text.sc-phn-side-drawer-item{font-size:1.5rem}}.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item{max-width:230px}@media (min-width: 1300px){.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item{max-width:270px}}@media (min-width: 1920px){.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item{max-width:400px}}.sc-phn-side-drawer-item-h phn-p-link-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item .text-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-p-button-pure.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item .text-container.sc-phn-side-drawer-item,.sc-phn-side-drawer-item-h phn-menu-item.sc-phn-side-drawer-item .body-container.sc-phn-side-drawer-item .text-container.sc-phn-side-drawer-item{width:100%}.sc-phn-side-drawer-item-h .model-signature.sc-phn-side-drawer-item{height:1.625rem}@media (min-width: 1920px){.sc-phn-side-drawer-item-h .model-signature.sc-phn-side-drawer-item{height:1.875rem}}@media (min-width: 1000px){.sc-phn-side-drawer-item-h div.text-limit.sc-phn-side-drawer-item{width:220px}}@media (min-width: 1300px){.sc-phn-side-drawer-item-h div.text-limit.sc-phn-side-drawer-item{width:265px}}";

const SideDrawerItem = /*@__PURE__*/ proxyCustomElement(class SideDrawerItem extends HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.text = undefined;
    this.analyticsId = undefined;
    this.subtext = '';
    this.elementId = '';
    this.link = '';
    this.iconRight = '';
    this.datalayerEventAction = EventActions.NAVIGATION_CLICK;
    this.customDatalayerProperties = {};
    this.isActive = false;
    this.hasDoubleDrawerAnimationFinished = false;
    this.renderSignatures = false;
  }
  sendDataLayerEvent(clickElementType, elementId) {
    globalDataLayerService.pushDataLayerEvent(this.datalayerEventAction, Object.assign(Object.assign(Object.assign({ componentClick: Object.assign({ clickElementId: this.analyticsId, clickElementName: this.text, targetElement: analyticsManager.getModelTargetElement(elementId, this.text), clickElementType }, (clickElementType === ClickElementTypes.Link ? { targetUrl: this.link } : {})) }, this.customDatalayerProperties), { componentDisplay: {
        displayElementId: analyticsManager.calculateDisplayElementId(),
        displayElementType: analyticsManager.calculateDisplayElementType(elementId, ElementTypes.sideDrawerItem, true),
        displayElementName: this.text
      } }), (this.datalayerEventAction === EventActions.MODEL_RANGE_CLICK
      ? {
        car: {
          modelRangeName: this.text.toLowerCase()
        }
      }
      : {})));
  }
  existsSlot(slotName) {
    return this.el.querySelector(`[slot="${slotName}"]`) !== null;
  }
  render() {
    var _a;
    const body = (h("div", { class: "body-container phn-flex-row phn-align-center" }, h(SideDrawerItemText, { isActive: false, text: this.text, subtext: this.subtext, renderSignatures: this.renderSignatures }), this.existsSlot('suffix') ? (h("div", null, h("slot", { name: "suffix" }))) : null));
    if (isString(this.link)) {
      const externalShop = ((_a = navContentStore.state.externalShop) === null || _a === void 0 ? void 0 : _a.link) === this.link;
      return (h("phn-p-link-pure", { icon: isString(this.iconRight) ? this.iconRight : 'none', "align-label": "left", stretch: "true", "data-id": this.elementId, onClick: () => {
          this.sendDataLayerEvent(ClickElementTypes.Link, this.elementId);
        } }, h("a", { href: this.link, target: externalShop ? '_blank' : '_self' }, body)));
    }
    return (h(Host, { class: `${this.isActive ? 'active' : ''}` }, h("phn-p-button-pure", { active: this.isActive, class: isModelName(this.text) ? 'models' : '', size: "inherit", stretch: "true", "data-id": this.elementId, onClick: () => {
        this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId);
      }, aria: { 'aria-expanded': `${this.isActive ? 'true' : 'false'}` }, icon: 'arrow-head-right', "align-label": "left" }, body)));
  }
  get el() { return this; }
  static get style() { return sideDrawerItemCss; }
}, [6, "phn-side-drawer-item", {
    "text": [1],
    "analyticsId": [1, "analytics-id"],
    "subtext": [1],
    "elementId": [1, "element-id"],
    "link": [1],
    "iconRight": [1, "icon-right"],
    "datalayerEventAction": [1, "datalayer-event-action"],
    "customDatalayerProperties": [16],
    "isActive": [4, "is-active"],
    "hasDoubleDrawerAnimationFinished": [4, "has-double-drawer-animation-finished"],
    "renderSignatures": [4, "render-signatures"]
  }]);
function defineCustomElement() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["phn-side-drawer-item"];
  components.forEach(tagName => { switch (tagName) {
    case "phn-side-drawer-item":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, SideDrawerItem);
      }
      break;
  } });
}
defineCustomElement();

export { SideDrawerItem as S, defineCustomElement as d };

//# sourceMappingURL=side-drawer-item.js.map