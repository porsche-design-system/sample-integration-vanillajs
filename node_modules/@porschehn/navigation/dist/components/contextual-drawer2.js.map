{"file":"contextual-drawer2.js","mappings":"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","names":[],"sources":["src/components/contextual-drawer/contextual-drawer-animation-sequence.ts","src/components/contextual-drawer/contextual-drawer.scss?tag=contextual-drawer&encapsulation=scoped","src/components/contextual-drawer/contextual-drawer.tsx"],"sourcesContent":["import animationManager, { makeSequence } from '../../services/animations/animation-manager';\n\nexport const registerContextualDrawerOpening = ({\n  onStartOpening,\n  onFinishOpening\n}: {\n  onStartOpening: () => void;\n  onFinishOpening: () => void;\n}): void => {\n  animationManager.register(\n    'openContextualDrawer',\n    makeSequence([\n      [\n        {\n          onStart: onStartOpening,\n          elementSelector: 'contextual-drawer',\n          animation: {\n            className: 'slide-in-from-left',\n            cleanUpAfterAnimation: (element) => {\n              element.style.left = '0px';\n            }\n          }\n        },\n        {\n          onEnd: onFinishOpening,\n          elementSelector: '.contextual-drawer-backdrop',\n          animation: {\n            className: 'fade-in-animation',\n            cleanUpAfterAnimation: (element) => {\n              element.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n              element.style.opacity = '1';\n            }\n          }\n        }\n      ]\n    ])\n  );\n};\n\nexport const registerContextualDrawerClosing = ({ onStartClosing }: { onStartClosing: () => void }): void => {\n  animationManager.register(\n    'closeContextualDrawer',\n    makeSequence([\n      [\n        {\n          onStart: onStartClosing,\n          elementSelector: 'contextual-drawer',\n          animation: {\n            className: 'slide-out-to-left',\n            cleanUpBeforeAnimation: (element) => {\n              element.style.left = '';\n            }\n            // cleanUpBeforeAnimation: (element) => {\n            //   element.style.left = '0px';\n            // }\n          }\n        },\n        {\n          elementSelector: '.contextual-drawer-backdrop',\n          animation: {\n            className: 'fade-out-animation',\n            cleanUpBeforeAnimation: (element) => {\n              element.style.backgroundColor = '';\n              element.style.opacity = '';\n            }\n          }\n        }\n      ]\n    ])\n  );\n};\n","@import '../../scss';\n\n$drawer-width: (\n  'mobile':  100%,\n  'm':  p-px-to-rem(336px),\n  'l':  p-px-to-rem(405px),\n  'xxl':  p-px-to-rem(606px),\n  'default': p-px-to-rem(330px)\n);\n\n:host {\n  float: right;\n  left: -1000px;\n  width: fit-content;\n  box-sizing: border-box;\n  position: fixed;\n  top: 0;\n  height: 100vh;\n  z-index: $phn-z-index-mega-flyout + 1;\n\n  &.slide-in-from-left {\n    animation: slide-in-from-left-absolute 600ms;\n  }\n\n  &.slide-out-to-left {\n    animation: slide-in-from-left-absolute 600ms reverse;\n  }\n\n  @include pds-media-query-min-max('base', 's') {\n    width: map-get($drawer-width, 'mobile');\n  }\n\n  .contextual-drawer-backdrop {\n    position: fixed;\n    z-index: $phn-z-index-mega-flyout;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.0);\n    opacity: 0;\n    cursor: pointer;\n    @include pds-frosted-glass();\n\n    &.fade-in-animation {\n      animation: fade-in-animation 400ms;\n    }\n\n    &.fade-out-animation {\n      animation: fade-in-animation 400ms reverse;\n    }\n\n  }\n\n  .close-button {\n    $button-width: 48px;\n    $button-margin: 28px;\n    position: absolute;\n    right: p-px-to-rem(-($button-width + $button-margin));\n    z-index: $phn-z-index-mega-flyout + 1;\n    width: p-px-to-rem($button-width);\n    height: p-px-to-rem($button-width);\n    margin-top: p-px-to-rem($button-margin);\n    cursor: pointer;\n\n    @include pds-media-query-min-max('base', 's') {\n      display: none;\n    }\n  }\n\n  .contextual-drawer{\n    background-color: $main-drawer-background-color;\n    position: relative;\n    overflow-y: auto;\n    overflow-x: hidden;\n    width: map-get($drawer-width, 'default');\n    border-radius: 0 4px 4px 0;\n    height: 100vh;\n    z-index: $phn-z-index-mega-flyout + 1;\n\n    @include pds-media-query-min-max('base', 's') {\n      width: map-get($drawer-width, 'mobile');\n      border-radius: 0;\n      background-color: $main-drawer-mobile-background-color;\n    }\n\n    @include pds-media-query-min('m') {\n      width: map-get($drawer-width, 'm');\n    }\n\n    @include pds-media-query-min('l') {\n      width: map-get($drawer-width, 'l');\n    }\n\n    @include pds-media-query-min('xxl') {\n      width: map-get($drawer-width, 'xxl');\n    }\n  }\n\n\n}\n","import { Component, Event, EventEmitter, h, Host, JSX, Listen, State } from '@stencil/core';\nimport {\n  registerContextualDrawerClosing,\n  registerContextualDrawerOpening\n} from './contextual-drawer-animation-sequence';\nimport animationManager from '../../services/animations/animation-manager';\nimport { DrawerStatusTypes, DrawerStatusValues } from '../../utility/constants/app';\n\n@Component({\n  tag: 'contextual-drawer',\n  styleUrl: 'contextual-drawer.scss',\n  scoped: true\n})\nexport class ContextualDrawer {\n  @Event() openBackdrop!: EventEmitter<boolean>;\n  @State() isDrawerOpened = false;\n\n  @Event({ composed: true, bubbles: true }) phnContextualDrawerStatus!: EventEmitter<{\n    status: DrawerStatusTypes;\n  }>;\n\n  @Listen('phnCloseContextualDrawer', { target: 'window' })\n  closeContextualDrawer(): void {\n    this.closeDrawer();\n  }\n\n  @Listen('phnOpenContextualDrawer', { target: 'window' })\n  openContextualDrawer(): void {\n    animationManager.play('openContextualDrawer');\n  }\n\n  private closeDrawer(): void {\n    animationManager.play('closeContextualDrawer').then(() => {\n      this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.finishClosing });\n      this.isDrawerOpened = false;\n    });\n  }\n\n  componentDidLoad(): void {\n    registerContextualDrawerOpening({\n      onStartOpening: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.startOpening });\n        this.isDrawerOpened = true;\n        const contextualDrawerHeader = document.getElementById('contextual-drawer-header');\n        if (contextualDrawerHeader) {\n          contextualDrawerHeader.style.display = '';\n        }\n      },\n      onFinishOpening: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.finishOpening });\n      }\n    });\n\n    registerContextualDrawerClosing({\n      onStartClosing: () => {\n        this.phnContextualDrawerStatus.emit({ status: DrawerStatusValues.startClosing });\n      }\n    });\n  }\n\n  render(): JSX.Element {\n    return (\n      <Host style={{ display: this.isDrawerOpened ? '' : 'none' }}>\n        <phn-p-button\n          variant=\"secondary\"\n          className=\"close-button\"\n          theme=\"dark\"\n          hide-label=\"true\"\n          icon={'close'}\n          aria-label=\"close modal dialog\"\n          onClick={() => {\n            this.closeDrawer();\n          }}\n        />\n        <div class=\"contextual-drawer\" id=\"contextual-drawer\">\n          <div slot=\"contextual_drawer_header\">\n            <slot name=\"contextual_drawer_header\"></slot>\n          </div>\n        </div>\n        <div\n          aria-hidden=\"true\"\n          class=\"contextual-drawer-backdrop\"\n          onClick={() => {\n            this.closeDrawer();\n          }}\n        />\n      </Host>\n    );\n  }\n}\n"],"version":3}