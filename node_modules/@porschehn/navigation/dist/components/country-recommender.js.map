{"file":"country-recommender.js","mappings":"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","names":[],"sources":["src/services/content-service.ts","src/components/country-recommender/country-recommender.scss?tag=phn-country-recommender&encapsulation=scoped","src/components/country-recommender/country-recommender.tsx"],"sourcesContent":["import { Content, ShopContentResponse } from '../entities/content';\nimport { isCountryInOneOfRegions, splitLocale } from '../entities/locale';\nimport { Application, ApplicationType } from '../utility/constants/app';\nimport { constructCacheKey, getConfig } from '../utility/helper';\nimport { modifyShopItemDependingOnMarket } from '../utility/helpers/shop-helper';\nimport { NaviError, NaviErrorTypes } from '../utility/navi-error';\nimport featureToggles from './feature-toggles';\n\nexport const contentCache = new Map<string, Content>();\n\nexport async function fetchContent(locale: string, app?: ApplicationType): Promise<Content> {\n  const config = getConfig(featureToggles.env);\n\n  const isShopEnabled = featureToggles.isShopToggleActive() && app === Application.shop;\n\n  const naviContentPromise = fetchNaviContent(config.CONTENT_URL, locale);\n  const shopContentPromise = isShopEnabled ? fetchShopContent(config.SHOP_CONTENT_URL, locale) : Promise.resolve(null);\n\n  const [naviContentResult, shopContentResult] = await Promise.allSettled([naviContentPromise, shopContentPromise]);\n\n  if (naviContentResult.status === 'rejected') {\n    throw naviContentResult.reason;\n  }\n\n  const naviContent = modifyShopItemDependingOnMarket(locale, app, naviContentResult.value);\n\n  const shopContent = shopContentResult.status === 'fulfilled' ? shopContentResult.value : null;\n\n  if (shopContent === null || naviContent.shop === null) {\n    return naviContent;\n  }\n\n  return {\n    ...naviContent,\n    shop: {\n      ...naviContent.shop,\n      children: shopContent.menuItems || naviContent.shop?.children || [],\n      additionalContent: shopContent.additionalContent,\n      availableLocales: naviContent.shop.availableLocales,\n      availableLocalesOnlyForShop: naviContent.shop.availableLocalesOnlyForShop\n    }\n  };\n}\n\nasync function fetchNaviContent(contentUrl: string, locale: string): Promise<Content> {\n  const { country, language } = splitLocale(locale);\n\n  const cacheKey = constructCacheKey(contentUrl, locale);\n\n  const cachedContent = contentCache.get(cacheKey);\n  if (cachedContent !== undefined) {\n    return cachedContent;\n  }\n\n  const data = await fetch(`${contentUrl}/${`${language}-${country}`}.json`, {\n    headers: {\n      'Cache-Control': 'no-cache',\n      'Content-Type': 'application/json'\n    }\n  });\n\n  if (data.status === 404) {\n    throw new NaviError(`No content for locale ${locale} found`, NaviErrorTypes.NO_RESULTS);\n  }\n\n  if (!data.ok) {\n    throw new NaviError(`Could not get content for locale ${locale}`, NaviErrorTypes.GENERAL);\n  }\n\n  const content = await data.json();\n\n  contentCache.set(cacheKey, content);\n\n  return content;\n}\n\nasync function fetchShopContent(contentUrl: string, locale: string): Promise<ShopContentResponse> {\n  const { country, language } = splitLocale(locale);\n\n  const data = await fetch(`${contentUrl}/${country.toLowerCase()}/${`${language}-${country}`}/navigation`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'x-vercel-protection-bypass': 'SHOP_CONTENT_KEY'\n    }\n  });\n\n  if (data.status === 404) {\n    throw new NaviError(`No shop content for locale ${locale} found`, NaviErrorTypes.NO_RESULTS);\n  }\n\n  if (!data.ok) {\n    throw new NaviError(`Could not get shop content for locale ${locale}`, NaviErrorTypes.GENERAL);\n  }\n\n  return data.json();\n}\n\nexport function constructFlagURL(footerAssetsUrl: string, locale: string): string {\n  const { country } = splitLocale(locale);\n\n  let flag = country;\n  if (flag.includes('-') && !isCountryInOneOfRegions(flag)) {\n    flag = country.split('-')[0];\n  }\n\n  return `${footerAssetsUrl}/flags/${flag}.svg`;\n}\n\nexport async function getFlagURL(footerAssetsUrl: string, locale: string): Promise<string> {\n  try {\n    const flagURL = constructFlagURL(footerAssetsUrl, locale);\n\n    const res = await fetch(flagURL);\n\n    // Only set flagURL if flag actually exists\n    if (res.ok) {\n      return flagURL;\n    }\n  } catch (err) {\n    // ignore error\n  }\n\n  return '';\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n  @include apply-themes();\n  background-color: $pds-theme-light-primary;\n  width: 100%;\n  overflow: hidden;\n  color: white;\n  line-height: p-px-to-rem(20px);\n  border-bottom: 1PX solid #E3E4E5;\n  font-size: p-px-to-rem(12px);\n\n\n  &.showing {\n    animation: slideDown 1s ease-in-out 0s;\n  }\n\n  &.hiding {\n    animation: slideUp 1s ease-in-out 0s;\n  }\n\n  @include pds-media-query-min('s') {\n    font-size: p-px-to-rem(14px);\n  }\n\n  @include pds-media-query-min('xl') {\n    font-size: p-px-to-rem(16px);\n  }\n\n  phn-p-button-pure, phn-p-link-pure {\n    height: fit-content;\n  }\n\n  .country-recommender-container {\n    @include pds-grid;\n\n\n\n    font-family: $pds-font-family;\n    font-weight: $pds-font-weight-regular;\n    color: $pds-theme-light-background-base;\n\n    .country-recommender {\n      font-family: $pds-font-family;\n      font-weight: $pds-font-weight-regular;\n      color: $pds-theme-light-background-base;\n\n      overflow: hidden;\n\n      display: flex;\n      align-items: center;\n      position: relative;\n      grid-column: wide-start/wide-end;\n      @include limit-stretch();\n      padding-top: p-px-to-rem(26px);\n      padding-bottom: p-px-to-rem(10px);\n\n      .country-recommender-icons-tray {\n        display: grid;\n        grid-template-columns: 4fr 1fr;\n        grid-template-rows: 1fr;\n        gap: 0px 0px;\n        grid-template-areas: \"left  right\";\n        width: 100%;\n\n        div.left-icons,\n        div.right-icons {\n          display: flex;\n          flex-direction: row;\n        }\n\n        div.left-icons {\n          grid-area: left;\n          flex-wrap: wrap;\n        }\n\n        div.right-icons {\n          display: flex;\n          flex-direction: row;\n          justify-self: end;\n          grid-area: right;\n        }\n\n\n        .statement {\n          order: 0;\n          padding-top: p-px-to-rem(2px);\n          padding-right: p-px-to-rem(8px);\n\n          @include pds-media-query-max('s') {\n            padding-bottom: p-px-to-rem(17px);\n          }\n          @include pds-media-query-max('xs') {\n            padding-bottom: p-px-to-rem(17px);\n          }\n          @include pds-media-query-min-max('base', 'xs') {\n           padding-bottom: p-px-to-rem(10px);\n          }\n        }\n\n        .flag {\n          margin-right: p-px-to-rem(8px);\n          max-height: p-px-to-rem(24px);\n          width: p-px-to-rem(20px);\n          height: p-px-to-rem(20px);\n          border-radius: 100%;\n          border: 1px solid $pds-theme-light-contrast-medium;\n          background-color: $pds-theme-light-contrast-medium;\n\n          @include pds-media-query-min('m') {\n            width: p-px-to-rem(22px);\n            height: p-px-to-rem(22px);\n          }\n        }\n\n        .flag-region {\n          display: flex;\n        }\n\n        .language {\n          padding-right: p-px-to-rem(24px);\n          padding-top: p-px-to-rem(2px);\n          padding-bottom: p-px-to-rem(16px);\n        }\n\n        .selector {\n          display: inline-flex;\n          order: 2;\n          width: 100%;\n\n          @include pds-media-query-min('s') {\n            order: 1;\n            width: auto;\n          }\n        }\n\n        .change {\n          padding-top: p-px-to-rem(2px);\n          margin-bottom: p-px-to-rem(16px);\n        }\n\n        .close-button {\n          grid-area: right;\n          margin-left: auto;\n          order: 1;\n          font-size: p-px-to-rem(6px);\n\n          @include pds-media-query-min('s') {\n            order: 2;\n          }\n        }\n      }\n    }\n  }\n}\n\n\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Prop, State, Watch } from '@stencil/core';\nimport { TCountryRecommender } from '../../entities/content';\nimport { getFlagURL } from '../../services/content-service';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { ClickElementTypes, EventActions } from '../../utility/constants';\nimport { getConfig, getHTMLElement, isString } from '../../utility/helper';\n\n@Component({\n  tag: 'phn-country-recommender',\n  styleUrl: 'country-recommender.scss',\n  scoped: true\n})\nexport class CountryRecommender {\n  @Prop() locale!: string;\n  @Prop() content!: TCountryRecommender;\n\n  @State() flagURL = '';\n\n  @Element() el!: HTMLPhnCountryRecommenderElement;\n\n  @Event() bannerClosed!: EventEmitter<void>;\n\n  @Watch('locale')\n  async localeWatcher(): Promise<void> {\n    await this.setFlagURL();\n  }\n\n  private async setFlagURL() {\n    const footerAssetsUrl = getConfig(navStateStore.state.env).FOOTER_ASSETS_URL;\n    this.flagURL = await getFlagURL(footerAssetsUrl, this.locale);\n  }\n\n  private closeCountryRecommender(): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CLOSE, {\n      componentClick: {\n        clickElementId: 'mainmenu.banner.close',\n        clickElementName: 'close',\n        clickElementType: ClickElementTypes.Button\n      }\n    });\n\n    this.el.classList.remove('showing');\n    this.el.classList.add('hiding');\n  }\n\n  componentWillLoad(): void {\n    this.setFlagURL();\n  }\n\n  componentDidLoad(): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_LOAD, {\n      componentClick: {\n        clickElementId: 'mainmenu.banner',\n        clickElementName: 'Country Recommender',\n        clickElementType: ClickElementTypes.Link\n      }\n    });\n  }\n\n  @Listen('animationend', { passive: true })\n  handleAnimationEnd(e: AnimationEvent): void {\n    if (e.animationName === 'slideUp') {\n      getHTMLElement(e.target)?.classList.remove('hiding');\n      this.bannerClosed.emit();\n    } else if (e.animationName === 'slideDown') {\n      getHTMLElement(e.target)?.classList.remove('showing');\n    }\n  }\n\n  private sendDataLayerEvent() {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CHANGE, {\n      componentClick: {\n        clickElementId: this.content.change.id,\n        clickElementName: this.content.change.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL\n      }\n    });\n  }\n\n  render(): HTMLPhnCountryRecommenderElement {\n    const { statement, region, language, change } = this.content;\n\n    return (\n      <Host class=\"showing\">\n        <div class=\"country-recommender-container\">\n          <div class=\"country-recommender\">\n            <div class=\"country-recommender-icons-tray\">\n              <div class=\"left-icons\">\n                {isString(statement) ? (\n                  <phn-p-text theme=\"dark\" size=\"inherit\" class=\"statement\">\n                    {statement}\n                  </phn-p-text>\n                ) : /* istanbul ignore next */\n                null}\n\n                <div class=\"selector\">\n                  <div class=\"phn-flex-row phn-flex-wrap\">\n                    <div class=\"flag-region\">\n                      {isString(this.flagURL) ? (\n                        <phn-p-icon\n                          source={this.flagURL}\n                          class=\"flag\"\n                          aria-hidden=\"true\"\n                          size=\"inherit\"\n                          color=\"inherit\"\n                        />\n                      ) : /* istanbul ignore next */\n                      null}\n\n                      {isString(region) && isString(language) ? (\n                        <phn-p-text theme=\"dark\" class=\"language\" size=\"inherit\">\n                          {region} / {language}\n                        </phn-p-text>\n                      ) : /* istanbul ignore next */\n                      null}\n                    </div>\n\n                    <phn-p-link-pure\n                      theme=\"dark\"\n                      size=\"inherit\"\n                      class=\"change\"\n                      onClick={() => this.sendDataLayerEvent()}\n                      aria={{ 'aria-label': 'Change Region or Language' }}\n                    >\n                      <a href={getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL}>{change.text}</a>\n                    </phn-p-link-pure>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"right-icons\">\n                <phn-p-button-pure\n                  theme=\"dark\"\n                  icon=\"close\"\n                  onClick={() => this.closeCountryRecommender()}\n                  class=\"close-button\"\n                  hide-label=\"true\"\n                >\n                  Close dialog\n                </phn-p-button-pure>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}