{"version":3,"names":["backdropCss","Backdrop","handleClick","this","sendDataAnalyticsEvent","clickDrawerHeaderClose","emit","analyticsManager","setDrawerType","DisplayElementTypes","DoubleDrawer","globalDataLayerService","pushDataLayerEvent","EventActions","MENU_CLOSE_CLICK","componentClick","clickElementId","clickElementName","clickElementType","ClickElementTypes","Button","targetElement","componentDisplay","displayElementType","calculateDisplayElementType","activeRoutingKey","ElementTypes","backdrop","displayElementId","calculateDisplayElementId","displayElementName","componentWillLoad","windowService","hasScrollbar","lockScroll","disconnectedCallback","unlockScroll","render","h","Host"],"sources":["src/components/backdrop/backdrop.scss?tag=phn-backdrop&encapsulation=scoped","src/components/backdrop/backdrop.tsx"],"sourcesContent":["@import '../../scss';\n\n:host {\n  position: fixed;\n  z-index: $phn-z-index-mega-flyout;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  cursor: pointer;\n  @include pds-frosted-glass()\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Prop } from '@stencil/core';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport windowService from '../../services/window-service';\nimport { ClickElementTypes, DisplayElementTypes, ElementTypes, EventActions } from '../../utility/constants';\n\n@Component({\n  tag: 'phn-backdrop',\n  styleUrl: 'backdrop.scss',\n  scoped: true\n})\nexport class Backdrop {\n  @Prop() activeRoutingKey!: string;\n\n  @Element() el!: HTMLPhnBackdropElement;\n\n  @Event() clickDrawerHeaderClose!: EventEmitter<void>;\n  @Event() backdropClosed!: EventEmitter<void>;\n\n  @Listen('click', { passive: true })\n  handleClick(): void {\n    this.sendDataAnalyticsEvent();\n    this.clickDrawerHeaderClose.emit();\n  }\n\n  private sendDataAnalyticsEvent() {\n    analyticsManager.setDrawerType(DisplayElementTypes.DoubleDrawer);\n    globalDataLayerService.pushDataLayerEvent(EventActions.MENU_CLOSE_CLICK, {\n      componentClick: {\n        clickElementId: 'mainmenu.drawer.close',\n        clickElementName: 'backdrop',\n        clickElementType: ClickElementTypes.Button,\n        targetElement: 'level-0'\n      },\n      componentDisplay: {\n        displayElementType: analyticsManager.calculateDisplayElementType(this.activeRoutingKey, ElementTypes.backdrop),\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementName: 'Double Drawer'\n      }\n    });\n  }\n\n  componentWillLoad(): void {\n    if (windowService.hasScrollbar()) {\n      windowService.lockScroll();\n    }\n  }\n\n  disconnectedCallback(): void {\n    if (windowService.hasScrollbar()) {\n      windowService.unlockScroll();\n    }\n  }\n\n  render(): HTMLPhnBackdropElement {\n    return <Host />;\n  }\n}\n"],"mappings":"qXAAA,MAAMA,EAAc,+4E,MCWPC,EAAQ,M,uKASnB,WAAAC,GACEC,KAAKC,yBACLD,KAAKE,uBAAuBC,M,CAGtB,sBAAAF,GACNG,EAAiBC,cAAcC,EAAoBC,cACnDC,EAAuBC,mBAAmBC,EAAaC,iBAAkB,CACvEC,eAAgB,CACdC,eAAgB,wBAChBC,iBAAkB,WAClBC,iBAAkBC,EAAkBC,OACpCC,cAAe,WAEjBC,iBAAkB,CAChBC,mBAAoBhB,EAAiBiB,4BAA4BrB,KAAKsB,iBAAkBC,EAAaC,UACrGC,iBAAkBrB,EAAiBsB,4BACnCC,mBAAoB,kB,CAK1B,iBAAAC,GACE,GAAIC,EAAcC,eAAgB,CAChCD,EAAcE,Y,EAIlB,oBAAAC,GACE,GAAIH,EAAcC,eAAgB,CAChCD,EAAcI,c,EAIlB,MAAAC,GACE,OAAOC,EAACC,EAAI,K"}