import{h as e,F as t,r as i,c as r,H as n,g as a}from"./p-e982eeef.js";import{a as s,R as o}from"./p-a158b31e.js";import{a as d}from"./p-c1813828.js";import{g as l}from"./p-209c7fd0.js";import{n as m,r as h,i as f,F as p,y as c,q as w}from"./p-d06201e6.js";import{T as g}from"./p-d6be5c73.js";import{a as b}from"./p-8baa10e3.js";import{b as u,f as k,E as y,h as x}from"./p-a3dbf459.js";import{i as v,r as j,a as D,b as B,c as C}from"./p-1971e37b.js";import{a as R}from"./p-9ec2247a.js";import{g as T}from"./p-7b44139a.js";import{A}from"./p-01a2fa32.js";import"./p-65f8994f.js";import"./p-0e57ad49.js";import"./p-e255fe68.js";function E({routingKey:i,previousRoutingKey:r,breakpoint:n,locale:a,showBackButton:s,receivedContent:o}){const{menu:d}=u.state;const l=b(u.state,r!==null&&r!==void 0?r:"")||d.text;return e(t,null,e("div",{class:"bottom-gradient"}),e("div",{class:"drawer-content"},e("phn-drawer-header",{showBackButton:s,backButtonAnalyticsId:d.id,backButtonText:l,activeRoutingKey:i,breakpoint:n,receivedContent:o,locale:a}),e("phn-router",{activeRoutingKey:i,breakpoint:n,locale:a,receivedContent:o})))}const K="@-webkit-keyframes transition-forward-in-animation{from{left:150%}to{left:0%}}@keyframes transition-forward-in-animation{from{left:150%}to{left:0%}}@-webkit-keyframes transition-backward-in-animation{from{left:-150%}to{left:0%}}@keyframes transition-backward-in-animation{from{left:-150%}to{left:0%}}@-webkit-keyframes single-drawer-transition-forward-in-animation{from{left:100%}to{left:0%}}@keyframes single-drawer-transition-forward-in-animation{from{left:100%}to{left:0%}}@-webkit-keyframes fade-in-animation{from{opacity:0;background-color:rgba(0, 0, 0, 0)}to{opacity:1;background-color:rgba(0, 0, 0, 0.6)}}@keyframes fade-in-animation{from{opacity:0;background-color:rgba(0, 0, 0, 0)}to{opacity:1;background-color:rgba(0, 0, 0, 0.6)}}@-webkit-keyframes slide-in-from-left-absolute{from{left:-1000px}to{left:0px}}@keyframes slide-in-from-left-absolute{from{left:-1000px}to{left:0px}}@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.transition-forward-animation-out.sc-phn-single-drawer{-webkit-transition:left 250ms;transition:left 250ms;position:relative !important;left:-150% !important}.transition-forward-animation-in.sc-phn-single-drawer{position:relative;-webkit-animation:transition-forward-in-animation 250ms;animation:transition-forward-in-animation 250ms}.transition-backward-animation-out.sc-phn-single-drawer{-webkit-transition:left 250ms;transition:left 250ms;position:relative !important;left:150% !important}.transition-backward-animation-in.sc-phn-single-drawer{position:relative !important;-webkit-animation:transition-backward-in-animation 250ms;animation:transition-backward-in-animation 250ms}.slide-out-to-right-fixed.sc-phn-single-drawer{-webkit-transition:left 400ms;transition:left 400ms;position:fixed;left:100% !important}.slide-in-from-right-fixed.sc-phn-single-drawer{position:fixed;-webkit-animation:single-drawer-transition-forward-in-animation 400ms;animation:single-drawer-transition-forward-in-animation 400ms}.phn-flex-col.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-single-drawer{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-single-drawer{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-single-drawer{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-single-drawer{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-single-drawer-h{display:block;position:fixed;top:0;left:-1000px;height:100vh;width:100vw;z-index:301}.slide-in-from-left.sc-phn-single-drawer-h{position:absolute;-webkit-animation:slide-in-from-left-absolute 600ms;animation:slide-in-from-left-absolute 600ms}.slide-out-to-left.sc-phn-single-drawer-h{position:absolute;animation:slide-in-from-left-absolute 600ms reverse}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer{z-index:301;background-color:#fff;position:absolute;left:0}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{overflow-y:auto;height:100vh;width:100vw;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 1.6875rem 6.25rem 1.6875rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.1875rem 6.25rem 2.1875rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 3.375rem 6.25rem 3.375rem}}@media (min-width: 1000px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.25rem 6.25rem 2.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:1.125rem;margin-bottom:1.9375rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-top:2rem;margin-bottom:2.3125rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-bottom:1.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-router.sc-phn-single-drawer{padding-bottom:4rem}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .bottom-gradient.sc-phn-single-drawer{height:10rem;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(rgb(255, 255, 255)));background:linear-gradient(to bottom, rgba(255, 255, 255, 0), rgb(255, 255, 255));opacity:1;position:absolute;width:100%;bottom:0;margin-left:-1.5rem;pointer-events:none;margin-left:0;z-index:1}";const I=class{constructor(e){i(this,e);this.drawerClosed=r(this,"drawerClosed",7);this.drawerChanged=r(this,"drawerChanged",7);this.drawerStartsClosing=r(this,"drawerStartsClosing",7);this.backdropClosed=r(this,"backdropClosed",7);this.phnDrawerStatus=r(this,"phnDrawerStatus",7);this.focusTimeout=new g(0);this.operationPipeline=[];this.breakpoint=undefined;this.locale=undefined;this.usingKeyboard=false;this.routingKeyHistory=undefined;this.routingKeyPointer=undefined;this.receivedContent=false;this.animatingPointer=-1}handleKeyDown(e){if(e.key!=="Tab"){return}const t=h(e.target);if(t===null){return}let i=T(this.el.querySelector(".active"));if(i.length===0){return}const r=this.routingKeyHistory[this.routingKeyPointer];if(r.startsWith(s.DEALER_SEARCH)){i=i.filter((e=>e.nodeName!=="BUTTON"&&e.nodeName!=="A"))}const n=i[0];const a=i[i.length-1];if(t===n&&e.shiftKey){e.preventDefault();if(a!==null){m(a)}return}if(t===a&&!e.shiftKey){e.preventDefault();if(n!==null){m(n)}return}}handleMobileMenuItemClick(e){if(v()){e.stopPropagation();return}this.animatingPointer=this.routingKeyPointer}handleClickDrawerHeaderClose(e){if(v()){e.stopPropagation();return}}handleClickDrawerHeaderBack(e){if(v()){e.stopPropagation();return}this.animatingPointer=this.routingKeyPointer}onTransitionEnd(){const e=this.animatingPointer>this.routingKeyPointer?this.routingKeyHistory[this.animatingPointer]:"";this.animatingPointer=this.routingKeyPointer;const t=this.routingKeyPointer<this.routingKeyHistory.length-1;this.drawerChanged.emit(t);this.focusTimeout.set((async()=>{this.focusOnActiveDrawer(e)}));this.sendDataLayerEvent()}componentWillLoad(){j({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:c.startOpening})},onAnimationEnds:()=>{this.onTransitionEnd();this.phnDrawerStatus.emit({status:c.finishOpening})}});D({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:c.startClosing})},onAnimationEnds:()=>{this.backdropClosed.emit();this.phnDrawerStatus.emit({status:c.finishClosing})}});B({onAnimationEnds:()=>this.onTransitionEnd()});C({onAnimationEnds:()=>this.onTransitionEnd()})}focusOnActiveDrawer(e){const t=h(this.el.querySelector(".active .autofocus"));if(t!==null){m(t);return}if(this.usingKeyboard){let t=null;if(f(e)){t=h(this.el.querySelector(`.active [data-id="${e}"]`))}if(t===null){t=h(this.el.querySelector(`.active ${p}`))}if(t!==null){m(t)}}else{const e=h(this.el.querySelector(".first-focus"));if(e!==null){m(e)}}}sendDataLayerEvent(){R.setDrawerType(k.SingleDrawer);const e=this.routingKeyHistory[this.routingKeyPointer];l.pushDataLayerEvent(y.DRAWER_LOAD,{componentDisplay:{displayElementType:R.calculateDisplayElementType(e,x.singleDrawer),displayElementId:R.calculateDisplayElementId(),displayElementName:"Single Drawer"}})}disconnectedCallback(){this.focusTimeout.cancel()}async componentDidRender(){const e=[];for(const t of this.operationPipeline){const i=t();if(w(i)){e.push(i)}}await Promise.all(e);this.operationPipeline.splice(0,this.operationPipeline.length)}render(){var t,i;const r=this.routingKeyPointer>this.animatingPointer;const a=this.routingKeyPointer<this.animatingPointer;let s=-1;let l=this.routingKeyPointer;if(r&&this.animatingPointer!==o.LEVEL_ZERO){s=this.routingKeyPointer;l=this.animatingPointer;this.operationPipeline.push((async()=>{d.play(A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER)}))}else if(a){s=this.animatingPointer;if(l!==o.LEVEL_ZERO){this.operationPipeline.push((async()=>{d.play(A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER)}))}}const m=(t=this.routingKeyHistory[s])!==null&&t!==void 0?t:"";const h=(i=this.routingKeyHistory[l])!==null&&i!==void 0?i:"";return e(n,null,f(h)?e("div",{class:"drawer active",key:h},e("span",{class:"first-focus",tabIndex:-1,"aria-hidden":"true"}),e(E,{routingKey:h,previousRoutingKey:this.routingKeyHistory[l-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:l>0,receivedContent:this.receivedContent})):null,f(m)?e("div",{class:`drawer animating`,style:r?{left:"100%"}:{},key:m},e(E,{routingKey:m,previousRoutingKey:this.routingKeyHistory[s-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:s>0,receivedContent:this.receivedContent})):null)}get el(){return a(this)}};I.style=K;export{I as phn_single_drawer};
//# sourceMappingURL=p-39c50eb4.entry.js.map