import{s as e,E as n,j as t,i as s,a as i,n as r}from"./p-b43baa04.js";import{c as o,a,f as c,r as l,e as u,h as d,g as f}from"./p-3b2dda95.js";import{d as v,a as y}from"./p-c45b4ca8.js";import{i as m,z as h,A as p,I}from"./p-f7be0ef8.js";import{f as g}from"./p-19268c27.js";function x(t,s,i,c,l,u){var d,f;const{dealer:y,models:g,myPorsche:x,vehiclePurchase:b,shop:k,experience:K,services:w}=t;const{savedDealerCookie:P,ppnDealers:D}=s;const{app:S}=r.state;const A=P!==null?D[P.id]:undefined;let C;if(i==="en-SG"&&y.search.outboundLink){C=(d=y.search.outboundLink)===null||d===void 0?void 0:d.link}const E=[a.DEALER_SEARCH];if(A!==undefined&&((f=v.state.results)===null||f===void 0?void 0:f.length)!=1){E.push(o(A.ppnDealer.id))}const M=[{elementId:a.MODELS,routingKeys:[a.MODELS],analyticsId:g.id,text:g.text},{elementId:a.VEHICLE_PURCHASE,routingKeys:[a.VEHICLE_PURCHASE],analyticsId:b.id,text:b.text},{elementId:a.SERVICES,routingKeys:[a.SERVICES],analyticsId:w.id,text:w.text},{elementId:a.EXPERIENCE,routingKeys:[a.EXPERIENCE],analyticsId:K.id,text:K.text}];const G={elementId:a.DEALER_SEARCH,routingKeys:E,analyticsId:y.id,text:y.text,link:C,iconRight:i==="en-SG"&&y.search.outboundLink?"external":"arrow-head-right"};if(k!==null&&k.text!==""){const e={elementId:a.SHOP,routingKeys:[a.SHOP],analyticsId:k.id,text:k.text,link:S!==p.shop?k.link:undefined,datalayerEventAction:n.NAVIGATION_LINK_CLICK,iconRight:"external"};M.splice(2,0,e)}if(j(i,u)){const n=e(i).language==="en"?A===null||A===void 0?void 0:A.ppnDealer.name:m(A===null||A===void 0?void 0:A.ppnDealer.nameLocalized)?A===null||A===void 0?void 0:A.ppnDealer.nameLocalized:A===null||A===void 0?void 0:A.ppnDealer.name;if(m(n)){G.subtext=n}}else{G.link=y.search.map.link;G.onClick=undefined}M.push(G);if(x!==null){const e=I(c);const n=e?h(c,x.loggedInFallback):undefined;M.push({elementId:a.MY_PORSCHE,routingKeys:[a.MY_PORSCHE],analyticsId:x.id,text:x.text,subtext:n,showIconModifier:e&&l>0})}return M}function b(e,t,s,i,r,o,f){const v=c(o);switch(v){case o:break;case a.MODELS:return e.models.series.map((e=>({elementId:d(e.id),routingKeys:[d(e.id)],analyticsId:e.id,text:e.name,subtext:e.tags.map((e=>e.text)).join(" | "),renderSignatures:true,datalayerEventAction:n.MODEL_RANGE_CLICK})));case a.SHOP:case a.VEHICLE_PURCHASE:case a.SERVICES:case a.EXPERIENCE:{const n=l(o);const t=K(e,n,v);if(t!==null){return t.children.map((e=>({elementId:u(n,e.id),routingKeys:[u(n,e.id)],analyticsId:e.id,text:e.text,link:e.link})))}break}}return x(e,t,s,i,r,f)}function k(e){const n=c(e);switch(n){case e:{break}case a.DEALER_SEARCH:{return a.DEALER_SEARCH}case a.MODELS:{return a.MODELS}case a.SHOP:case a.VEHICLE_PURCHASE:case a.SERVICES:case a.EXPERIENCE:{const n=l(e);return f(n)}}return a.MAIN_MENU}function K(e,n,s){const{vehiclePurchase:i,experience:r,shop:o,legacyMore:c,services:l}=e;const u={[a.VEHICLE_PURCHASE]:i,[a.EXPERIENCE]:r,[a.SHOP]:o,[a.MORE]:c,[a.SERVICES]:l}[s];if(u===undefined||u===null){return null}if(m(u.experienceName)){u.children=y().executeContentChange(u)}const d=f(n);return d===s?u:t(u,d)}function j(n,t){try{const{country:i}=e(n);const r=!s(i)&&t;return(g.isDealerSearchChinaEnabled()||i!=="CN")&&r}catch(e){}return true}function w(e,n){if(!m(n)){return""}const t=c(n);switch(t){case a.MODELS:{return e.models.text}case a.DEALER_SEARCH:if(e.dealer.numberOfDealers===1){return""}return e.dealer.details.backToSearch;case a.SHOP:case a.VEHICLE_PURCHASE:case a.MORE:case a.EXPERIENCE:{const e=K(i.state,n,t);if(e!==null){return e.text}break}}return""}function P(e,n,s){var i;const{dealer:r,myPorsche:o,models:c,vehiclePurchase:l,experience:u,shop:d,legacyMore:v,services:y}=e;let m;switch(s){case a.MORE:case a.SHOP:case a.EXPERIENCE:case a.SERVICES:case a.VEHICLE_PURCHASE:{m={[a.VEHICLE_PURCHASE]:l,[a.EXPERIENCE]:u,[a.SHOP]:d,[a.MORE]:v,[a.SERVICES]:y}[s];if(m===undefined){return""}const e=f(n);return e===s?m===null||m===void 0?void 0:m.text:(i=t(m,e))===null||i===void 0?void 0:i.text}case a.SERIES:case a.MODELS:{const e=f(n);m=c.series.find((n=>e===n.id));return m===undefined?c.text:m===null||m===void 0?void 0:m.id}case a.DEALER_SEARCH:{return r.search.text}case a.MY_PORSCHE:{return o===null||o===void 0?void 0:o.text}}return""}function D(n,t,s){const{myPorsche:o,models:c}=i.state;const{loggedInState:l}=r.state;if(n===a.MY_PORSCHE){const e=I(l);return e?h(l,(o===null||o===void 0?void 0:o.loggedInFallback)||""):""}if(n===a.DEALER_SEARCH){const{savedDealerCookie:n,ppnDealers:t}=v.state;const i=n!==null?t[n.id]:undefined;const r=s&&e(s).language==="en"?i===null||i===void 0?void 0:i.ppnDealer.name:m(i===null||i===void 0?void 0:i.ppnDealer.nameLocalized)?i===null||i===void 0?void 0:i.ppnDealer.nameLocalized:i===null||i===void 0?void 0:i.ppnDealer.name;return n?r:""}if(n===a.MODELS){if(m(t)){const e=f(t);const n=c.series.find((n=>e===n.id));if(n){return n.tags.map((e=>e.text)).join(" | ")}}}return""}export{w as a,P as b,D as c,b as d,x as e,K as f,k as g};
//# sourceMappingURL=p-ba3f6f6a.js.map