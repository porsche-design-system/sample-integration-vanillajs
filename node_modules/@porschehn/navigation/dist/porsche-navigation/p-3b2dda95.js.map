{"version":3,"names":["RoutingKeys","MAIN_MENU","DEALER_SEARCH","MORE","SHOP","SERIES","MY_PORSCHE","VEHICLE_PURCHASE","EXPERIENCE","SERVICES","MODELS","RoutingKeyPointers","constructRoutingKey","args","reduce","segments","arg","getString","split","filter","Boolean","join","findTopLevelRoutingKey","activeRoutingKey","isString","Object","values","find","routingKey","startsWith","getModelsRoutingKey","getDealerDetailsRoutingKey","getMyPorscheRoutingKey","getVehiclePurchaseRoutingKey","getLastRoutingSegment","slice","removeLastRoutingSegment","determineMainDrawerLevel","topLevelRoutingKey","length","getPreviousRoutingKey","previousRoutingKey"],"sources":["src/entities/routing-key.ts"],"sourcesContent":["import { getString, isString } from '../utility/helper';\n\nexport const RoutingKeys = {\n  MAIN_MENU: 'mainmenu',\n  DEALER_SEARCH: 'find_a_dealer',\n  MORE: 'more',\n  SHOP: 'shop',\n  SERIES: 'series',\n  MY_PORSCHE: 'my_porsche',\n  VEHICLE_PURCHASE: 'vehicle_purchase',\n  EXPERIENCE: 'experience',\n  SERVICES: 'services',\n  MODELS: 'models'\n} as const;\n\nexport enum RoutingKeyPointers {\n  LEVEL_ZERO = -1,\n  LEVEL_ONE = 0,\n  LEVEL_TWO = 1\n}\n\nexport type RoutingKey = (typeof RoutingKeys)[keyof typeof RoutingKeys];\n\nexport interface RoutingKeyWithClick {\n  initialRoutingKey: RoutingKey | string;\n  isKeyboardClick: boolean;\n}\n\nexport function constructRoutingKey(...args: string[]): string {\n  return args\n    .reduce<string[]>((segments, arg) => [...segments, ...getString(arg).split('/')], [])\n    .filter(Boolean)\n    .join('/');\n}\n\nexport function findTopLevelRoutingKey(activeRoutingKey: string): RoutingKey | undefined {\n  if (isString(activeRoutingKey)) {\n    return Object.values(RoutingKeys).find((routingKey) => activeRoutingKey.startsWith(routingKey));\n  }\n}\n\nexport function getSeriesRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.SERIES, ...args);\n}\n\nexport function getModelsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MODELS, ...args);\n}\n\nexport function getDealerDetailsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.DEALER_SEARCH, ...args);\n}\n\nexport function getMyPorscheRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MY_PORSCHE, ...args);\n}\n\nexport function getVehiclePurchaseRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.VEHICLE_PURCHASE, ...args);\n}\n\nexport function getLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(-1)[0];\n}\n\nexport function removeLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(0, -1).join('/');\n}\n\nexport function determineMainDrawerLevel(activeRoutingKey: string): number {\n  const topLevelRoutingKey = findTopLevelRoutingKey(activeRoutingKey);\n  switch (topLevelRoutingKey) {\n    case RoutingKeys.MAIN_MENU: {\n      return 1;\n    }\n    case activeRoutingKey: {\n      return 2;\n    }\n    default: {\n      return activeRoutingKey.split('/').length + 1;\n    }\n  }\n}\n\nexport function getPreviousRoutingKey(routingKey: string): string {\n  const previousRoutingKey = removeLastRoutingSegment(routingKey);\n  if (!isString(previousRoutingKey)) {\n    return RoutingKeys.MAIN_MENU;\n  }\n\n  return previousRoutingKey;\n}\n"],"mappings":"iDAEaA,EAAc,CACzBC,UAAW,WACXC,cAAe,gBACfC,KAAM,OACNC,KAAM,OACNC,OAAQ,SACRC,WAAY,aACZC,iBAAkB,mBAClBC,WAAY,aACZC,SAAU,WACVC,OAAQ,U,IAGEC,GAAZ,SAAYA,GACVA,IAAA,+BACAA,IAAA,4BACAA,IAAA,2BACD,EAJD,CAAYA,MAAkB,K,SAadC,KAAuBC,GACrC,OAAOA,EACJC,QAAiB,CAACC,EAAUC,IAAQ,IAAID,KAAaE,EAAUD,GAAKE,MAAM,OAAO,IACjFC,OAAOC,SACPC,KAAK,IACV,C,SAEgBC,EAAuBC,GACrC,GAAIC,EAASD,GAAmB,CAC9B,OAAOE,OAAOC,OAAO1B,GAAa2B,MAAMC,GAAeL,EAAiBM,WAAWD,I,CAEvF,C,SAMgBE,KAAuBjB,GACrC,OAAOD,EAAoBZ,EAAYU,UAAWG,EACpD,C,SAEgBkB,KAA8BlB,GAC5C,OAAOD,EAAoBZ,EAAYE,iBAAkBW,EAC3D,C,SAEgBmB,KAA0BnB,GACxC,OAAOD,EAAoBZ,EAAYM,cAAeO,EACxD,C,SAEgBoB,KAAgCpB,GAC9C,OAAOD,EAAoBZ,EAAYO,oBAAqBM,EAC9D,C,SAEgBqB,EAAsBN,GACpC,OAAOA,EAAWV,MAAM,KAAKiB,OAAO,GAAG,EACzC,C,SAEgBC,EAAyBR,GACvC,OAAOA,EAAWV,MAAM,KAAKiB,MAAM,GAAI,GAAGd,KAAK,IACjD,C,SAEgBgB,EAAyBd,GACvC,MAAMe,EAAqBhB,EAAuBC,GAClD,OAAQe,GACN,KAAKtC,EAAYC,UAAW,CAC1B,OAAO,C,CAET,KAAKsB,EAAkB,CACrB,OAAO,C,CAET,QAAS,CACP,OAAOA,EAAiBL,MAAM,KAAKqB,OAAS,C,EAGlD,C,SAEgBC,EAAsBZ,GACpC,MAAMa,EAAqBL,EAAyBR,GACpD,IAAKJ,EAASiB,GAAqB,CACjC,OAAOzC,EAAYC,S,CAGrB,OAAOwC,CACT,Q"}