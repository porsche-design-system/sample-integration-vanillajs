{"version":3,"names":["logoCss","Logo","exports","NavigationTheme","light","NavigationMode","navbar","class_1","prototype","sendDataLayerEvent","crest","globalDataLayerService","pushDataLayerEvent","EventActions","CREST_CLICK","componentClick","clickElementId","id","clickElementName","text","clickElementType","ClickElementTypes","Link","targetUrl","link","componentWillLoad","_this","this","componentsReady","el","then","logoLoaded","emit","getLogoLink","locale","app","shop","isShopAvailableAndLogoLinksToShop","getLogoAriaLabel","render","_a","navContentStore","state","logoLink","logoAriaLabel","isDesktop","breakpoint","h","onClick","href","isString","undefined","aria","size","theme","getRightTheme","mode"],"sources":["src/components/logo/logo.scss?tag=phn-logo&encapsulation=scoped","src/components/logo/logo.tsx"],"sourcesContent":["\n:host {\n}\n","import { Component, Element, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { ApplicationType } from '../../components';\nimport { TLink, TShopMenu } from '../../entities/content';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { componentsReady } from '@porsche-design-system/components-js';\nimport { navContentStore } from '../../state/nav-content-store';\nimport {\n  ClickElementTypes,\n  EventActions,\n  NavigationMode,\n  NavigationModeType,\n  NavigationTheme,\n  NavigationThemeType\n} from '../../utility/constants';\nimport { getRightTheme, isDesktop, isString } from '../../utility/helper';\nimport { isShopAvailableAndLogoLinksToShop } from '../../utility/helpers/shop-helper';\n\n@Component({\n  tag: 'phn-logo',\n  styleUrl: 'logo.scss',\n  scoped: true\n})\nexport class Logo {\n  @Prop() size!: string;\n  @Prop() locale!: string;\n  @Prop() app!: ApplicationType;\n  @Prop() theme: NavigationThemeType = NavigationTheme.light;\n  @Prop() mode: NavigationModeType = NavigationMode.navbar;\n  @Prop() breakpoint!: number;\n\n  @Event() logoLoaded!: EventEmitter<void>;\n\n  @Element() el!: HTMLPhnLogoElement;\n\n  private sendDataLayerEvent(crest: TLink): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.CREST_CLICK, {\n      componentClick: {\n        clickElementId: crest.id,\n        clickElementName: crest.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: crest.link\n      }\n    });\n  }\n\n  componentWillLoad(): void {\n    componentsReady(this.el) // TR: I believe this first call waits for the phn-logo element to be ready\n      .then(() => componentsReady(this.el)) // TR: Then this second call actually waits for its children (i.e.: phn-p-marque) to be ready\n      .then(() => {\n        this.logoLoaded.emit();\n      });\n  }\n\n  private getLogoLink(locale: string, app: ApplicationType, crest: TLink, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? shop.link : crest.link;\n  }\n\n  private getLogoAriaLabel(locale: string, app: ApplicationType, shop: TShopMenu | null) {\n    return isShopAvailableAndLogoLinksToShop(locale, app, shop) ? 'Porsche Shop Homepage' : 'Porsche.com Homepage';\n  }\n\n  render(): HTMLPhnLogoElement {\n    const { crest, shop } = navContentStore.state;\n\n    const logoLink = this.getLogoLink(this.locale, this.app, crest, shop);\n    const logoAriaLabel = this.getLogoAriaLabel(this.locale, this.app, shop);\n\n    return isDesktop(this.breakpoint) ? (\n      <phn-p-wordmark\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n        size=\"small\"\n        theme={getRightTheme(this.theme, this.mode)}\n      />\n    ) : (\n      <phn-p-crest\n        onClick={() => this.sendDataLayerEvent(crest)}\n        href={isString(logoLink) ? logoLink : undefined}\n        aria={{ 'aria-label': logoAriaLabel }}\n      />\n    );\n  }\n}\n"],"mappings":"gbAAA,IAAMA,EAAU,G,ICsBHC,EAAIC,EAAA,sB,uIAIsBC,EAAgBC,M,UAClBC,EAAeC,O,0BAO1CC,EAAAC,UAAAC,mBAAA,SAAmBC,GACzBC,EAAuBC,mBAAmBC,EAAaC,YAAa,CAClEC,eAAgB,CACdC,eAAgBN,EAAMO,GACtBC,iBAAkBR,EAAMS,KACxBC,iBAAkBC,EAAkBC,KACpCC,UAAWb,EAAMc,O,EAKvBjB,EAAAC,UAAAiB,kBAAA,eAAAC,EAAAC,KACEC,kBAAgBD,KAAKE,IAClBC,MAAK,WAAMF,yBAAgBF,EAAKG,GAArBD,IACXE,MAAK,WACJJ,EAAKK,WAAWC,M,KAIdzB,EAAAC,UAAAyB,YAAA,SAAYC,EAAgBC,EAAsBzB,EAAc0B,GACtE,OAAOC,EAAkCH,EAAQC,EAAKC,GAAQA,EAAKZ,KAAOd,EAAMc,I,EAG1EjB,EAAAC,UAAA8B,iBAAA,SAAiBJ,EAAgBC,EAAsBC,GAC7D,OAAOC,EAAkCH,EAAQC,EAAKC,GAAQ,wBAA0B,sB,EAG1F7B,EAAAC,UAAA+B,OAAA,eAAAb,EAAAC,KACQ,IAAAa,EAAkBC,EAAgBC,MAAhChC,EAAK8B,EAAA9B,MAAE0B,EAAII,EAAAJ,KAEnB,IAAMO,EAAWhB,KAAKM,YAAYN,KAAKO,OAAQP,KAAKQ,IAAKzB,EAAO0B,GAChE,IAAMQ,EAAgBjB,KAAKW,iBAAiBX,KAAKO,OAAQP,KAAKQ,IAAKC,GAEnE,OAAOS,EAAUlB,KAAKmB,YACpBC,EAAA,kBACEC,QAAS,WAAM,OAAAtB,EAAKjB,mBAAmBC,EAAxB,EACfuC,KAAMC,EAASP,GAAYA,EAAWQ,UACtCC,KAAM,CAAE,aAAcR,GACtBS,KAAK,QACLC,MAAOC,EAAc5B,KAAK2B,MAAO3B,KAAK6B,QAGxCT,EAAA,eACEC,QAAS,WAAM,OAAAtB,EAAKjB,mBAAmBC,EAAxB,EACfuC,KAAMC,EAASP,GAAYA,EAAWQ,UACtCC,KAAM,CAAE,aAAcR,I,uHAzDb,I"}