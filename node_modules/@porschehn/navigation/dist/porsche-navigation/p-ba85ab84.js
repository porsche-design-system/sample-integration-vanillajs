import{s as e,E as n,k as t,i as s,b as o,n as i}from"./p-ce02e561.js";import{e as r,a as c,f as a,r as l,c as u,h as d,g as f}from"./p-3c1fd150.js";import{d as v}from"./p-cdb95d01.js";import{i as m,z as y,A as p,I as h}from"./p-e1568a59.js";import{f as I}from"./p-f9052552.js";import{a as g}from"./p-b44f163f.js";function x(t,s,o,a,l,u){var d,f;const{dealer:I,models:g,myPorsche:x,vehiclePurchase:b,shop:k,experience:K,services:w}=t;const{savedDealerCookie:P,ppnDealers:D}=s;const{app:S}=i.state;const A=P!==null?D[P.id]:undefined;let C;if(o==="en-SG"&&I.search.outboundLink){C=(d=I.search.outboundLink)===null||d===void 0?void 0:d.link}const E=[c.DEALER_SEARCH];if(A!==undefined&&((f=v.state.results)===null||f===void 0?void 0:f.length)!=1){E.push(r(A.ppnDealer.id))}const M=[{elementId:c.MODELS,routingKeys:[c.MODELS],analyticsId:g.id,text:g.text},{elementId:c.VEHICLE_PURCHASE,routingKeys:[c.VEHICLE_PURCHASE],analyticsId:b.id,text:b.text},{elementId:c.SERVICES,routingKeys:[c.SERVICES],analyticsId:w.id,text:w.text},{elementId:c.EXPERIENCE,routingKeys:[c.EXPERIENCE],analyticsId:K.id,text:K.text}];const G={elementId:c.DEALER_SEARCH,routingKeys:E,analyticsId:I.id,text:I.text,link:C,iconRight:o==="en-SG"&&I.search.outboundLink?"none":"arrow-head-right"};if(k!==null&&k.text!==""){const e={elementId:c.SHOP,routingKeys:[c.SHOP],analyticsId:k.id,text:k.text,link:S!==p.shop?k.link:undefined,datalayerEventAction:n.NAVIGATION_LINK_CLICK,iconRight:"none"};M.splice(2,0,e)}if(j(o,u)){const n=e(o).language==="en"?A===null||A===void 0?void 0:A.ppnDealer.name:m(A===null||A===void 0?void 0:A.ppnDealer.nameLocalized)?A===null||A===void 0?void 0:A.ppnDealer.nameLocalized:A===null||A===void 0?void 0:A.ppnDealer.name;if(m(n)){G.subtext=n}}else{G.link=I.search.map.link;G.onClick=undefined}M.push(G);if(x!==null){const e=h(a);const n=e?y(a,x.loggedInFallback):undefined;M.push({elementId:c.MY_PORSCHE,routingKeys:[c.MY_PORSCHE],analyticsId:x.id,text:x.text,subtext:n,showIconModifier:e&&l>0})}return M}function b(e,t,s,o,i,r,f){const v=a(r);switch(v){case r:break;case c.MODELS:return e.models.series.map((e=>({elementId:d(e.id),routingKeys:[d(e.id)],analyticsId:e.id,text:e.name,subtext:e.tags.map((e=>e.text)).join(" | "),renderSignatures:true,datalayerEventAction:n.MODEL_RANGE_CLICK})));case c.SHOP:case c.VEHICLE_PURCHASE:case c.SERVICES:case c.EXPERIENCE:{const n=l(r);const t=K(e,n,v);if(t!==null){return t.children.map((e=>({elementId:u(n,e.id),routingKeys:[u(n,e.id)],analyticsId:e.id,text:e.text,link:e.link})))}break}}return x(e,t,s,o,i,f)}function k(e){const n=a(e);switch(n){case e:{break}case c.DEALER_SEARCH:{return c.DEALER_SEARCH}case c.MODELS:{return c.MODELS}case c.SHOP:case c.VEHICLE_PURCHASE:case c.SERVICES:case c.EXPERIENCE:{const n=l(e);return f(n)}}return c.MAIN_MENU}function K(e,n,s){const{vehiclePurchase:o,experience:i,shop:r,legacyMore:a,services:l}=e;const u={[c.VEHICLE_PURCHASE]:o,[c.EXPERIENCE]:i,[c.SHOP]:r,[c.MORE]:a,[c.SERVICES]:l}[s];if(u===undefined||u===null){return null}if(m(u.experienceName)){u.children=g().executeContentChange(u)}const d=f(n);return d===s?u:t(u,d)}function j(n,t){try{const{country:o}=e(n);const i=!s(o)&&t;return(I.isDealerSearchChinaEnabled()||o!=="CN")&&i}catch(e){}return true}function w(e,n){if(!m(n)){return""}const t=a(n);switch(t){case c.MODELS:{return e.models.text}case c.DEALER_SEARCH:if(e.dealer.numberOfDealers===1){return""}return e.dealer.details.backToSearch;case c.SHOP:case c.VEHICLE_PURCHASE:case c.MORE:case c.EXPERIENCE:{const e=K(o.state,n,t);if(e!==null){return e.text}break}}return""}function P(e,n,s){var o;const{dealer:i,myPorsche:r,models:a,vehiclePurchase:l,experience:u,shop:d,legacyMore:v,services:m}=e;let y;switch(s){case c.MORE:case c.SHOP:case c.EXPERIENCE:case c.SERVICES:case c.VEHICLE_PURCHASE:{y={[c.VEHICLE_PURCHASE]:l,[c.EXPERIENCE]:u,[c.SHOP]:d,[c.MORE]:v,[c.SERVICES]:m}[s];if(y===undefined){return""}const e=f(n);return e===s?y===null||y===void 0?void 0:y.text:(o=t(y,e))===null||o===void 0?void 0:o.text}case c.SERIES:case c.MODELS:{const e=f(n);y=a.series.find((n=>e===n.id));return y===undefined?a.text:y===null||y===void 0?void 0:y.id}case c.DEALER_SEARCH:{return i.search.text}case c.MY_PORSCHE:{return r===null||r===void 0?void 0:r.text}}return""}function D(n,t,s){const{myPorsche:r,models:a}=o.state;const{loggedInState:l}=i.state;if(n===c.MY_PORSCHE){const e=h(l);return e?y(l,(r===null||r===void 0?void 0:r.loggedInFallback)||""):""}if(n===c.DEALER_SEARCH){const{savedDealerCookie:n,ppnDealers:t}=v.state;const o=n!==null?t[n.id]:undefined;const i=s&&e(s).language==="en"?o===null||o===void 0?void 0:o.ppnDealer.name:m(o===null||o===void 0?void 0:o.ppnDealer.nameLocalized)?o===null||o===void 0?void 0:o.ppnDealer.nameLocalized:o===null||o===void 0?void 0:o.ppnDealer.name;return n?i:""}if(n===c.MODELS){if(m(t)){const e=f(t);const n=a.series.find((n=>e===n.id));if(n){return n.tags.map((e=>e.text)).join(" | ")}}}return""}export{w as a,P as b,D as c,b as d,x as e,K as f,k as g};
//# sourceMappingURL=p-ba85ab84.js.map