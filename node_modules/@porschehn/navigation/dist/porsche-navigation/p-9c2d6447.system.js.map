{"version":3,"names":["RoutingKeys","exports","MAIN_MENU","DEALER_SEARCH","MORE","SHOP","SERIES","MY_PORSCHE","VEHICLE_PURCHASE","EXPERIENCE","SERVICES","MODELS","RoutingKeyPointers","constructRoutingKey","args","_i","arguments","length","reduce","segments","arg","__spreadArray","getString","split","filter","Boolean","join","findTopLevelRoutingKey","activeRoutingKey","isString","Object","values","find","routingKey","startsWith","getModelsRoutingKey","apply","getDealerDetailsRoutingKey","getMyPorscheRoutingKey","getVehiclePurchaseRoutingKey","getLastRoutingSegment","slice","removeLastRoutingSegment","determineMainDrawerLevel","topLevelRoutingKey","getPreviousRoutingKey","previousRoutingKey"],"sources":["src/entities/routing-key.ts"],"sourcesContent":["import { getString, isString } from '../utility/helper';\n\nexport const RoutingKeys = {\n  MAIN_MENU: 'mainmenu',\n  DEALER_SEARCH: 'find_a_dealer',\n  MORE: 'more',\n  SHOP: 'shop',\n  SERIES: 'series',\n  MY_PORSCHE: 'my_porsche',\n  VEHICLE_PURCHASE: 'vehicle_purchase',\n  EXPERIENCE: 'experience',\n  SERVICES: 'services',\n  MODELS: 'models'\n} as const;\n\nexport enum RoutingKeyPointers {\n  LEVEL_ZERO = -1,\n  LEVEL_ONE = 0,\n  LEVEL_TWO = 1\n}\n\nexport type RoutingKey = (typeof RoutingKeys)[keyof typeof RoutingKeys];\n\nexport interface RoutingKeyWithClick {\n  initialRoutingKey: RoutingKey | string;\n  isKeyboardClick: boolean;\n}\n\nexport function constructRoutingKey(...args: string[]): string {\n  return args\n    .reduce<string[]>((segments, arg) => [...segments, ...getString(arg).split('/')], [])\n    .filter(Boolean)\n    .join('/');\n}\n\nexport function findTopLevelRoutingKey(activeRoutingKey: string): RoutingKey | undefined {\n  if (isString(activeRoutingKey)) {\n    return Object.values(RoutingKeys).find((routingKey) => activeRoutingKey.startsWith(routingKey));\n  }\n}\n\nexport function getSeriesRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.SERIES, ...args);\n}\n\nexport function getModelsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MODELS, ...args);\n}\n\nexport function getDealerDetailsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.DEALER_SEARCH, ...args);\n}\n\nexport function getMyPorscheRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MY_PORSCHE, ...args);\n}\n\nexport function getVehiclePurchaseRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.VEHICLE_PURCHASE, ...args);\n}\n\nexport function getLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(-1)[0];\n}\n\nexport function removeLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(0, -1).join('/');\n}\n\nexport function determineMainDrawerLevel(activeRoutingKey: string): number {\n  const topLevelRoutingKey = findTopLevelRoutingKey(activeRoutingKey);\n  switch (topLevelRoutingKey) {\n    case RoutingKeys.MAIN_MENU: {\n      return 1;\n    }\n    case activeRoutingKey: {\n      return 2;\n    }\n    default: {\n      return activeRoutingKey.split('/').length + 1;\n    }\n  }\n}\n\nexport function getPreviousRoutingKey(routingKey: string): string {\n  const previousRoutingKey = removeLastRoutingSegment(routingKey);\n  if (!isString(previousRoutingKey)) {\n    return RoutingKeys.MAIN_MENU;\n  }\n\n  return previousRoutingKey;\n}\n"],"mappings":"sbAEaA,EAAWC,EAAA,IAAG,CACzBC,UAAW,WACXC,cAAe,gBACfC,KAAM,OACNC,KAAM,OACNC,OAAQ,SACRC,WAAY,aACZC,iBAAkB,mBAClBC,WAAY,aACZC,SAAU,WACVC,OAAQ,W,IAGEC,GAAZ,SAAYA,GACVA,IAAA,+BACAA,IAAA,4BACAA,IAAA,2BACD,EAJD,CAAYA,MAAkBX,EAAA,U,SAadY,IAAoB,IAAAC,EAAA,G,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAiB,CAAjBD,EAAAC,GAAAC,UAAAD,E,CAClC,OAAOD,EACJI,QAAiB,SAACC,EAAUC,GAAQ,OAAAC,4BAAA,GAAIF,EAAQ,MAAKG,EAAUF,GAAKG,MAAM,KAAI,KAA1C,GAA6C,IACjFC,OAAOC,SACPC,KAAK,IACV,C,SAEgBC,EAAuBC,GACrC,GAAIC,EAASD,GAAmB,CAC9B,OAAOE,OAAOC,OAAO/B,GAAagC,MAAK,SAACC,GAAe,OAAAL,EAAiBM,WAAWD,EAA5B,G,CAE3D,C,SAMgBE,IAAoB,IAAArB,EAAA,G,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAiB,CAAjBD,EAAAC,GAAAC,UAAAD,E,CAClC,OAAOF,EAAmBuB,WAAA,EAAAf,cAAA,CAACrB,EAAYW,QAAWG,EAAI,OACxD,C,SAEgBuB,IAA2B,IAAAvB,EAAA,G,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAiB,CAAjBD,EAAAC,GAAAC,UAAAD,E,CACzC,OAAOF,EAAmBuB,WAAA,EAAAf,cAAA,CAACrB,EAAYG,eAAkBW,EAAI,OAC/D,C,SAEgBwB,IAAuB,IAAAxB,EAAA,G,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAiB,CAAjBD,EAAAC,GAAAC,UAAAD,E,CACrC,OAAOF,EAAmBuB,WAAA,EAAAf,cAAA,CAACrB,EAAYO,YAAeO,EAAI,OAC5D,C,SAEgByB,IAA6B,IAAAzB,EAAA,G,IAAA,IAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAiB,CAAjBD,EAAAC,GAAAC,UAAAD,E,CAC3C,OAAOF,EAAmBuB,WAAA,EAAAf,cAAA,CAACrB,EAAYQ,kBAAqBM,EAAI,OAClE,C,SAEgB0B,EAAsBP,GACpC,OAAOA,EAAWV,MAAM,KAAKkB,OAAO,GAAG,EACzC,C,SAEgBC,EAAyBT,GACvC,OAAOA,EAAWV,MAAM,KAAKkB,MAAM,GAAI,GAAGf,KAAK,IACjD,C,SAEgBiB,EAAyBf,GACvC,IAAMgB,EAAqBjB,EAAuBC,GAClD,OAAQgB,GACN,KAAK5C,EAAYE,UAAW,CAC1B,OAAO,C,CAET,KAAK0B,EAAkB,CACrB,OAAO,C,CAET,QAAS,CACP,OAAOA,EAAiBL,MAAM,KAAKN,OAAS,C,EAGlD,C,SAEgB4B,EAAsBZ,GACpC,IAAMa,EAAqBJ,EAAyBT,GACpD,IAAKJ,EAASiB,GAAqB,CACjC,OAAO9C,EAAYE,S,CAGrB,OAAO4C,CACT,C"}