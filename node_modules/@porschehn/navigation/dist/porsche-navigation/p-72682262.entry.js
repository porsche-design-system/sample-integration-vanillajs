import{h as e,r,c as t,F as i,H as a,g as d}from"./p-d0fb8c28.js";import{R as o,f as n,a as s}from"./p-3b2dda95.js";import{a as h}from"./p-4babe3ef.js";import{g as l}from"./p-38d3cc75.js";import{a as c}from"./p-5b086170.js";import{a as m}from"./p-ba3f6f6a.js";import{a as p,e as w,E as b,f as u,C as f}from"./p-b43baa04.js";import{i as g,p as x,u as k,F as y,B as D}from"./p-f7be0ef8.js";import{r as v,a as E,b as j,c as C,d as R}from"./p-65d6afb5.js";import{g as B}from"./p-75afc214.js";import"./p-5f91e136.js";import"./p-f167c919.js";import"./p-c45b4ca8.js";import"./p-19268c27.js";import"./p-0891057c.js";const K=({activeRoutingKey:r,locale:t,breakpoint:i,backButtonText:a,onClickBack:d,receivedContent:o})=>e("div",{class:"drawer-content"},e("div",{class:"main-drawer-header"},g(a)?e("phn-back-button",{class:"back-button",onClick:d,text:a,analyticsId:p.state.menu.id,activeRoutingKey:r}):null),e("phn-router",{activeRoutingKey:r,breakpoint:i,locale:t,receivedContent:o}));const L=({activeRoutingKey:r,locale:t,backButtonText:i,onClickBack:a})=>e("div",{class:"drawer-content"},e("span",{class:"first-focus",tabIndex:-1,"aria-hidden":"true"}),e("div",{class:"side-drawer-header"},g(i)?e("phn-back-button",{class:"back-button",onClick:a,text:i,analyticsId:p.state.menu.id,activeRoutingKey:r}):null),e("phn-side-drawer",{activeRoutingKey:r,locale:t}));const T="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-double-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-double-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-double-drawer{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-double-drawer{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-double-drawer{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-double-drawer{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-double-drawer-h{position:fixed;top:0;left:0;height:100vh;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;z-index:301}.sc-phn-double-drawer-h .close-button.sc-phn-double-drawer{position:absolute;right:-4.75rem;z-index:301;width:3rem;height:3rem;margin-top:1.75rem;cursor:pointer}.sc-phn-double-drawer-h .drawer.sc-phn-double-drawer{overflow-y:auto;overflow-x:hidden;position:relative;background-color:#fff;height:100vh}.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer{z-index:302;float:left;width:17.125rem;padding-left:1.75rem;padding-right:1.75rem}@media (min-width: 1000px){.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer{width:16.5rem;padding-left:2.25rem;padding-right:2.25rem}}@media (min-width: 1300px){.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer{width:19.3125rem;padding-left:3rem;padding-right:3rem}}@media (min-width: 1920px){.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer{width:27.375rem;padding-left:5.25rem;padding-right:5.25rem}}.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer phn-side-drawer.sc-phn-double-drawer{padding-bottom:6rem}.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer .side-drawer-header.sc-phn-double-drawer{-webkit-box-sizing:border-box;box-sizing:border-box;height:5.75rem;padding-top:2.625rem}@media (min-width: 1300px){.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer .side-drawer-header.sc-phn-double-drawer{height:6rem}}@media (min-width: 1920px){.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer .side-drawer-header.sc-phn-double-drawer{height:8rem;padding-top:3.75rem}}.sc-phn-double-drawer-h .drawer#side-drawer.sc-phn-double-drawer .side-drawer-header.sc-phn-double-drawer phn-back-button.sc-phn-double-drawer{margin-left:-0.5rem;height:1.5rem}.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer{z-index:301;float:right;border-radius:0 4px 4px 0;background-color:#EEEFF2;-webkit-box-sizing:border-box;box-sizing:border-box;position:static;width:20.625rem;padding-left:1.75rem;padding-right:1.75rem}@media (min-width: 1000px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer{width:21rem;padding-left:2.25rem;padding-right:2.25rem}}@media (min-width: 1300px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer{width:25.3125rem;padding-left:3rem;padding-right:3rem}}@media (min-width: 1920px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer{width:37.875rem;padding-left:5.25rem;padding-right:5.25rem}}.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer phn-router.sc-phn-double-drawer{padding-bottom:6rem}.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .main-drawer-header.sc-phn-double-drawer{-webkit-box-sizing:border-box;box-sizing:border-box;height:4.125rem;padding-top:2.5rem;margin-bottom:1.625rem}@media (min-width: 1300px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .main-drawer-header.sc-phn-double-drawer{margin-bottom:1.875rem}}@media (min-width: 1920px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .main-drawer-header.sc-phn-double-drawer{height:5.25rem;margin-bottom:2.75rem;padding-top:2.5rem}}.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .main-drawer-header.sc-phn-double-drawer phn-back-button.sc-phn-double-drawer{margin-left:-0.5rem;height:1.5rem}.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .bottom-gradient.sc-phn-double-drawer{height:10rem;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(#EEEFF2));background:linear-gradient(to bottom, rgba(255, 255, 255, 0), #EEEFF2);opacity:1;position:absolute;width:100%;bottom:0;margin-left:-1.5rem;pointer-events:none;width:20.625rem;margin-left:-1.75rem;border-radius:0 0 4px 0}@media (min-width: 1000px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .bottom-gradient.sc-phn-double-drawer{width:21rem;margin-left:-2.25rem}}@media (min-width: 1300px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .bottom-gradient.sc-phn-double-drawer{width:25.3125rem;margin-left:-3rem}}@media (min-width: 1920px){.sc-phn-double-drawer-h .drawer#main-drawer.sc-phn-double-drawer .bottom-gradient.sc-phn-double-drawer{width:37.875rem;margin-left:-5.25rem}}";const I=class{constructor(e){r(this,e);this.clickDrawerHeaderClose=t(this,"clickDrawerHeaderClose",7);this.clickDrawerHeaderBack=t(this,"clickDrawerHeaderBack",7);this.drawerClosed=t(this,"drawerClosed",7);this.drawerChanged=t(this,"drawerChanged",7);this.backdropClosed=t(this,"backdropClosed",7);this.phnDrawerStatus=t(this,"phnDrawerStatus",7);this.breakpoint=undefined;this.locale=undefined;this.initialUsingKeyboard=false;this.routingKeyHistory=[];this.routingKeyPointer=o.LEVEL_ZERO;this.receivedContent=undefined;this.usingKeyboard=false;this.animatingRoutingKeyPointer=o.LEVEL_ZERO;this.isAnimating=true;this.animatingRoutingKey=""}watchRoutingKeyPointer(e,r){if(r<e){const e=n(this.routingKeyHistory[this.routingKeyPointer]);if(e===s.DEALER_SEARCH){c.play("transitionSameLevelDoubleDrawer")}else{c.play("transitionNextLevelDoubleDrawer")}}}watchRoutingKeyHistory(e,r){if(e.length<r.length||this.animateIfSameLength(e,r)){c.play("transitionSameLevelDoubleDrawer")}}onResizeWindow(){if(this.animatingRoutingKeyPointer!==this.routingKeyPointer){this.animatingRoutingKey=this.routingKeyHistory[this.routingKeyPointer];this.animatingRoutingKeyPointer=this.routingKeyPointer}}handleKeyDown(e){if(e.key!=="Tab"){return}let r=this.routingKeyHistory[this.routingKeyPointer];if(r.startsWith(s.DEALER_SEARCH)){r=r.split("/")[0]}const t=k(e.target);if(t===null){return}const i=B(this.el.querySelector("#side-drawer"));let a=B(this.el.querySelector("#main-drawer"));if(i.length===0||a.length===0){return}const d=i.findIndex((e=>e.getAttribute("data-id")===r));const o=i[d];if(r===s.DEALER_SEARCH){a=a.filter((e=>e.nodeName!=="BUTTON"&&e.nodeName!=="A"))}const n=i[i.length-1];const h=a[a.length-1];const l=this.el.querySelector(".close-button");if(!e.shiftKey){if(t===o){e.preventDefault();x(a[0]);return}if(t===n){e.preventDefault();if(l!==null){x(l)}}if(t===h){e.preventDefault();const r=d+1>=i.length?0:d+1;const t=k(i[r]);x(t)}if(t===l){e.preventDefault();x(i[0])}}else if(e.shiftKey){if(t===a[0]){e.preventDefault();if(o!==null){x(o)}}if(t===l){e.preventDefault();x(n)}}}handleMobileMenuItemClick(e){if(c.isPlaying("transitionNextLevelDoubleDrawer")){e.stopPropagation()}}handleSideDrawerItemClick(e){if(c.isPlaying("transitionSameLevelDoubleDrawer")){e.stopPropagation()}}focusOnInitialElement(){const e=this.routingKeyPointer<this.routingKeyHistory.length-1;let r=e?this.routingKeyHistory[this.routingKeyPointer+1]:this.routingKeyHistory[this.routingKeyPointer];if(r.startsWith(s.DEALER_SEARCH)){r=r.split("/")[0]}const t=k(this.el.querySelector(".autofocus"));if(t!==null){x(t);return}if(this.usingKeyboard){let e=null;if(g(r)){e=k(this.el.querySelector(`[data-id="${r}"]`))}if(e===null){e=k(this.el.querySelector(`${y}`))}if(e!==null){x(e)}return}const i=k(this.el.querySelector(".first-focus"));if(i!==null){x(i)}}async goBackToPreviousMenu(){if(this.routingKeyPointer===this.animatingRoutingKeyPointer){this.clickDrawerHeaderBack.emit();const e=n(this.routingKeyHistory[this.routingKeyPointer]);if(e===s.DEALER_SEARCH){c.play("transitionSameLevelDoubleDrawerReverse")}else{c.play("transitionPreviousLevelDoubleDrawer")}}}async updateRouting(){this.animatingRoutingKey=this.routingKeyHistory[this.routingKeyPointer];this.animatingRoutingKeyPointer=this.routingKeyPointer;const e=this.routingKeyPointer<this.routingKeyHistory.length-1;this.drawerChanged.emit(e);this.sendDoubleDrawerLoadDataEvent()}sendDoubleDrawerLoadDataEvent(){h.setDrawerType(w.DoubleDrawer);const e=this.animatingRoutingKey||"";l.pushDataLayerEvent(b.DRAWER_LOAD,{componentDisplay:{displayElementType:h.calculateDisplayElementType(e,u.doubleDrawer),displayElementId:h.calculateDisplayElementId(),displayElementName:"Double Drawer"}})}sendDataEventOfCloseButtonClick(){const e=this.animatingRoutingKey||"";l.pushDataLayerEvent(b.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:f.Button,targetElement:"level-0"},componentDisplay:{displayElementType:h.calculateDisplayElementType(e,u.closeButton),displayElementId:h.calculateDisplayElementId(),displayElementName:"Double Drawer"}})}animateIfSameLength(e,r){return e.length===r.length&&this.routingKeyPointer===e.length-1&&e[e.length-1]!==r[r.length-1]}componentWillLoad(){this.animatingRoutingKey=this.routingKeyHistory[this.routingKeyPointer];this.animatingRoutingKeyPointer=this.routingKeyPointer;this.usingKeyboard=this.initialUsingKeyboard}componentDidLoad(){const e={onSlideMainDrawerOutEnd:async()=>this.updateRouting(),onGrowHighlightEnd:async()=>this.focusOnInitialElement()};v({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:D.startOpening})},onAnimationEnds:()=>{this.phnDrawerStatus.emit({status:D.finishOpening});this.focusOnInitialElement()}});E({onBackdropFadeOutEnd:async()=>{this.backdropClosed.emit()},onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:D.startClosing})},onAnimationEnds:()=>{this.phnDrawerStatus.emit({status:D.finishClosing})}});j(e);C(e);R(e);R(e,"reverse");this.sendDoubleDrawerLoadDataEvent()}render(){const r=this.routingKeyHistory[this.animatingRoutingKeyPointer-1];const t=m(p.state,r);const d=n(this.animatingRoutingKey);const o=n(r)===s.DEALER_SEARCH;const h=d===s.DEALER_SEARCH&&this.animatingRoutingKey!==d;return e(a,{role:"dialog","aria-modal":"true","aria-label":"navigation modal dialog",style:{left:"-1000px"}},e("phn-p-button",{variant:"secondary",class:"close-button",theme:"dark","hide-label":"true",icon:"close",aria:"{ 'aria-label': 'close modal dialog' }","data-test-id":"close-button",onClick:()=>{this.sendDataEventOfCloseButtonClick();this.clickDrawerHeaderClose.emit()}}),g(this.animatingRoutingKey)?e(i,null,e("div",{class:"drawer",id:"side-drawer"},e(L,{activeRoutingKey:this.animatingRoutingKey,locale:this.locale,backButtonText:o?"":t,onClickBack:()=>this.goBackToPreviousMenu()})),e("div",{class:"drawer",id:"main-drawer"},e(K,{activeRoutingKey:this.animatingRoutingKey,breakpoint:this.breakpoint,locale:this.locale,backButtonText:h?t:"",receivedContent:this.receivedContent,onClickBack:()=>this.goBackToPreviousMenu()}),e("div",{class:"bottom-gradient"}))):null)}get el(){return d(this)}static get watchers(){return{routingKeyPointer:["watchRoutingKeyPointer"],routingKeyHistory:["watchRoutingKeyHistory"]}}};I.style=T;export{I as phn_double_drawer};
//# sourceMappingURL=p-72682262.entry.js.map