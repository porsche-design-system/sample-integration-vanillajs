import{h as e,F as t,r,c as i,H as s,g as a}from"./p-d0fb8c28.js";import{a as n,R as o}from"./p-3b2dda95.js";import{a as d}from"./p-5b086170.js";import{g as h}from"./p-38d3cc75.js";import{p as c,u as p,i as l,F as m,B as f,t as w}from"./p-f7be0ef8.js";import{T as g}from"./p-d6be5c73.js";import{a as b}from"./p-ba3f6f6a.js";import{a as u,e as x,E as y,f as k}from"./p-b43baa04.js";import{i as v,r as j,a as D,b as B,c as C}from"./p-a08c1c40.js";import{a as R}from"./p-4babe3ef.js";import{g as T}from"./p-75afc214.js";import{A}from"./p-0891057c.js";import"./p-f167c919.js";import"./p-c45b4ca8.js";import"./p-19268c27.js";import"./p-5f91e136.js";function E({routingKey:r,previousRoutingKey:i,breakpoint:s,locale:a,showBackButton:n,receivedContent:o}){const{menu:d}=u.state;const h=b(u.state,i!==null&&i!==void 0?i:"")||d.text;return e(t,null,e("div",{class:"bottom-gradient"}),e("div",{class:"drawer-content"},e("phn-drawer-header",{showBackButton:n,backButtonAnalyticsId:d.id,backButtonText:h,activeRoutingKey:r,breakpoint:s,receivedContent:o,locale:a}),e("phn-router",{activeRoutingKey:r,breakpoint:s,locale:a,receivedContent:o})))}const K="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-single-drawer{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-single-drawer{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-single-drawer{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-single-drawer{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-single-drawer-h{display:block}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer{z-index:301;background-color:#fff;position:fixed;top:0;bottom:0;right:0;width:100vw}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{overflow-y:auto;height:100vh;width:100vw;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 1.6875rem 6.25rem 1.6875rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.1875rem 6.25rem 2.1875rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 3.375rem 6.25rem 3.375rem}}@media (min-width: 1000px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.25rem 6.25rem 2.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:1.125rem;margin-bottom:1.9375rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-top:2rem;margin-bottom:2.3125rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-bottom:1.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-router.sc-phn-single-drawer{padding-bottom:4rem}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .bottom-gradient.sc-phn-single-drawer{height:10rem;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(rgb(255, 255, 255)));background:linear-gradient(to bottom, rgba(255, 255, 255, 0), rgb(255, 255, 255));opacity:1;position:absolute;width:100%;bottom:0;margin-left:-1.5rem;pointer-events:none;margin-left:0;z-index:1}";const I=class{constructor(e){r(this,e);this.drawerClosed=i(this,"drawerClosed",7);this.drawerChanged=i(this,"drawerChanged",7);this.drawerStartsClosing=i(this,"drawerStartsClosing",7);this.backdropClosed=i(this,"backdropClosed",7);this.phnDrawerStatus=i(this,"phnDrawerStatus",7);this.focusTimeout=new g(0);this.operationPipeline=[];this.breakpoint=undefined;this.locale=undefined;this.usingKeyboard=false;this.routingKeyHistory=undefined;this.routingKeyPointer=undefined;this.receivedContent=false;this.animatingPointer=-1}handleKeyDown(e){if(e.key!=="Tab"){return}const t=p(e.target);if(t===null){return}let r=T(this.el.querySelector(".active"));if(r.length===0){return}const i=this.routingKeyHistory[this.routingKeyPointer];if(i.startsWith(n.DEALER_SEARCH)){r=r.filter((e=>e.nodeName!=="BUTTON"&&e.nodeName!=="A"))}const s=r[0];const a=r[r.length-1];if(t===s&&e.shiftKey){e.preventDefault();if(a!==null){c(a)}return}if(t===a&&!e.shiftKey){e.preventDefault();if(s!==null){c(s)}return}}handleMobileMenuItemClick(e){if(v()){e.stopPropagation();return}this.animatingPointer=this.routingKeyPointer}handleClickDrawerHeaderClose(e){if(v()){e.stopPropagation();return}}handleClickDrawerHeaderBack(e){if(v()){e.stopPropagation();return}this.animatingPointer=this.routingKeyPointer}onTransitionEnd(){const e=this.animatingPointer>this.routingKeyPointer?this.routingKeyHistory[this.animatingPointer]:"";this.animatingPointer=this.routingKeyPointer;const t=this.routingKeyPointer<this.routingKeyHistory.length-1;this.drawerChanged.emit(t);this.focusTimeout.set((async()=>{this.focusOnActiveDrawer(e)}));this.sendDataLayerEvent()}componentWillLoad(){j({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:f.startOpening})},onAnimationEnds:()=>{this.onTransitionEnd();this.phnDrawerStatus.emit({status:f.finishOpening})}});D({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:f.startClosing})},onAnimationEnds:()=>{this.backdropClosed.emit();this.phnDrawerStatus.emit({status:f.finishClosing})}});B({onAnimationEnds:()=>this.onTransitionEnd()});C({onAnimationEnds:()=>this.onTransitionEnd()})}focusOnActiveDrawer(e){const t=p(this.el.querySelector(".active .autofocus"));if(t!==null){c(t);return}if(this.usingKeyboard){let t=null;if(l(e)){t=p(this.el.querySelector(`.active [data-id="${e}"]`))}if(t===null){t=p(this.el.querySelector(`.active ${m}`))}if(t!==null){c(t)}}else{const e=p(this.el.querySelector(".first-focus"));if(e!==null){c(e)}}}sendDataLayerEvent(){R.setDrawerType(x.SingleDrawer);const e=this.routingKeyHistory[this.routingKeyPointer];h.pushDataLayerEvent(y.DRAWER_LOAD,{componentDisplay:{displayElementType:R.calculateDisplayElementType(e,k.singleDrawer),displayElementId:R.calculateDisplayElementId(),displayElementName:"Single Drawer"}})}disconnectedCallback(){this.focusTimeout.cancel()}async componentDidRender(){const e=[];for(const t of this.operationPipeline){const r=t();if(w(r)){e.push(r)}}await Promise.all(e);this.operationPipeline.splice(0,this.operationPipeline.length)}render(){var t,r;const i=this.routingKeyPointer>this.animatingPointer;const a=this.routingKeyPointer<this.animatingPointer;let n=-1;let h=this.routingKeyPointer;if(i){n=this.routingKeyPointer;h=this.animatingPointer;if(h!==o.LEVEL_ZERO){this.operationPipeline.push((async()=>{d.play(A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER)}))}}else if(a){n=this.animatingPointer;if(h!==o.LEVEL_ZERO){this.operationPipeline.push((async()=>{d.play(A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER)}))}}const c=(t=this.routingKeyHistory[n])!==null&&t!==void 0?t:"";const p=(r=this.routingKeyHistory[h])!==null&&r!==void 0?r:"";return e(s,null,l(p)?e("div",{class:"drawer active",key:p},e("span",{class:"first-focus",tabIndex:-1,"aria-hidden":"true"}),e(E,{routingKey:p,previousRoutingKey:this.routingKeyHistory[h-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:h>0,receivedContent:this.receivedContent})):null,l(c)?e("div",{class:`drawer animating`,style:i?{right:"-100%"}:{},key:c},e(E,{routingKey:c,previousRoutingKey:this.routingKeyHistory[n-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:n>0,receivedContent:this.receivedContent})):null)}get el(){return a(this)}};I.style=K;export{I as phn_single_drawer};
//# sourceMappingURL=p-3b7916e8.entry.js.map