{"version":3,"names":["SideDrawerItemText","isActive","text","subtext","renderSignatures","h","class","isModelName","model","toLowerCase","size","weight","color","tag","isString","isModelFuelTypeGasoline","ellipsis","sideDrawerItemCss","SideDrawerItem","EventActions","NAVIGATION_CLICK","sendDataLayerEvent","clickElementType","elementId","globalDataLayerService","pushDataLayerEvent","this","datalayerEventAction","Object","assign","componentClick","clickElementId","analyticsId","clickElementName","targetElement","analyticsManager","getModelTargetElement","ClickElementTypes","Link","targetUrl","link","customDatalayerProperties","componentDisplay","displayElementId","calculateDisplayElementId","displayElementType","calculateDisplayElementType","ElementTypes","sideDrawerItem","displayElementName","MODEL_RANGE_CLICK","car","modelRangeName","existsSlot","slotName","el","querySelector","render","body","name","externalShop","_a","navContentStore","state","icon","iconRight","stretch","onClick","href","target","Host","active","Button","aria"],"sources":["src/components/side-drawer-item/side-drawer-item-text.tsx","src/components/side-drawer-item/side-drawer-item.scss?tag=phn-side-drawer-item&encapsulation=scoped","src/components/side-drawer-item/side-drawer-item.tsx"],"sourcesContent":["import { h, JSX } from '@stencil/core';\nimport { isModelFuelTypeGasoline, isModelName, isString } from '../../utility/helper';\n\nexport default function SideDrawerItemText({\n  isActive,\n  text,\n  subtext,\n  renderSignatures\n}: {\n  isActive: boolean;\n  text: string;\n  subtext: string;\n  renderSignatures: boolean;\n}): JSX.Element {\n  return (\n    <div class=\"text-container\">\n      {renderSignatures && isModelName(text) ? (\n        <phn-p-model-signature model={text.toLowerCase()} size=\"inherit\" class=\"model-signature\" />\n      ) : (\n        <phn-p-text size=\"inherit\" weight={isActive ? 'semibold' : 'regular'} color=\"inherit\" tag=\"div\">\n          {text}\n        </phn-p-text>\n      )}\n\n      {isString(subtext) && !isModelFuelTypeGasoline(text) ? (\n        <div class=\"text-limit\">\n          <phn-p-text\n            color=\"inherit\"\n            class=\"subtext\"\n            weight=\"regular\"\n            size=\"x-small\"\n            tag=\"div\"\n            ellipsis=\"true\"\n            data-test-id=\"subtext\"\n          >\n            {subtext}\n          </phn-p-text>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","@import '../../scss';\n\n:host {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n\n  phn-p-link-pure,\n  phn-p-button-pure,\n  phn-menu-item {\n    box-sizing: border-box;\n    padding: 0 8px;\n\n    &.models {\n      padding: p-px-to-rem(16px) p-px-to-rem(8px) p-px-to-rem(16px) p-px-to-rem(14px);\n    }\n\n    .body-container {\n      height: p-px-to-rem(52px);\n    }\n\n    phn-p-text {\n      font-size: p-px-to-rem(20px);\n\n      @include pds-media-query-min('l') {\n        font-size: p-px-to-rem(22px);\n      }\n\n      @include pds-media-query-min('xxl') {\n        font-size: p-px-to-rem(24px);\n      }\n    }\n\n    .body-container {\n      max-width: 230px;\n\n      @include pds-media-query-min('l') {\n        max-width: 270px;\n      }\n\n      @include pds-media-query-min('xxl') {\n        max-width: 400px;\n      }\n\n      .text-container {\n        width: 100%;\n      }\n    }\n  }\n\n  .model-signature {\n    height: p-px-to-rem(26px);\n\n    @include pds-media-query-min('xxl') {\n      height: p-px-to-rem(30px);\n    }\n  }\n\n  div.text-limit {\n    @include pds-media-query-min('m') {\n      width: 220px;\n    }\n\n    @include pds-media-query-min('l') {\n      width: 265px;\n    }\n  }\n}\n","import { TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { Component, Element, h, Host, Prop } from '@stencil/core';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { ClickElementType, ClickElementTypes, ElementTypes, EventAction, EventActions } from '../../utility/constants';\nimport { isModelName, isString } from '../../utility/helper';\nimport SideDrawerItemText from './side-drawer-item-text';\nimport { navContentStore } from '../../state/nav-content-store';\n\n@Component({\n  tag: 'phn-side-drawer-item',\n  styleUrl: 'side-drawer-item.scss',\n  scoped: true\n})\nexport class SideDrawerItem {\n  @Prop() text!: string;\n  @Prop() analyticsId!: string;\n  @Prop() subtext = '';\n  @Prop() elementId = '';\n  @Prop() link = '';\n  @Prop() iconRight = '';\n  @Prop() datalayerEventAction: EventAction = EventActions.NAVIGATION_CLICK;\n  @Prop() customDatalayerProperties: TDataLayer = {};\n  @Prop() isActive = false;\n  @Prop() hasDoubleDrawerAnimationFinished = false;\n  @Prop() renderSignatures = false;\n\n  @Element() el!: HTMLPhnSideDrawerItemElement;\n\n  private sendDataLayerEvent(clickElementType: ClickElementType, elementId: string): void {\n    globalDataLayerService.pushDataLayerEvent(this.datalayerEventAction, {\n      componentClick: {\n        clickElementId: this.analyticsId,\n        clickElementName: this.text,\n        targetElement: analyticsManager.getModelTargetElement(elementId, this.text),\n        clickElementType,\n        ...(clickElementType === ClickElementTypes.Link ? { targetUrl: this.link } : {})\n      },\n      ...this.customDatalayerProperties,\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(elementId, ElementTypes.sideDrawerItem, true),\n        displayElementName: this.text\n      },\n      ...(this.datalayerEventAction === EventActions.MODEL_RANGE_CLICK\n        ? {\n            car: {\n              modelRangeName: this.text.toLowerCase()\n            }\n          }\n        : {})\n    });\n  }\n\n  private existsSlot(slotName: string): boolean {\n    return this.el.querySelector(`[slot=\"${slotName}\"]`) !== null;\n  }\n\n  render(): HTMLPhnSideDrawerItemElement {\n    const body = (\n      <div class=\"body-container phn-flex-row phn-align-center\">\n        <SideDrawerItemText\n          isActive={false}\n          text={this.text}\n          subtext={this.subtext}\n          renderSignatures={this.renderSignatures}\n        />\n        {this.existsSlot('suffix') ? (\n          <div>\n            <slot name=\"suffix\" />\n          </div>\n        ) : null}\n      </div>\n    );\n\n    if (isString(this.link)) {\n      const externalShop = navContentStore.state.externalShop?.link === this.link;\n\n      return (\n        <phn-p-link-pure\n          icon={isString(this.iconRight) ? this.iconRight : 'none'}\n          align-label=\"left\"\n          stretch=\"true\"\n          data-id={this.elementId}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Link, this.elementId);\n          }}\n        >\n          <a href={this.link} target={externalShop ? '_blank' : '_self'}>\n            {body}\n          </a>\n        </phn-p-link-pure>\n      );\n    }\n\n    return (\n      <Host class={`${this.isActive ? 'active' : ''}`}>\n        <phn-p-button-pure\n          active={this.isActive}\n          class={isModelName(this.text) ? 'models' : ''}\n          size=\"inherit\"\n          stretch=\"true\"\n          data-id={this.elementId}\n          onClick={() => {\n            this.sendDataLayerEvent(ClickElementTypes.Button, this.elementId);\n          }}\n          aria={{ 'aria-expanded': `${this.isActive ? 'true' : 'false'}` }}\n          icon={'arrow-head-right'}\n          align-label=\"left\"\n        >\n          {body}\n        </phn-p-button-pure>\n      </Host>\n    );\n  }\n}\n"],"mappings":"qYAGwBA,GAAmBC,SACzCA,EAAQC,KACRA,EAAIC,QACJA,EAAOC,iBACPA,IAOA,OACEC,EAAA,OAAKC,MAAM,kBACRF,GAAoBG,EAAYL,GAC/BG,EAAA,yBAAuBG,MAAON,EAAKO,cAAeC,KAAK,UAAUJ,MAAM,oBAEvED,EAAA,cAAYK,KAAK,UAAUC,OAAQV,EAAW,WAAa,UAAWW,MAAM,UAAUC,IAAI,OACvFX,GAIJY,EAASX,KAAaY,EAAwBb,GAC7CG,EAAA,OAAKC,MAAM,cACTD,EAAA,cACEO,MAAM,UACNN,MAAM,UACNK,OAAO,UACPD,KAAK,UACLG,IAAI,MACJG,SAAS,OAAM,eACF,WAEZb,IAGH,KAGV,CCzCA,MAAMc,EAAoB,kgQ,MCcbC,EAAc,M,qFAGP,G,eACE,G,UACL,G,eACK,G,0BACwBC,EAAaC,iB,+BACT,G,cAC7B,M,sCACwB,M,sBAChB,K,CAInB,kBAAAC,CAAmBC,EAAoCC,GAC7DC,EAAuBC,mBAAmBC,KAAKC,qBAAoBC,OAAAC,OAAAD,OAAAC,OAAAD,OAAAC,OAAA,CACjEC,eAAcF,OAAAC,OAAA,CACZE,eAAgBL,KAAKM,YACrBC,iBAAkBP,KAAKxB,KACvBgC,cAAeC,EAAiBC,sBAAsBb,EAAWG,KAAKxB,MACtEoB,oBACIA,IAAqBe,EAAkBC,KAAO,CAAEC,UAAWb,KAAKc,MAAS,KAE5Ed,KAAKe,2BAAyB,CACjCC,iBAAkB,CAChBC,iBAAkBR,EAAiBS,4BACnCC,mBAAoBV,EAAiBW,4BAA4BvB,EAAWwB,EAAaC,eAAgB,MACzGC,mBAAoBvB,KAAKxB,QAEvBwB,KAAKC,uBAAyBR,EAAa+B,kBAC3C,CACEC,IAAK,CACHC,eAAgB1B,KAAKxB,KAAKO,gBAG9B,I,CAIA,UAAA4C,CAAWC,GACjB,OAAO5B,KAAK6B,GAAGC,cAAc,UAAUF,SAAkB,I,CAG3D,MAAAG,G,MACE,MAAMC,EACJrD,EAAA,OAAKC,MAAM,gDACTD,EAACL,EAAkB,CACjBC,SAAU,MACVC,KAAMwB,KAAKxB,KACXC,QAASuB,KAAKvB,QACdC,iBAAkBsB,KAAKtB,mBAExBsB,KAAK2B,WAAW,UACfhD,EAAA,WACEA,EAAA,QAAMsD,KAAK,YAEX,MAIR,GAAI7C,EAASY,KAAKc,MAAO,CACvB,MAAMoB,IAAeC,EAAAC,EAAgBC,MAAMH,gBAAY,MAAAC,SAAA,SAAAA,EAAErB,QAASd,KAAKc,KAEvE,OACEnC,EAAA,mBACE2D,KAAMlD,EAASY,KAAKuC,WAAavC,KAAKuC,UAAY,OAAM,cAC5C,OACZC,QAAQ,OAAM,UACLxC,KAAKH,UACd4C,QAAS,KACPzC,KAAKL,mBAAmBgB,EAAkBC,KAAMZ,KAAKH,UAAU,GAGjElB,EAAA,KAAG+D,KAAM1C,KAAKc,KAAM6B,OAAQT,EAAe,SAAW,SACnDF,G,CAMT,OACErD,EAACiE,EAAI,CAAChE,MAAO,GAAGoB,KAAKzB,SAAW,SAAW,MACzCI,EAAA,qBACEkE,OAAQ7C,KAAKzB,SACbK,MAAOC,EAAYmB,KAAKxB,MAAQ,SAAW,GAC3CQ,KAAK,UACLwD,QAAQ,OAAM,UACLxC,KAAKH,UACd4C,QAAS,KACPzC,KAAKL,mBAAmBgB,EAAkBmC,OAAQ9C,KAAKH,UAAU,EAEnEkD,KAAM,CAAE,gBAAiB,GAAG/C,KAAKzB,SAAW,OAAS,WACrD+D,KAAM,mBAAkB,cACZ,QAEXN,G"}